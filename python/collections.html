
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>collections --- å®¹å™¨æ•°æ®ç±»å‹ &#8212; Python 3.8.2 æ–‡æ¡£</title>
    <link rel="stylesheet" href="pydoctheme.css" tppabs="https://docs.python.org/zh-cn/3/_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="pygments.css" tppabs="https://docs.python.org/zh-cn/3/_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="documentation_options.js" tppabs="https://docs.python.org/zh-cn/3/_static/documentation_options.js"></script>
    <script type="text/javascript" src="jquery.js" tppabs="https://docs.python.org/zh-cn/3/_static/jquery.js"></script>
    <script type="text/javascript" src="underscore.js" tppabs="https://docs.python.org/zh-cn/3/_static/underscore.js"></script>
    <script type="text/javascript" src="doctools.js" tppabs="https://docs.python.org/zh-cn/3/_static/doctools.js"></script>
    <script type="text/javascript" src="language_data.js" tppabs="https://docs.python.org/zh-cn/3/_static/language_data.js"></script>
    <script type="text/javascript" src="translations.js" tppabs="https://docs.python.org/zh-cn/3/_static/translations.js"></script>
    
    <script type="text/javascript" src="sidebar.js" tppabs="https://docs.python.org/zh-cn/3/_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="åœ¨ Python 3.8.2 æ–‡æ¡£ ä¸­æœç´¢"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="å…³äºè¿™äº›æ–‡æ¡£" href="../about.html" />
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="copyright" title="ç‰ˆæƒæ‰€æœ‰" href="../copyright.html" />
    <link rel="next" title="collections.abc --- å®¹å™¨çš„æŠ½è±¡åŸºç±»" href="collections.abc.html" />
    <link rel="prev" title="calendar --- æ—¥å†ç›¸å…³å‡½æ•°" href="calendar.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/collections.html" />
    
      
      <script type="text/javascript" src="switchers.js" tppabs="https://docs.python.org/zh-cn/3/_static/switchers.js"></script>
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>

    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    
    <script type="text/javascript" src="copybutton.js" tppabs="https://docs.python.org/zh-cn/3/_static/copybutton.js"></script>
    
     


  </head><body>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             accesskey="I">ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="collections.abc.html" tppabs="https://docs.python.org/zh-cn/3/library/collections.abc.html" title="collections.abc --- å®¹å™¨çš„æŠ½è±¡åŸºç±»"
             accesskey="N">ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="calendar.html" tppabs="https://docs.python.org/zh-cn/3/library/calendar.html" title="calendar --- æ—¥å†ç›¸å…³å‡½æ•°"
             accesskey="P">ä¸Šä¸€é¡µ</a> |</li>

    <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <span class="language_switcher_placeholder">zh_CN</span>
      <span class="version_switcher_placeholder">3.8.2</span>
      <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index-2.html" tppabs="https://docs.python.org/zh-cn/3/library/index.html" >Python æ ‡å‡†åº“</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="datatypes.html" tppabs="https://docs.python.org/zh-cn/3/library/datatypes.html" accesskey="U">æ•°æ®ç±»å‹</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-collections">
<span id="collections-container-datatypes"></span><h1><a class="reference internal" href="#module-collections" title="collections: Container datatypes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a> --- å®¹å™¨æ•°æ®ç±»å‹<a class="headerlink" href="#module-collections" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<p><strong>Source code:</strong> <a class="reference external" href="javascript:if(confirm('https://github.com/python/cpython/tree/3.8/Lib/collections/__init__.py  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/python/cpython/tree/3.8/Lib/collections/__init__.py'" tppabs="https://github.com/python/cpython/tree/3.8/Lib/collections/__init__.py">Lib/collections/__init__.py</a></p>
<hr class="docutils" />
<p>è¿™ä¸ªæ¨¡å—å®ç°äº†ç‰¹å®šç›®æ ‡çš„å®¹å™¨ï¼Œä»¥æä¾›Pythonæ ‡å‡†å†…å»ºå®¹å™¨  <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> , <a class="reference internal" href="stdtypes.html#list" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> , <a class="reference internal" href="stdtypes.html#set" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> , å’Œ <a class="reference internal" href="stdtypes.html#tuple" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#tuple" title="tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> çš„æ›¿ä»£é€‰æ‹©ã€‚</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#collections.namedtuple" title="collections.namedtuple"><code class="xref py py-func docutils literal notranslate"><span class="pre">namedtuple()</span></code></a></p></td>
<td><p>åˆ›å»ºå‘½åå…ƒç»„å­ç±»çš„å·¥å‚å‡½æ•°</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a></p></td>
<td><p>ç±»ä¼¼åˆ—è¡¨(list)çš„å®¹å™¨ï¼Œå®ç°äº†åœ¨ä¸¤ç«¯å¿«é€Ÿæ·»åŠ (append)å’Œå¼¹å‡º(pop)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a></p></td>
<td><p>ç±»ä¼¼å­—å…¸(dict)çš„å®¹å™¨ç±»ï¼Œå°†å¤šä¸ªæ˜ å°„é›†åˆåˆ°ä¸€ä¸ªè§†å›¾é‡Œé¢</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a></p></td>
<td><p>å­—å…¸çš„å­ç±»ï¼Œæä¾›äº†å¯å“ˆå¸Œå¯¹è±¡çš„è®¡æ•°åŠŸèƒ½</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a></p></td>
<td><p>å­—å…¸çš„å­ç±»ï¼Œä¿å­˜äº†ä»–ä»¬è¢«æ·»åŠ çš„é¡ºåº</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a></p></td>
<td><p>å­—å…¸çš„å­ç±»ï¼Œæä¾›äº†ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œä¸ºå­—å…¸æŸ¥è¯¢æä¾›ä¸€ä¸ªé»˜è®¤å€¼</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a></p></td>
<td><p>å°è£…äº†å­—å…¸å¯¹è±¡ï¼Œç®€åŒ–äº†å­—å…¸å­ç±»åŒ–</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a></p></td>
<td><p>å°è£…äº†åˆ—è¡¨å¯¹è±¡ï¼Œç®€åŒ–äº†åˆ—è¡¨å­ç±»åŒ–</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a></p></td>
<td><p>å°è£…äº†åˆ—è¡¨å¯¹è±¡ï¼Œç®€åŒ–äº†å­—ç¬¦ä¸²å­ç±»åŒ–</p></td>
</tr>
</tbody>
</table>
<div class="deprecated-removed">
<p><span class="versionmodified">Deprecated since version 3.3, will be removed in version 3.10: </span>å·²å°† <a class="reference internal" href="collections.abc.html#collections-abstract-base-classes" tppabs="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections-abstract-base-classes"><span class="std std-ref">å®¹å™¨æŠ½è±¡åŸºç±»</span></a> ç§»è‡³ <a class="reference internal" href="collections.abc.html#module-collections.abc" tppabs="https://docs.python.org/zh-cn/3/library/collections.abc.html#module-collections.abc" title="collections.abc: Abstract base classes for containers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections.abc</span></code></a> æ¨¡å—ã€‚ ä¸ºäº†ä¿æŒå‘ä¸‹å…¼å®¹æ€§ï¼Œå®ƒä»¬åœ¨ Python 3.9 ç‰ˆçš„è¿™ä¸ªæ¨¡å—ä¸­ä»ç„¶å­˜åœ¨ã€‚</p>
</div>
<div class="section" id="chainmap-objects">
<h2><a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> å¯¹è±¡<a class="headerlink" href="#chainmap-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">3.3 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
<p>ä¸€ä¸ª <a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> ç±»æ˜¯ä¸ºäº†å°†å¤šä¸ªæ˜ å°„å¿«é€Ÿçš„é“¾æ¥åˆ°ä¸€èµ·ï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥ä½œä¸ºä¸€ä¸ªå•å…ƒå¤„ç†ã€‚å®ƒé€šå¸¸æ¯”åˆ›å»ºä¸€ä¸ªæ–°å­—å…¸å’Œå¤šæ¬¡è°ƒç”¨ <a class="reference internal" href="stdtypes.html#dict.update" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict.update" title="dict.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code></a> è¦å¿«å¾ˆå¤šã€‚</p>
<p>è¿™ä¸ªç±»å¯ä»¥ç”¨äºæ¨¡æ‹ŸåµŒå¥—ä½œç”¨åŸŸï¼Œå¹¶ä¸”åœ¨æ¨¡ç‰ˆåŒ–çš„æ—¶å€™æ¯”è¾ƒæœ‰ç”¨ã€‚</p>
<dl class="class">
<dt id="collections.ChainMap">
<em class="property">class </em><code class="sig-prename descclassname">collections.</code><code class="sig-name descname">ChainMap</code><span class="sig-paren">(</span><em class="sig-param">*maps</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.ChainMap" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä¸€ä¸ª <a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> å°†å¤šä¸ªå­—å…¸æˆ–è€…å…¶ä»–æ˜ å°„ç»„åˆåœ¨ä¸€èµ·ï¼Œåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å¯æ›´æ–°çš„è§†å›¾ã€‚  å¦‚æœæ²¡æœ‰ <em>maps</em> è¢«æŒ‡å®šï¼Œå°±æä¾›ä¸€ä¸ªé»˜è®¤çš„ç©ºå­—å…¸ï¼Œè¿™æ ·ä¸€ä¸ªæ–°é“¾è‡³å°‘æœ‰ä¸€ä¸ªæ˜ å°„ã€‚</p>
<p>åº•å±‚æ˜ å°„è¢«å­˜å‚¨åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚è¿™ä¸ªåˆ—è¡¨æ˜¯å…¬å¼€çš„ï¼Œå¯ä»¥é€šè¿‡ <em>maps</em> å±æ€§å­˜å–å’Œæ›´æ–°ã€‚æ²¡æœ‰å…¶ä»–çš„çŠ¶æ€ã€‚</p>
<p>æœç´¢æŸ¥è¯¢åº•å±‚æ˜ å°„ï¼Œç›´åˆ°ä¸€ä¸ªé”®è¢«æ‰¾åˆ°ã€‚ä¸åŒçš„æ˜¯ï¼Œå†™ï¼Œæ›´æ–°å’Œåˆ é™¤åªæ“ä½œç¬¬ä¸€ä¸ªæ˜ å°„ã€‚</p>
<p>ä¸€ä¸ª <a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> é€šè¿‡å¼•ç”¨åˆå¹¶åº•å±‚æ˜ å°„ã€‚ æ‰€ä»¥ï¼Œå¦‚æœä¸€ä¸ªåº•å±‚æ˜ å°„æ›´æ–°äº†ï¼Œè¿™äº›æ›´æ”¹ä¼šåæ˜ åˆ° <a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> ã€‚</p>
<p>æ”¯æŒæ‰€æœ‰å¸¸ç”¨å­—å…¸æ–¹æ³•ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ª  <em>maps</em> å±æ€§(attribute)ï¼Œä¸€ä¸ªåˆ›å»ºå­ä¸Šä¸‹æ–‡çš„æ–¹æ³•(method)ï¼Œ ä¸€ä¸ªå­˜å–å®ƒä»¬é¦–ä¸ªæ˜ å°„çš„å±æ€§(property):</p>
<dl class="attribute">
<dt id="collections.ChainMap.maps">
<code class="sig-name descname">maps</code><a class="headerlink" href="#collections.ChainMap.maps" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä¸€ä¸ªå¯ä»¥æ›´æ–°çš„æ˜ å°„åˆ—è¡¨ã€‚è¿™ä¸ªåˆ—è¡¨æ˜¯æŒ‰ç…§ç¬¬ä¸€æ¬¡æœç´¢åˆ°æœ€åä¸€æ¬¡æœç´¢çš„é¡ºåºç»„ç»‡çš„ã€‚å®ƒæ˜¯ä»…æœ‰çš„å­˜å‚¨çŠ¶æ€ï¼Œå¯ä»¥è¢«ä¿®æ”¹ã€‚åˆ—è¡¨æœ€å°‘åŒ…å«ä¸€ä¸ªæ˜ å°„ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="collections.ChainMap.new_child">
<code class="sig-name descname">new_child</code><span class="sig-paren">(</span><em class="sig-param">m=None</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.ChainMap.new_child" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ªæ–°çš„ <a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> ç±»ï¼ŒåŒ…å«äº†ä¸€ä¸ªæ–°æ˜ å°„(map)ï¼Œåé¢è·Ÿéšå½“å‰å®ä¾‹çš„å…¨éƒ¨æ˜ å°„(map)ã€‚å¦‚æœ <code class="docutils literal notranslate"><span class="pre">m</span></code> è¢«æŒ‡å®šï¼Œå®ƒå°±æˆä¸ºä¸åŒæ–°çš„å®ä¾‹ï¼Œå°±æ˜¯åœ¨æ‰€æœ‰æ˜ å°„å‰åŠ ä¸Š mï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œå°±åŠ ä¸Šä¸€ä¸ªç©ºå­—å…¸ï¼Œè¿™æ ·çš„è¯ä¸€ä¸ª <code class="docutils literal notranslate"><span class="pre">d.new_child()</span></code> è°ƒç”¨ç­‰ä»·äº <code class="docutils literal notranslate"><span class="pre">ChainMap({},</span> <span class="pre">*d.maps)</span></code> ã€‚è¿™ä¸ªæ–¹æ³•ç”¨äºåˆ›å»ºå­ä¸Šä¸‹æ–‡ï¼Œä¸æ”¹å˜ä»»ä½•çˆ¶æ˜ å°„çš„å€¼ã€‚</p>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.4 ç‰ˆæ›´æ”¹: </span>æ·»åŠ äº† <code class="docutils literal notranslate"><span class="pre">m</span></code>  å¯é€‰å‚æ•°ã€‚</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="collections.ChainMap.parents">
<code class="sig-name descname">parents</code><a class="headerlink" href="#collections.ChainMap.parents" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å±æ€§è¿”å›ä¸€ä¸ªæ–°çš„ <a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> åŒ…å«æ‰€æœ‰çš„å½“å‰å®ä¾‹çš„æ˜ å°„ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªã€‚è¿™æ ·å¯ä»¥åœ¨æœç´¢çš„æ—¶å€™è·³è¿‡ç¬¬ä¸€ä¸ªæ˜ å°„ã€‚ ä½¿ç”¨çš„åœºæ™¯ç±»ä¼¼åœ¨ <a class="reference internal" href="glossary.html#term-nested-scope" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-nested-scope"><span class="xref std std-term">nested scopes</span></a> åµŒå¥—ä½œç”¨åŸŸä¸­ä½¿ç”¨ <a class="reference internal" href="simple_stmts.html#nonlocal" tppabs="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#nonlocal"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">nonlocal</span></code></a> å…³é”®è¯ã€‚ç”¨ä¾‹ä¹Ÿå¯ä»¥ç±»æ¯”å†…å»ºå‡½æ•°  <a class="reference internal" href="functions.html#super" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#super" title="super"><code class="xref py py-func docutils literal notranslate"><span class="pre">super()</span></code></a> ã€‚ä¸€ä¸ª <code class="docutils literal notranslate"><span class="pre">d.parents</span></code> çš„å¼•ç”¨ç­‰ä»·äº <code class="docutils literal notranslate"><span class="pre">ChainMap(*d.maps[1:])</span></code> ã€‚</p>
</dd></dl>

<p>æ³¨æ„ï¼Œä¸€ä¸ª <a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap()</span></code></a> çš„è¿­ä»£é¡ºåºæ˜¯é€šè¿‡æ‰«ææœ€åçš„æ˜ å°„æ¥ç¡®å®šçš„:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">baseline</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;music&#39;</span><span class="p">:</span> <span class="s1">&#39;bach&#39;</span><span class="p">,</span> <span class="s1">&#39;art&#39;</span><span class="p">:</span> <span class="s1">&#39;rembrandt&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adjustments</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;art&#39;</span><span class="p">:</span> <span class="s1">&#39;van gogh&#39;</span><span class="p">,</span> <span class="s1">&#39;opera&#39;</span><span class="p">:</span> <span class="s1">&#39;carmen&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ChainMap</span><span class="p">(</span><span class="n">adjustments</span><span class="p">,</span> <span class="n">baseline</span><span class="p">))</span>
<span class="go">[&#39;music&#39;, &#39;art&#39;, &#39;opera&#39;]</span>
</pre></div>
</div>
<p>è¿™ç»™å‡ºäº†ä¸ <a class="reference internal" href="stdtypes.html#dict.update" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict.update" title="dict.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.update()</span></code></a> è°ƒç”¨åºåˆ—ç›¸åŒçš„é¡ºåºï¼Œä»æœ€åä¸€ä¸ªæ˜ å°„å¼€å§‹:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">combined</span> <span class="o">=</span> <span class="n">baseline</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combined</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">adjustments</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">combined</span><span class="p">)</span>
<span class="go">[&#39;music&#39;, &#39;art&#39;, &#39;opera&#39;]</span>
</pre></div>
</div>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">å‚è§</p>
<ul class="simple">
<li><p><a class="reference external" href="javascript:if(confirm('https://github.com/enthought/codetools/blob/4.0.0/codetools/contexts/multi_context.py  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/enthought/codetools/blob/4.0.0/codetools/contexts/multi_context.py'" tppabs="https://github.com/enthought/codetools/blob/4.0.0/codetools/contexts/multi_context.py">MultiContext class</a> åœ¨ Enthought <a class="reference external" href="javascript:if(confirm('https://github.com/enthought/codetools  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/enthought/codetools'" tppabs="https://github.com/enthought/codetools">CodeTools package</a> æœ‰æ”¯æŒå†™æ˜ å°„çš„é€‰é¡¹ã€‚</p></li>
<li><p>Django çš„ <a class="reference external" href="javascript:if(confirm('https://github.com/django/django/blob/master/django/template/context.py  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/django/django/blob/master/django/template/context.py'" tppabs="https://github.com/django/django/blob/master/django/template/context.py">Context class</a> æ¨¡ç‰ˆæ˜¯åªè¯»æ˜ å°„ã€‚å®ƒçš„ä¸Šä¸‹æ–‡çš„pushå’Œpopç‰¹æ€§ä¹Ÿç±»ä¼¼äº <a class="reference internal" href="#collections.ChainMap.new_child" title="collections.ChainMap.new_child"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_child()</span></code></a> æ–¹æ³• <a class="reference internal" href="#collections.ChainMap.parents" title="collections.ChainMap.parents"><code class="xref py py-attr docutils literal notranslate"><span class="pre">parents</span></code></a> å±æ€§ã€‚</p></li>
<li><p><a class="reference external" href="javascript:if(confirm('https://code.activestate.com/recipes/577434/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://code.activestate.com/recipes/577434/'" tppabs="https://code.activestate.com/recipes/577434/">Nested Contexts recipe</a> æä¾›äº†æ˜¯å¦å¯¹ç¬¬ä¸€ä¸ªæ˜ å°„æˆ–å…¶ä»–æ˜ å°„è¿›è¡Œå†™å’Œå…¶ä»–ä¿®æ”¹çš„é€‰é¡¹ã€‚</p></li>
<li><p>ä¸€ä¸ª <a class="reference external" href="javascript:if(confirm('https://code.activestate.com/recipes/305268/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://code.activestate.com/recipes/305268/'" tppabs="https://code.activestate.com/recipes/305268/">æç®€çš„åªè¯»ç‰ˆ Chainmap</a>.</p></li>
</ul>
</div>
<div class="section" id="chainmap-examples-and-recipes">
<h3><a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> ä¾‹å­å’Œæ–¹æ³•<a class="headerlink" href="#chainmap-examples-and-recipes" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>è¿™ä¸€èŠ‚æä¾›äº†å¤šä¸ªä½¿ç”¨é“¾æ˜ å°„çš„æ¡ˆä¾‹ã€‚</p>
<p>æ¨¡æ‹ŸPythonå†…éƒ¨lookupé“¾çš„ä¾‹å­</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">builtins</span>
<span class="n">pylookup</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="nb">locals</span><span class="p">(),</span> <span class="nb">globals</span><span class="p">(),</span> <span class="nb">vars</span><span class="p">(</span><span class="n">builtins</span><span class="p">))</span>
</pre></div>
</div>
<p>è®©ç”¨æˆ·æŒ‡å®šçš„å‘½ä»¤è¡Œå‚æ•°ä¼˜å…ˆäºç¯å¢ƒå˜é‡ï¼Œä¼˜å…ˆäºé»˜è®¤å€¼çš„ä¾‹å­</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">argparse</span>

<span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s1">&#39;guest&#39;</span><span class="p">}</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-u&#39;</span><span class="p">,</span> <span class="s1">&#39;--user&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-c&#39;</span><span class="p">,</span> <span class="s1">&#39;--color&#39;</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="n">command_line_args</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">(</span><span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

<span class="n">combined</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">command_line_args</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">,</span> <span class="n">defaults</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>ç”¨ <a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> ç±»æ¨¡æ‹ŸåµŒå¥—ä¸Šä¸‹æ–‡çš„ä¾‹å­</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">()</span>        <span class="c1"># Create root context</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">new_child</span><span class="p">()</span>     <span class="c1"># Create nested child context</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">new_child</span><span class="p">()</span>     <span class="c1"># Child of c, independent from d</span>
<span class="n">e</span><span class="o">.</span><span class="n">maps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>             <span class="c1"># Current context dictionary -- like Python&#39;s locals()</span>
<span class="n">e</span><span class="o">.</span><span class="n">maps</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>            <span class="c1"># Root context -- like Python&#39;s globals()</span>
<span class="n">e</span><span class="o">.</span><span class="n">parents</span>             <span class="c1"># Enclosing context chain -- like Python&#39;s nonlocals</span>

<span class="n">d</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>            <span class="c1"># Set value in current context</span>
<span class="n">d</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>                <span class="c1"># Get first key in the chain of contexts</span>
<span class="k">del</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>            <span class="c1"># Delete from current context</span>
<span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>               <span class="c1"># All nested values</span>
<span class="n">k</span> <span class="ow">in</span> <span class="n">d</span>                <span class="c1"># Check all nested values</span>
<span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>                <span class="c1"># Number of nested values</span>
<span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>             <span class="c1"># All nested items</span>
<span class="nb">dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>               <span class="c1"># Flatten into a regular dictionary</span>
</pre></div>
</div>
<p><a class="reference internal" href="#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> ç±»åªæ›´æ–°é“¾ä¸­çš„ç¬¬ä¸€ä¸ªæ˜ å°„ï¼Œä½†lookupä¼šæœç´¢æ•´ä¸ªé“¾ã€‚ ç„¶è€Œï¼Œå¦‚æœéœ€è¦æ·±åº¦å†™å’Œåˆ é™¤ï¼Œä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“çš„é€šè¿‡å®šä¹‰ä¸€ä¸ªå­ç±»æ¥å®ç°å®ƒ</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DeepChainMap</span><span class="p">(</span><span class="n">ChainMap</span><span class="p">):</span>
    <span class="s1">&#39;Variant of ChainMap that allows direct updates to inner scopes&#39;</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">maps</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mapping</span><span class="p">:</span>
                <span class="n">mapping</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
                <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="fm">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">maps</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mapping</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">mapping</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                <span class="k">return</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">DeepChainMap</span><span class="p">({</span><span class="s1">&#39;zebra&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;elephant&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;lion&#39;</span><span class="p">:</span> <span class="s1">&#39;yellow&#39;</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;lion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;orange&#39;</span>         <span class="c1"># update an existing key two levels down</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;snake&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span>           <span class="c1"># new keys get added to the topmost dict</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">del</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;elephant&#39;</span><span class="p">]</span>            <span class="c1"># remove an existing key one level down</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span>                            <span class="c1"># display result</span>
<span class="n">DeepChainMap</span><span class="p">({</span><span class="s1">&#39;zebra&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;snake&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">},</span> <span class="p">{},</span> <span class="p">{</span><span class="s1">&#39;lion&#39;</span><span class="p">:</span> <span class="s1">&#39;orange&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="counter-objects">
<h2><a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> å¯¹è±¡<a class="headerlink" href="#counter-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>ä¸€ä¸ªè®¡æ•°å™¨å·¥å…·æä¾›å¿«é€Ÿå’Œæ–¹ä¾¿çš„è®¡æ•°ã€‚æ¯”å¦‚</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Tally occurrences of words in a list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cnt</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="n">cnt</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cnt</span>
<span class="go">Counter({&#39;blue&#39;: 3, &#39;red&#39;: 2, &#39;green&#39;: 1})</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Find the ten most common words in Hamlet</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">words</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\w+&#39;</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;hamlet.txt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Counter</span><span class="p">(</span><span class="n">words</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">[(&#39;the&#39;, 1143), (&#39;and&#39;, 966), (&#39;to&#39;, 762), (&#39;of&#39;, 669), (&#39;i&#39;, 631),</span>
<span class="go"> (&#39;you&#39;, 554),  (&#39;a&#39;, 546), (&#39;my&#39;, 514), (&#39;hamlet&#39;, 471), (&#39;in&#39;, 451)]</span>
</pre></div>
</div>
<dl class="class">
<dt id="collections.Counter">
<em class="property">class </em><code class="sig-prename descclassname">collections.</code><code class="sig-name descname">Counter</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">iterable-or-mapping</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.Counter" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä¸€ä¸ª <a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> æ˜¯ä¸€ä¸ª <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> çš„å­ç±»ï¼Œç”¨äºè®¡æ•°å¯å“ˆå¸Œå¯¹è±¡ã€‚å®ƒæ˜¯ä¸€ä¸ªé›†åˆï¼Œå…ƒç´ åƒå­—å…¸é”®(key)ä¸€æ ·å­˜å‚¨ï¼Œå®ƒä»¬çš„è®¡æ•°å­˜å‚¨ä¸ºå€¼ã€‚è®¡æ•°å¯ä»¥æ˜¯ä»»ä½•æ•´æ•°å€¼ï¼ŒåŒ…æ‹¬0å’Œè´Ÿæ•°ã€‚ <a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> ç±»æœ‰ç‚¹åƒå…¶ä»–è¯­è¨€ä¸­çš„ bagsæˆ–multisetsã€‚</p>
<p>å…ƒç´ ä»ä¸€ä¸ª <em>iterable</em> è¢«è®¡æ•°æˆ–ä»å…¶ä»–çš„ <em>mapping</em> (or counter)åˆå§‹åŒ–ï¼š</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>                           <span class="c1"># a new, empty counter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="s1">&#39;gallahad&#39;</span><span class="p">)</span>                 <span class="c1"># a new counter from an iterable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">({</span><span class="s1">&#39;red&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>      <span class="c1"># a new counter from a mapping</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">cats</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">dogs</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>             <span class="c1"># a new counter from keyword args</span>
</pre></div>
</div>
<p>Counterå¯¹è±¡æœ‰ä¸€ä¸ªå­—å…¸æ¥å£ï¼Œå¦‚æœå¼•ç”¨çš„é”®æ²¡æœ‰ä»»ä½•è®°å½•ï¼Œå°±è¿”å›ä¸€ä¸ª0ï¼Œè€Œä¸æ˜¯å¼¹å‡ºä¸€ä¸ª <a class="reference internal" href="exceptions.html#KeyError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#KeyError" title="KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> :</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">([</span><span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="s1">&#39;ham&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;bacon&#39;</span><span class="p">]</span>                              <span class="c1"># count of a missing element is zero</span>
<span class="go">0</span>
</pre></div>
</div>
<p>è®¾ç½®ä¸€ä¸ªè®¡æ•°ä¸º0ä¸ä¼šä»è®¡æ•°å™¨ä¸­ç§»å»ä¸€ä¸ªå…ƒç´ ã€‚ä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">del</span></code> æ¥åˆ é™¤å®ƒ:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;sausage&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>                        <span class="c1"># counter entry with a zero count</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">c</span><span class="p">[</span><span class="s1">&#39;sausage&#39;</span><span class="p">]</span>                        <span class="c1"># del actually removes the entry</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.1 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.7 ç‰ˆæ›´æ”¹: </span>ä½œä¸º <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> çš„å­ç±»ï¼Œ<a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> ç»§æ‰¿äº†è®°ä½æ’å…¥é¡ºåºçš„åŠŸèƒ½ã€‚ <em>Counter</em> å¯¹è±¡è¿›è¡Œæ•°å­¦è¿ç®—æ—¶åŒæ ·ä¼šä¿æŒé¡ºåºã€‚ ç»“æœä¼šå…ˆæŒ‰æ¯ä¸ªå…ƒç´ åœ¨è¿ç®—ç¬¦å·¦è¾¹çš„å‡ºç°æ—¶é—´æ’åºï¼Œç„¶åå†æŒ‰å…¶åœ¨è¿ç®—ç¬¦å³è¾¹çš„å‡ºç°æ—¶é—´æ’åºã€‚</p>
</div>
<p>è®¡æ•°å™¨å¯¹è±¡é™¤äº†å­—å…¸æ–¹æ³•ä»¥å¤–ï¼Œè¿˜æä¾›äº†ä¸‰ä¸ªå…¶ä»–çš„æ–¹æ³•ï¼š</p>
<dl class="method">
<dt id="collections.Counter.elements">
<code class="sig-name descname">elements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.Counter.elements" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ å°†é‡å¤å‡ºç°è®¡æ•°å€¼æ‰€æŒ‡å®šæ¬¡ã€‚ å…ƒç´ ä¼šæŒ‰é¦–æ¬¡å‡ºç°çš„é¡ºåºè¿”å›ã€‚ å¦‚æœä¸€ä¸ªå…ƒç´ çš„è®¡æ•°å€¼å°äºä¸€ï¼Œ<a class="reference internal" href="#collections.Counter.elements" title="collections.Counter.elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">elements()</span></code></a> å°†ä¼šå¿½ç•¥å®ƒã€‚</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">d</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">elements</span><span class="p">())</span>
<span class="go">[&#39;a&#39;, &#39;a&#39;, &#39;a&#39;, &#39;a&#39;, &#39;b&#39;, &#39;b&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="collections.Counter.most_common">
<code class="sig-name descname">most_common</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">n</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.Counter.most_common" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å« <em>n</em> ä¸ªæœ€å¸¸è§çš„å…ƒç´ åŠå‡ºç°æ¬¡æ•°ï¼ŒæŒ‰å¸¸è§ç¨‹åº¦ç”±é«˜åˆ°ä½æ’åºã€‚ å¦‚æœ <em>n</em> è¢«çœç•¥æˆ–ä¸º <code class="docutils literal notranslate"><span class="pre">None</span></code>ï¼Œ<a class="reference internal" href="#collections.Counter.most_common" title="collections.Counter.most_common"><code class="xref py py-meth docutils literal notranslate"><span class="pre">most_common()</span></code></a> å°†è¿”å›è®¡æ•°å™¨ä¸­çš„ <em>æ‰€æœ‰</em> å…ƒç´ ã€‚ è®¡æ•°å€¼ç›¸ç­‰çš„å…ƒç´ æŒ‰é¦–æ¬¡å‡ºç°çš„é¡ºåºæ’åºï¼š</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Counter</span><span class="p">(</span><span class="s1">&#39;abracadabra&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[(&#39;a&#39;, 5), (&#39;b&#39;, 2), (&#39;r&#39;, 2)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="collections.Counter.subtract">
<code class="sig-name descname">subtract</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">iterable-or-mapping</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.Counter.subtract" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä» <em>è¿­ä»£å¯¹è±¡</em> æˆ– <em>æ˜ å°„å¯¹è±¡</em> å‡å»å…ƒç´ ã€‚åƒ <a class="reference internal" href="stdtypes.html#dict.update" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict.update" title="dict.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.update()</span></code></a> ä½†æ˜¯æ˜¯å‡å»ï¼Œè€Œä¸æ˜¯æ›¿æ¢ã€‚è¾“å…¥å’Œè¾“å‡ºéƒ½å¯ä»¥æ˜¯0æˆ–è€…è´Ÿæ•°ã€‚</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">d</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">Counter({&#39;a&#39;: 3, &#39;b&#39;: 0, &#39;c&#39;: -3, &#39;d&#39;: -6})</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.2 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<p>é€šå¸¸å­—å…¸æ–¹æ³•éƒ½å¯ç”¨äº <a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> å¯¹è±¡ï¼Œé™¤äº†æœ‰ä¸¤ä¸ªæ–¹æ³•å·¥ä½œæ–¹å¼ä¸å­—å…¸å¹¶ä¸ç›¸åŒã€‚</p>
<dl class="method">
<dt id="collections.Counter.fromkeys">
<code class="sig-name descname">fromkeys</code><span class="sig-paren">(</span><em class="sig-param">iterable</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.Counter.fromkeys" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿™ä¸ªç±»æ–¹æ³•æ²¡æœ‰åœ¨ <a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> ä¸­å®ç°ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="collections.Counter.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">iterable-or-mapping</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.Counter.update" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä» <em>è¿­ä»£å¯¹è±¡</em> è®¡æ•°å…ƒç´ æˆ–è€… ä»å¦ä¸€ä¸ª <em>æ˜ å°„å¯¹è±¡</em> (æˆ–è®¡æ•°å™¨) æ·»åŠ ã€‚ åƒ <a class="reference internal" href="stdtypes.html#dict.update" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict.update" title="dict.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.update()</span></code></a> ä½†æ˜¯æ˜¯åŠ ä¸Šï¼Œè€Œä¸æ˜¯æ›¿æ¢ã€‚å¦å¤–ï¼Œ<em>è¿­ä»£å¯¹è±¡</em> åº”è¯¥æ˜¯åºåˆ—å…ƒç´ ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">value)</span></code> å¯¹ã€‚</p>
</dd></dl>

</dd></dl>

<p><a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> å¯¹è±¡çš„å¸¸ç”¨æ¡ˆä¾‹</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>                 <span class="c1"># total of all counts</span>
<span class="n">c</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>                       <span class="c1"># reset all counts</span>
<span class="nb">list</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>                         <span class="c1"># list unique elements</span>
<span class="nb">set</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>                          <span class="c1"># convert to a set</span>
<span class="nb">dict</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>                         <span class="c1"># convert to a regular dictionary</span>
<span class="n">c</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>                       <span class="c1"># convert to a list of (elem, cnt) pairs</span>
<span class="n">Counter</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">list_of_pairs</span><span class="p">))</span>    <span class="c1"># convert from a list of (elem, cnt) pairs</span>
<span class="n">c</span><span class="o">.</span><span class="n">most_common</span><span class="p">()[:</span><span class="o">-</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>       <span class="c1"># n least common elements</span>
<span class="o">+</span><span class="n">c</span>                              <span class="c1"># remove zero and negative counts</span>
</pre></div>
</div>
<p>æä¾›äº†å‡ ä¸ªæ•°å­¦æ“ä½œï¼Œå¯ä»¥ç»“åˆ  <a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> å¯¹è±¡ï¼Œä»¥ç”Ÿäº§ multisets (è®¡æ•°å™¨ä¸­å¤§äº0çš„å…ƒç´ ï¼‰ã€‚ åŠ å’Œå‡ï¼Œç»“åˆè®¡æ•°å™¨ï¼Œé€šè¿‡åŠ ä¸Šæˆ–è€…å‡å»å…ƒç´ çš„ç›¸åº”è®¡æ•°ã€‚äº¤é›†å’Œå¹¶é›†è¿”å›ç›¸åº”è®¡æ•°çš„æœ€å°æˆ–æœ€å¤§å€¼ã€‚æ¯ç§æ“ä½œéƒ½å¯ä»¥æ¥å—å¸¦ç¬¦å·çš„è®¡æ•°ï¼Œä½†æ˜¯è¾“å‡ºä¼šå¿½ç•¥æ‰ç»“æœä¸ºé›¶æˆ–è€…å°äºé›¶çš„è®¡æ•°ã€‚</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">+</span> <span class="n">d</span>                       <span class="c1"># add two counters together:  c[x] + d[x]</span>
<span class="go">Counter({&#39;a&#39;: 4, &#39;b&#39;: 3})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">-</span> <span class="n">d</span>                       <span class="c1"># subtract (keeping only positive counts)</span>
<span class="go">Counter({&#39;a&#39;: 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">&amp;</span> <span class="n">d</span>                       <span class="c1"># intersection:  min(c[x], d[x]) </span>
<span class="go">Counter({&#39;a&#39;: 1, &#39;b&#39;: 1})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">|</span> <span class="n">d</span>                       <span class="c1"># union:  max(c[x], d[x])</span>
<span class="go">Counter({&#39;a&#39;: 3, &#39;b&#39;: 2})</span>
</pre></div>
</div>
<p>å•ç›®åŠ å’Œå‡ï¼ˆä¸€å…ƒæ“ä½œç¬¦ï¼‰æ„æ€æ˜¯ä»ç©ºè®¡æ•°å™¨åŠ æˆ–è€…å‡å»ã€‚</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">=-</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">+</span><span class="n">c</span>
<span class="go">Counter({&#39;a&#39;: 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="n">c</span>
<span class="go">Counter({&#39;b&#39;: 4})</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.3 æ–°ç‰ˆåŠŸèƒ½: </span>æ·»åŠ äº†å¯¹ä¸€å…ƒåŠ ï¼Œä¸€å…ƒå‡å’Œä½ç½®é›†åˆæ“ä½œçš„æ”¯æŒã€‚</p>
</div>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>è®¡æ•°å™¨ä¸»è¦æ˜¯ä¸ºäº†è¡¨è¾¾è¿è¡Œçš„æ­£çš„è®¡æ•°è€Œè®¾è®¡ï¼›ä½†æ˜¯ï¼Œå°å¿ƒä¸è¦é¢„å…ˆæ’é™¤è´Ÿæ•°æˆ–è€…å…¶ä»–ç±»å‹ã€‚ä¸ºäº†å¸®åŠ©è¿™äº›ç”¨ä¾‹ï¼Œè¿™ä¸€èŠ‚è®°å½•äº†æœ€å°èŒƒå›´å’Œç±»å‹é™åˆ¶ã€‚</p>
<ul class="simple">
<li><p><a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> ç±»æ˜¯ä¸€ä¸ªå­—å…¸çš„å­ç±»ï¼Œä¸é™åˆ¶é”®å’Œå€¼ã€‚å€¼ç”¨äºè¡¨ç¤ºè®¡æ•°ï¼Œä½†ä½ å®é™…ä¸Š <em>å¯ä»¥</em> å­˜å‚¨ä»»ä½•å…¶ä»–å€¼ã€‚</p></li>
<li><p><a class="reference internal" href="#collections.Counter.most_common" title="collections.Counter.most_common"><code class="xref py py-meth docutils literal notranslate"><span class="pre">most_common()</span></code></a> æ–¹æ³•åœ¨å€¼éœ€è¦æ’åºçš„æ—¶å€™ç”¨ã€‚</p></li>
<li><p>åŸåœ°æ“ä½œæ¯”å¦‚ <code class="docutils literal notranslate"><span class="pre">c[key]</span> <span class="pre">+=</span> <span class="pre">1</span></code> ï¼Œ å€¼ç±»å‹åªéœ€è¦æ”¯æŒåŠ å’Œå‡ã€‚ æ‰€ä»¥åˆ†æ•°ï¼Œå°æ•°ï¼Œå’Œåè¿›åˆ¶éƒ½å¯ä»¥ç”¨ï¼Œè´Ÿå€¼ä¹Ÿå¯ä»¥æ”¯æŒã€‚è¿™ä¸¤ä¸ªæ–¹æ³• <a class="reference internal" href="#collections.Counter.update" title="collections.Counter.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code></a> å’Œ <a class="reference internal" href="#collections.Counter.subtract" title="collections.Counter.subtract"><code class="xref py py-meth docutils literal notranslate"><span class="pre">subtract()</span></code></a> çš„è¾“å…¥å’Œè¾“å‡ºä¹Ÿä¸€æ ·æ”¯æŒè´Ÿæ•°å’Œ0ã€‚</p></li>
<li><p>Multisetå¤šé›†åˆæ–¹æ³•åªä¸ºæ­£å€¼çš„ä½¿ç”¨æƒ…å†µè®¾è®¡ã€‚è¾“å…¥å¯ä»¥æ˜¯è´Ÿæ•°æˆ–è€…0ï¼Œä½†åªè¾“å‡ºè®¡æ•°ä¸ºæ­£çš„å€¼ã€‚æ²¡æœ‰ç±»å‹é™åˆ¶ï¼Œä½†å€¼ç±»å‹éœ€è¦æ”¯æŒåŠ ï¼Œå‡å’Œæ¯”è¾ƒæ“ä½œã€‚</p></li>
<li><p><a class="reference internal" href="#collections.Counter.elements" title="collections.Counter.elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">elements()</span></code></a> æ–¹æ³•è¦æ±‚æ­£æ•´æ•°è®¡æ•°ã€‚å¿½ç•¥0å’Œè´Ÿæ•°è®¡æ•°ã€‚</p></li>
</ul>
</div>
<div class="admonition seealso">
<p class="admonition-title">å‚è§</p>
<ul>
<li><p><a class="reference external" href="javascript:if(confirm('https://www.gnu.org/software/smalltalk/manual-base/html_node/Bag.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.gnu.org/software/smalltalk/manual-base/html_node/Bag.html'" tppabs="https://www.gnu.org/software/smalltalk/manual-base/html_node/Bag.html">Bag class</a> åœ¨ Smalltalkã€‚</p></li>
<li><p>Wikipedia é“¾æ¥ <a class="reference external" href="javascript:if(confirm('https://en.wikipedia.org/wiki/Multiset  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/Multiset'" tppabs="https://en.wikipedia.org/wiki/Multiset">Multisets</a>.</p></li>
<li><p><a class="reference external" href="javascript:if(confirm('http://www.java2s.com/Tutorial/Cpp/0380__set-multiset/Catalog0380__set-multiset.htm  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.java2s.com/Tutorial/Cpp/0380__set-multiset/Catalog0380__set-multiset.htm'" tppabs="http://www.java2s.com/Tutorial/Cpp/0380__set-multiset/Catalog0380__set-multiset.htm">C++ multisets</a> æ•™ç¨‹å’Œä¾‹å­ã€‚</p></li>
<li><p>æ•°å­¦æ“ä½œå’Œå¤šé›†åˆç”¨ä¾‹ï¼Œå‚è€ƒ <em>Knuth, Donald. The Art of Computer Programming Volume II, Section 4.6.3, Exercise 19</em> ã€‚</p></li>
<li><p>åœ¨ç»™å®šæ•°é‡å’Œé›†åˆå…ƒç´ æšä¸¾æ‰€æœ‰ä¸åŒçš„å¤šé›†åˆï¼Œå‚è€ƒ <a class="reference internal" href="itertools.html#itertools.combinations_with_replacement" tppabs="https://docs.python.org/zh-cn/3/library/itertools.html#itertools.combinations_with_replacement" title="itertools.combinations_with_replacement"><code class="xref py py-func docutils literal notranslate"><span class="pre">itertools.combinations_with_replacement()</span></code></a></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">map</span><span class="p">(</span><span class="n">Counter</span><span class="p">,</span> <span class="n">combinations_with_replacement</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="c1"># --&gt; AA AB AC BB BC CC</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="deque-objects">
<h2><a class="reference internal" href="#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a> å¯¹è±¡<a class="headerlink" href="#deque-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<dl class="class">
<dt id="collections.deque">
<em class="property">class </em><code class="sig-prename descclassname">collections.</code><code class="sig-name descname">deque</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">iterable</em><span class="optional">[</span>, <em class="sig-param">maxlen</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ªæ–°çš„åŒå‘é˜Ÿåˆ—å¯¹è±¡ï¼Œä»å·¦åˆ°å³åˆå§‹åŒ–(ç”¨æ–¹æ³• <a class="reference internal" href="#collections.deque.append" title="collections.deque.append"><code class="xref py py-meth docutils literal notranslate"><span class="pre">append()</span></code></a>) ï¼Œä» <em>iterable</em> ï¼ˆè¿­ä»£å¯¹è±¡) æ•°æ®åˆ›å»ºã€‚å¦‚æœ <em>iterable</em> æ²¡æœ‰æŒ‡å®šï¼Œæ–°é˜Ÿåˆ—ä¸ºç©ºã€‚</p>
<p>Dequeé˜Ÿåˆ—æ˜¯ç”±æ ˆæˆ–è€…queueé˜Ÿåˆ—ç”Ÿæˆçš„ï¼ˆå‘éŸ³æ˜¯ â€œdeckâ€ï¼Œâ€double-ended queueâ€çš„ç®€ç§°ï¼‰ã€‚Deque æ”¯æŒçº¿ç¨‹å®‰å…¨ï¼Œå†…å­˜é«˜æ•ˆæ·»åŠ (append)å’Œå¼¹å‡º(pop)ï¼Œä»ä¸¤ç«¯éƒ½å¯ä»¥ï¼Œä¸¤ä¸ªæ–¹å‘çš„å¤§æ¦‚å¼€é”€éƒ½æ˜¯ O(1) å¤æ‚åº¦ã€‚</p>
<p>è™½ç„¶ <a class="reference internal" href="stdtypes.html#list" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> å¯¹è±¡ä¹Ÿæ”¯æŒç±»ä¼¼æ“ä½œï¼Œä¸è¿‡è¿™é‡Œä¼˜åŒ–äº†å®šé•¿æ“ä½œå’Œ <code class="docutils literal notranslate"><span class="pre">pop(0)</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">insert(0,</span> <span class="pre">v)</span></code> çš„å¼€é”€ã€‚å®ƒä»¬å¼•èµ· O(n) å†…å­˜ç§»åŠ¨çš„æ“ä½œï¼Œæ”¹å˜åº•å±‚æ•°æ®è¡¨è¾¾çš„å¤§å°å’Œä½ç½®ã€‚</p>
<p>å¦‚æœ <em>maxlen</em> æ²¡æœ‰æŒ‡å®šæˆ–è€…æ˜¯ <code class="docutils literal notranslate"><span class="pre">None</span></code> ï¼Œdeques å¯ä»¥å¢é•¿åˆ°ä»»æ„é•¿åº¦ã€‚å¦åˆ™ï¼Œdequeå°±é™å®šåˆ°æŒ‡å®šæœ€å¤§é•¿åº¦ã€‚ä¸€æ—¦é™å®šé•¿åº¦çš„dequeæ»¡äº†ï¼Œå½“æ–°é¡¹åŠ å…¥æ—¶ï¼ŒåŒæ ·æ•°é‡çš„é¡¹å°±ä»å¦ä¸€ç«¯å¼¹å‡ºã€‚é™å®šé•¿åº¦dequeæä¾›ç±»ä¼¼Unix filter <code class="docutils literal notranslate"><span class="pre">tail</span></code> çš„åŠŸèƒ½ã€‚å®ƒä»¬åŒæ ·å¯ä»¥ç”¨ä¸è¿½è¸ªæœ€è¿‘çš„äº¤æ¢å’Œå…¶ä»–æ•°æ®æ± æ´»åŠ¨ã€‚</p>
<p>åŒå‘é˜Ÿåˆ—(deque)å¯¹è±¡æ”¯æŒä»¥ä¸‹æ–¹æ³•ï¼š</p>
<dl class="method">
<dt id="collections.deque.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.append" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æ·»åŠ  <em>x</em> åˆ°å³ç«¯ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="collections.deque.appendleft">
<code class="sig-name descname">appendleft</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.appendleft" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æ·»åŠ  <em>x</em> åˆ°å·¦ç«¯ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="collections.deque.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.clear" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ç§»é™¤æ‰€æœ‰å…ƒç´ ï¼Œä½¿å…¶é•¿åº¦ä¸º0.</p>
</dd></dl>

<dl class="method">
<dt id="collections.deque.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.copy" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>åˆ›å»ºä¸€ä»½æµ…æ‹·è´ã€‚</p>
<div class="versionadded">
<p><span class="versionmodified added">3.5 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="collections.deque.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.count" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è®¡ç®— deque ä¸­å…ƒç´ ç­‰äº <em>x</em> çš„ä¸ªæ•°ã€‚</p>
<div class="versionadded">
<p><span class="versionmodified added">3.2 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="collections.deque.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param">iterable</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.extend" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æ‰©å±•dequeçš„å³ä¾§ï¼Œé€šè¿‡æ·»åŠ iterableå‚æ•°ä¸­çš„å…ƒç´ ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="collections.deque.extendleft">
<code class="sig-name descname">extendleft</code><span class="sig-paren">(</span><em class="sig-param">iterable</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.extendleft" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æ‰©å±•dequeçš„å·¦ä¾§ï¼Œé€šè¿‡æ·»åŠ iterableå‚æ•°ä¸­çš„å…ƒç´ ã€‚æ³¨æ„ï¼Œå·¦æ·»åŠ æ—¶ï¼Œåœ¨ç»“æœä¸­iterableå‚æ•°ä¸­çš„é¡ºåºå°†è¢«åè¿‡æ¥æ·»åŠ ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="collections.deque.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="optional">[</span>, <em class="sig-param">start</em><span class="optional">[</span>, <em class="sig-param">stop</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.index" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å› <em>x</em> åœ¨ deque ä¸­çš„ä½ç½®ï¼ˆåœ¨ç´¢å¼• <em>start</em> ä¹‹åï¼Œç´¢å¼• <em>stop</em> ä¹‹å‰ï¼‰ã€‚ è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå¦‚æœæœªæ‰¾åˆ°åˆ™å¼•å‘ <a class="reference internal" href="exceptions.html#ValueError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>ã€‚</p>
<div class="versionadded">
<p><span class="versionmodified added">3.5 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="collections.deque.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.insert" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>åœ¨ä½ç½® <em>i</em> æ’å…¥ <em>x</em> ã€‚</p>
<p>å¦‚æœæ’å…¥ä¼šå¯¼è‡´ä¸€ä¸ªé™é•¿ deque è¶…å‡ºé•¿åº¦ <em>maxlen</em> çš„è¯ï¼Œå°±å¼•å‘ä¸€ä¸ª <a class="reference internal" href="exceptions.html#IndexError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#IndexError" title="IndexError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IndexError</span></code></a>ã€‚</p>
<div class="versionadded">
<p><span class="versionmodified added">3.5 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="collections.deque.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.pop" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ç§»å»å¹¶ä¸”è¿”å›ä¸€ä¸ªå…ƒç´ ï¼Œdeque æœ€å³ä¾§çš„é‚£ä¸€ä¸ªã€‚ å¦‚æœæ²¡æœ‰å…ƒç´ çš„è¯ï¼Œå°±å¼•å‘ä¸€ä¸ª <a class="reference internal" href="exceptions.html#IndexError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#IndexError" title="IndexError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IndexError</span></code></a>ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="collections.deque.popleft">
<code class="sig-name descname">popleft</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.popleft" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ç§»å»å¹¶ä¸”è¿”å›ä¸€ä¸ªå…ƒç´ ï¼Œdeque æœ€å·¦ä¾§çš„é‚£ä¸€ä¸ªã€‚ å¦‚æœæ²¡æœ‰å…ƒç´ çš„è¯ï¼Œå°±å¼•å‘ <a class="reference internal" href="exceptions.html#IndexError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#IndexError" title="IndexError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IndexError</span></code></a>ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="collections.deque.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.remove" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ç§»é™¤æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ª <em>value</em>ã€‚ å¦‚æœæ²¡æœ‰çš„è¯å°±å¼•å‘ <a class="reference internal" href="exceptions.html#ValueError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="collections.deque.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.reverse" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°†dequeé€†åºæ’åˆ—ã€‚è¿”å› <code class="docutils literal notranslate"><span class="pre">None</span></code> ã€‚</p>
<div class="versionadded">
<p><span class="versionmodified added">3.2 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="collections.deque.rotate">
<code class="sig-name descname">rotate</code><span class="sig-paren">(</span><em class="sig-param">n=1</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.deque.rotate" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å‘å³å¾ªç¯ç§»åŠ¨ <em>n</em> æ­¥ã€‚ å¦‚æœ <em>n</em> æ˜¯è´Ÿæ•°ï¼Œå°±å‘å·¦å¾ªç¯ã€‚</p>
<p>å¦‚æœdequeä¸æ˜¯ç©ºçš„ï¼Œå‘å³å¾ªç¯ç§»åŠ¨ä¸€æ­¥å°±ç­‰ä»·äº <code class="docutils literal notranslate"><span class="pre">d.appendleft(d.pop())</span></code> ï¼Œ å‘å·¦å¾ªç¯ä¸€æ­¥å°±ç­‰ä»·äº <code class="docutils literal notranslate"><span class="pre">d.append(d.popleft())</span></code> ã€‚</p>
</dd></dl>

<p>Dequeå¯¹è±¡åŒæ ·æä¾›äº†ä¸€ä¸ªåªè¯»å±æ€§:</p>
<dl class="attribute">
<dt id="collections.deque.maxlen">
<code class="sig-name descname">maxlen</code><a class="headerlink" href="#collections.deque.maxlen" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dequeçš„æœ€å¤§å°ºå¯¸ï¼Œå¦‚æœæ²¡æœ‰é™å®šçš„è¯å°±æ˜¯ <code class="docutils literal notranslate"><span class="pre">None</span></code> ã€‚</p>
<div class="versionadded">
<p><span class="versionmodified added">3.1 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

</dd></dl>

<p>é™¤äº†ä»¥ä¸Šæ“ä½œï¼Œdeque è¿˜æ”¯æŒè¿­ä»£ã€å°å­˜ã€<code class="docutils literal notranslate"><span class="pre">len(d)</span></code>ã€<code class="docutils literal notranslate"><span class="pre">reversed(d)</span></code>ã€<code class="docutils literal notranslate"><span class="pre">copy.copy(d)</span></code>ã€<code class="docutils literal notranslate"><span class="pre">copy.deepcopy(d)</span></code>ã€æˆå‘˜æ£€æµ‹è¿ç®—ç¬¦ <a class="reference internal" href="expressions.html#in" tppabs="https://docs.python.org/zh-cn/3/reference/expressions.html#in"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">in</span></code></a> ä»¥åŠä¸‹æ ‡å¼•ç”¨ä¾‹å¦‚é€šè¿‡ <code class="docutils literal notranslate"><span class="pre">d[0]</span></code> è®¿é—®é¦–ä¸ªå…ƒç´ ç­‰ã€‚ ç´¢å¼•è®¿é—®åœ¨ä¸¤ç«¯çš„å¤æ‚åº¦å‡ä¸º O(1) ä½†åœ¨ä¸­é—´åˆ™ä¼šä½è‡³ O(n)ã€‚ å¦‚éœ€å¿«é€Ÿéšæœºè®¿é—®ï¼Œè¯·æ”¹ç”¨åˆ—è¡¨ã€‚</p>
<p>Dequeä»ç‰ˆæœ¬3.5å¼€å§‹æ”¯æŒ <code class="docutils literal notranslate"><span class="pre">__add__()</span></code>, <code class="docutils literal notranslate"><span class="pre">__mul__()</span></code>, å’Œ <code class="docutils literal notranslate"><span class="pre">__imul__()</span></code> ã€‚</p>
<p>ç¤ºä¾‹:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="s1">&#39;ghi&#39;</span><span class="p">)</span>                 <span class="c1"># make a new deque with three items</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>                   <span class="c1"># iterate over the deque&#39;s elements</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
<span class="go">G</span>
<span class="go">H</span>
<span class="go">I</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;j&#39;</span><span class="p">)</span>                    <span class="c1"># add a new entry to the right side</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">appendleft</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>                <span class="c1"># add a new entry to the left side</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>                                <span class="c1"># show the representation of the deque</span>
<span class="go">deque([&#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>                          <span class="c1"># return and remove the rightmost item</span>
<span class="go">&#39;j&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>                      <span class="c1"># return and remove the leftmost item</span>
<span class="go">&#39;f&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>                          <span class="c1"># list the contents of the deque</span>
<span class="go">[&#39;g&#39;, &#39;h&#39;, &#39;i&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                             <span class="c1"># peek at leftmost item</span>
<span class="go">&#39;g&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                            <span class="c1"># peek at rightmost item</span>
<span class="go">&#39;i&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>                <span class="c1"># list the contents of a deque in reverse</span>
<span class="go">[&#39;i&#39;, &#39;h&#39;, &#39;g&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;h&#39;</span> <span class="ow">in</span> <span class="n">d</span>                         <span class="c1"># search the deque</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="s1">&#39;jkl&#39;</span><span class="p">)</span>                  <span class="c1"># add multiple elements at once</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">deque([&#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                      <span class="c1"># right rotation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">deque([&#39;l&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>                     <span class="c1"># left rotation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">deque([&#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">deque</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>               <span class="c1"># make a new deque in reverse order</span>
<span class="go">deque([&#39;l&#39;, &#39;k&#39;, &#39;j&#39;, &#39;i&#39;, &#39;h&#39;, &#39;g&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>                        <span class="c1"># empty the deque</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>                          <span class="c1"># cannot pop from an empty deque</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;pyshell#6&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">-</span><span class="n">toplevel</span><span class="o">-</span>
        <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="gr">IndexError</span>: <span class="n">pop from an empty deque</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">extendleft</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>              <span class="c1"># extendleft() reverses the input order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">deque([&#39;c&#39;, &#39;b&#39;, &#39;a&#39;])</span>
</pre></div>
</div>
<div class="section" id="deque-recipes">
<h3><a class="reference internal" href="#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a> ç”¨æ³•<a class="headerlink" href="#deque-recipes" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>è¿™ä¸€èŠ‚å±•ç¤ºäº†dequeçš„å¤šç§ç”¨æ³•ã€‚</p>
<p>é™é•¿dequeæä¾›äº†ç±»ä¼¼Unix <code class="docutils literal notranslate"><span class="pre">tail</span></code> è¿‡æ»¤åŠŸèƒ½</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">tail</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="s1">&#39;Return the last n lines of a file&#39;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">deque</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>å¦ä¸€ä¸ªç”¨æ³•æ˜¯ç»´æŠ¤ä¸€ä¸ªè¿‘æœŸæ·»åŠ å…ƒç´ çš„åºåˆ—ï¼Œé€šè¿‡ä»å³è¾¹æ·»åŠ å’Œä»å·¦è¾¹å¼¹å‡º</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">moving_average</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="c1"># moving_average([40, 30, 50, 46, 39, 44]) --&gt; 40.0 42.0 45.0 43.0</span>
    <span class="c1"># http://en.wikipedia.org/wiki/Moving_average</span>
    <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">islice</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">d</span><span class="o">.</span><span class="n">appendleft</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">it</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">elem</span> <span class="o">-</span> <span class="n">d</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="n">d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">s</span> <span class="o">/</span> <span class="n">n</span>
</pre></div>
</div>
<p>ä¸€ä¸ª <a class="reference external" href="javascript:if(confirm('https://en.wikipedia.org/wiki/Round-robin_scheduling  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/Round-robin_scheduling'" tppabs="https://en.wikipedia.org/wiki/Round-robin_scheduling">è½®è¯¢è°ƒåº¦å™¨</a> å¯ä»¥é€šè¿‡åœ¨ <a class="reference internal" href="#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a> ä¸­æ”¾å…¥è¿­ä»£å™¨æ¥å®ç°ã€‚å€¼ä»å½“å‰è¿­ä»£å™¨çš„ä½ç½®0è¢«å–å‡ºå¹¶æš‚å­˜(yield)ã€‚ å¦‚æœè¿™ä¸ªè¿­ä»£å™¨æ¶ˆè€—å®Œæ¯•ï¼Œå°±ç”¨ <a class="reference internal" href="#collections.deque.popleft" title="collections.deque.popleft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">popleft()</span></code></a> å°†å…¶ä»å¯¹åˆ—ä¸­ç§»å»ï¼›å¦åˆ™ï¼Œå°±é€šè¿‡  <a class="reference internal" href="#collections.deque.rotate" title="collections.deque.rotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rotate()</span></code></a> å°†å®ƒç§»åˆ°é˜Ÿåˆ—çš„æœ«å°¾</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">roundrobin</span><span class="p">(</span><span class="o">*</span><span class="n">iterables</span><span class="p">):</span>
    <span class="s2">&quot;roundrobin(&#39;ABC&#39;, &#39;D&#39;, &#39;EF&#39;) --&gt; A D E B F C&quot;</span>
    <span class="n">iterators</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">iter</span><span class="p">,</span> <span class="n">iterables</span><span class="p">))</span>
    <span class="k">while</span> <span class="n">iterators</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">yield</span> <span class="nb">next</span><span class="p">(</span><span class="n">iterators</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">iterators</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
            <span class="c1"># Remove an exhausted iterator.</span>
            <span class="n">iterators</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
</pre></div>
</div>
<p><a class="reference internal" href="#collections.deque.rotate" title="collections.deque.rotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rotate()</span></code></a> æ–¹æ³•æä¾›äº†ä¸€ç§æ–¹å¼æ¥å®ç° <a class="reference internal" href="#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a> åˆ‡ç‰‡å’Œåˆ é™¤ã€‚ ä¾‹å¦‚ï¼Œ ä¸€ä¸ªçº¯çš„Python <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">d[n]</span></code> å®ç°ä¾èµ–äº <code class="docutils literal notranslate"><span class="pre">rotate()</span></code> æ¥å®šä½è¦å¼¹å‡ºçš„å…ƒç´ </p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">delete_nth</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">d</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="o">-</span><span class="n">n</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
    <span class="n">d</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>è¦å®ç° <a class="reference internal" href="#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a> åˆ‡ç‰‡ï¼Œ ä½¿ç”¨ä¸€ä¸ªç±»ä¼¼çš„æ–¹æ³•ï¼Œåº”ç”¨ <a class="reference internal" href="#collections.deque.rotate" title="collections.deque.rotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rotate()</span></code></a> å°†ç›®æ ‡å…ƒç´ æ”¾åˆ°å·¦è¾¹ã€‚é€šè¿‡ <a class="reference internal" href="#collections.deque.popleft" title="collections.deque.popleft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">popleft()</span></code></a> ç§»å»è€çš„æ¡ç›®ï¼ˆentriesï¼‰ï¼Œé€šè¿‡ <a class="reference internal" href="#collections.deque.extend" title="collections.deque.extend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extend()</span></code></a> æ·»åŠ æ–°çš„æ¡ç›®ï¼Œ ç„¶ååå‘ rotateã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥æœ€å°ä»£ä»·å®ç°å‘½ä»¤å¼çš„æ ˆæ“ä½œï¼Œè¯¸å¦‚ <code class="docutils literal notranslate"><span class="pre">dup</span></code>, <code class="docutils literal notranslate"><span class="pre">drop</span></code>, <code class="docutils literal notranslate"><span class="pre">swap</span></code>, <code class="docutils literal notranslate"><span class="pre">over</span></code>, <code class="docutils literal notranslate"><span class="pre">pick</span></code>, <code class="docutils literal notranslate"><span class="pre">rot</span></code>, å’Œ <code class="docutils literal notranslate"><span class="pre">roll</span></code> ã€‚</p>
</div>
</div>
<div class="section" id="defaultdict-objects">
<h2><a class="reference internal" href="#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> å¯¹è±¡<a class="headerlink" href="#defaultdict-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<dl class="class">
<dt id="collections.defaultdict">
<em class="property">class </em><code class="sig-prename descclassname">collections.</code><code class="sig-name descname">defaultdict</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">default_factory</em><span class="optional">[</span>, <em class="sig-param">...</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.defaultdict" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ªæ–°çš„ç±»ä¼¼å­—å…¸çš„å¯¹è±¡ã€‚ <a class="reference internal" href="#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> æ˜¯å†…ç½® <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> ç±»çš„å­ç±»ã€‚å®ƒé‡è½½äº†ä¸€ä¸ªæ–¹æ³•å¹¶æ·»åŠ äº†ä¸€ä¸ªå¯å†™çš„å®ä¾‹å˜é‡ã€‚å…¶ä½™çš„åŠŸèƒ½ä¸ <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> ç±»ç›¸åŒï¼Œæ­¤å¤„ä¸å†é‡å¤è¯´æ˜ã€‚</p>
<p>æœ¬å¯¹è±¡åŒ…å«ä¸€ä¸ªåä¸º <a class="reference internal" href="#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> çš„å±æ€§ï¼Œæ„é€ æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç”¨äºä¸ºè¯¥å±æ€§æä¾›åˆå§‹å€¼ï¼Œé»˜è®¤ä¸º <code class="docutils literal notranslate"><span class="pre">None</span></code>ã€‚æ‰€æœ‰å…¶ä»–å‚æ•°ï¼ˆåŒ…æ‹¬å…³é”®å­—å‚æ•°ï¼‰éƒ½ç›¸å½“äºä¼ é€’ç»™ <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> çš„æ„é€ å‡½æ•°ã€‚</p>
<p><a class="reference internal" href="#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> å¯¹è±¡é™¤äº†æ”¯æŒæ ‡å‡† <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> çš„æ“ä½œï¼Œè¿˜æ”¯æŒä»¥ä¸‹æ–¹æ³•ä½œä¸ºæ‰©å±•ï¼š</p>
<dl class="method">
<dt id="collections.defaultdict.__missing__">
<code class="sig-name descname">__missing__</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.defaultdict.__missing__" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å¦‚æœ <a class="reference internal" href="#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> å±æ€§ä¸º <code class="docutils literal notranslate"><span class="pre">None</span></code>ï¼Œåˆ™è°ƒç”¨æœ¬æ–¹æ³•ä¼šæŠ›å‡º <a class="reference internal" href="exceptions.html#KeyError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#KeyError" title="KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> å¼‚å¸¸ï¼Œé™„å¸¦å‚æ•° <em>key</em>ã€‚</p>
<p>å¦‚æœ <a class="reference internal" href="#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> ä¸ä¸º <code class="docutils literal notranslate"><span class="pre">None</span></code>ï¼Œåˆ™å®ƒä¼šè¢«ï¼ˆä¸å¸¦å‚æ•°åœ°ï¼‰è°ƒç”¨æ¥ä¸º <em>key</em> æä¾›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œè¿™ä¸ªå€¼å’Œ <em>key</em> ä½œä¸ºä¸€å¯¹é”®å€¼å¯¹è¢«æ’å…¥åˆ°å­—å…¸ä¸­ï¼Œå¹¶ä½œä¸ºæœ¬æ–¹æ³•çš„è¿”å›å€¼è¿”å›ã€‚</p>
<p>å¦‚æœè°ƒç”¨ <a class="reference internal" href="#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> æ—¶æŠ›å‡ºäº†å¼‚å¸¸ï¼Œè¿™ä¸ªå¼‚å¸¸ä¼šåŸå°ä¸åŠ¨åœ°å‘å¤–å±‚ä¼ é€’ã€‚</p>
<p>åœ¨æ— æ³•æ‰¾åˆ°æ‰€éœ€é”®å€¼æ—¶ï¼Œæœ¬æ–¹æ³•ä¼šè¢« <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> ä¸­çš„ <a class="reference internal" href="datamodel.html#object.__getitem__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a> æ–¹æ³•è°ƒç”¨ã€‚æ— è®ºæœ¬æ–¹æ³•è¿”å›äº†å€¼è¿˜æ˜¯æŠ›å‡ºäº†å¼‚å¸¸ï¼Œéƒ½ä¼šè¢« <a class="reference internal" href="datamodel.html#object.__getitem__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a> ä¼ é€’ã€‚</p>
<p>æ³¨æ„ï¼Œ<a class="reference internal" href="#collections.defaultdict.__missing__" title="collections.defaultdict.__missing__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__missing__()</span></code></a> <em>ä¸ä¼š</em> è¢« <a class="reference internal" href="datamodel.html#object.__getitem__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a> ä»¥å¤–çš„å…¶ä»–æ–¹æ³•è°ƒç”¨ã€‚æ„å‘³ç€ <code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code> ä¼šåƒæ­£å¸¸çš„ dict é‚£æ ·è¿”å› <code class="docutils literal notranslate"><span class="pre">None</span></code>ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ <a class="reference internal" href="#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a>ã€‚</p>
</dd></dl>

<p><a class="reference internal" href="#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> å¯¹è±¡æ”¯æŒä»¥ä¸‹å®ä¾‹å˜é‡ï¼š</p>
<dl class="attribute">
<dt id="collections.defaultdict.default_factory">
<code class="sig-name descname">default_factory</code><a class="headerlink" href="#collections.defaultdict.default_factory" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æœ¬å±æ€§ç”± <a class="reference internal" href="#collections.defaultdict.__missing__" title="collections.defaultdict.__missing__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__missing__()</span></code></a> æ–¹æ³•æ¥è°ƒç”¨ã€‚å¦‚æœæ„é€ å¯¹è±¡æ—¶æä¾›äº†ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåˆ™æœ¬å±æ€§ä¼šè¢«åˆå§‹åŒ–æˆé‚£ä¸ªå‚æ•°ï¼Œå¦‚æœæœªæä¾›ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåˆ™æœ¬å±æ€§ä¸º <code class="docutils literal notranslate"><span class="pre">None</span></code>ã€‚</p>
</dd></dl>

</dd></dl>

<div class="section" id="defaultdict-examples">
<h3><a class="reference internal" href="#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> ä¾‹å­<a class="headerlink" href="#defaultdict-examples" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>ä½¿ç”¨ <a class="reference internal" href="stdtypes.html#list" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> ä½œä¸º <a class="reference internal" href="#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a>ï¼Œå¾ˆè½»æ¾åœ°å°†ï¼ˆé”®-å€¼å¯¹ç»„æˆçš„ï¼‰åºåˆ—è½¬æ¢ä¸ºï¼ˆé”®-åˆ—è¡¨ç»„æˆçš„ï¼‰å­—å…¸ï¼š</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(&#39;blue&#39;, [2, 4]), (&#39;red&#39;, [1]), (&#39;yellow&#39;, [1, 3])]</span>
</pre></div>
</div>
<p>å½“æ¯ä¸ªé”®ç¬¬ä¸€æ¬¡é‡è§æ—¶ï¼Œå®ƒè¿˜æ²¡æœ‰åœ¨å­—å…¸é‡Œé¢ï¼Œæ‰€ä»¥è‡ªåŠ¨åˆ›å»ºè¯¥æ¡ç›®ï¼Œå³è°ƒç”¨ <a class="reference internal" href="#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªç©ºçš„ <a class="reference internal" href="stdtypes.html#list" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>ã€‚ <code class="xref py py-meth docutils literal notranslate"><span class="pre">list.append()</span></code> æ“ä½œæ·»åŠ å€¼åˆ°è¿™ä¸ªæ–°çš„åˆ—è¡¨é‡Œã€‚å½“å†æ¬¡å­˜å–è¯¥é”®æ—¶ï¼Œå°±æ­£å¸¸æ“ä½œï¼Œ<code class="xref py py-meth docutils literal notranslate"><span class="pre">list.append()</span></code> æ·»åŠ å¦ä¸€ä¸ªå€¼åˆ°åˆ—è¡¨ä¸­ã€‚è¿™ä¸ªè®¡æ•°æ¯”å®ƒçš„ç­‰ä»·æ–¹æ³• <a class="reference internal" href="stdtypes.html#dict.setdefault" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict.setdefault" title="dict.setdefault"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.setdefault()</span></code></a> è¦å¿«é€Ÿå’Œç®€å•ï¼š</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">d</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(&#39;blue&#39;, [2, 4]), (&#39;red&#39;, [1]), (&#39;yellow&#39;, [1, 3])]</span>
</pre></div>
</div>
<p>è®¾ç½® <a class="reference internal" href="#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> ä¸º <a class="reference internal" href="functions.html#int" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>ï¼Œä½¿ <a class="reference internal" href="#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> ç”¨äºè®¡æ•°ï¼ˆç±»ä¼¼å…¶ä»–è¯­è¨€ä¸­çš„ bag æˆ– multisetï¼‰ï¼š</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;mississippi&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(&#39;i&#39;, 4), (&#39;m&#39;, 1), (&#39;p&#39;, 2), (&#39;s&#39;, 4)]</span>
</pre></div>
</div>
<p>å½“ä¸€ä¸ªå­—æ¯é¦–æ¬¡é‡åˆ°æ—¶ï¼Œå®ƒä¼šæŸ¥è¯¢å¤±è´¥ï¼Œåˆ™ <a class="reference internal" href="#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> ä¼šè°ƒç”¨ <a class="reference internal" href="functions.html#int" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#int" title="int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a> æ¥æä¾›ä¸€ä¸ªæ•´æ•° 0 ä½œä¸ºé»˜è®¤å€¼ã€‚åç»­çš„è‡ªå¢æ“ä½œå»ºç«‹èµ·å¯¹æ¯ä¸ªå­—æ¯çš„è®¡æ•°ã€‚</p>
<p>å‡½æ•° <a class="reference internal" href="functions.html#int" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#int" title="int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a> æ€»æ˜¯è¿”å› 0ï¼Œè¿™æ˜¯å¸¸æ•°å‡½æ•°çš„ç‰¹æ®Šæƒ…å†µã€‚ä¸€ä¸ªæ›´å¿«å’Œçµæ´»çš„æ–¹æ³•æ˜¯ä½¿ç”¨ lambda å‡½æ•°ï¼Œå¯ä»¥æä¾›ä»»ä½•å¸¸é‡å€¼ï¼ˆä¸åªæ˜¯0ï¼‰ï¼š</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">constant_factory</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="n">constant_factory</span><span class="p">(</span><span class="s1">&#39;&lt;missing&gt;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;ran&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;</span><span class="si">%(name)s</span><span class="s1"> </span><span class="si">%(action)s</span><span class="s1"> to </span><span class="si">%(object)s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">d</span>
<span class="go">&#39;John ran to &lt;missing&gt;&#39;</span>
</pre></div>
</div>
<p>è®¾ç½® <a class="reference internal" href="#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> ä¸º <a class="reference internal" href="stdtypes.html#set" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> ä½¿ <a class="reference internal" href="#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> ç”¨äºæ„å»º set é›†åˆï¼š</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(&#39;blue&#39;, {2, 4}), (&#39;red&#39;, {1, 3})]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="namedtuple-factory-function-for-tuples-with-named-fields">
<h2><a class="reference internal" href="#collections.namedtuple" title="collections.namedtuple"><code class="xref py py-func docutils literal notranslate"><span class="pre">namedtuple()</span></code></a> å‘½åå…ƒç»„çš„å·¥å‚å‡½æ•°<a class="headerlink" href="#namedtuple-factory-function-for-tuples-with-named-fields" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>å‘½åå…ƒç»„èµ‹äºˆæ¯ä¸ªä½ç½®ä¸€ä¸ªå«ä¹‰ï¼Œæä¾›å¯è¯»æ€§å’Œè‡ªæ–‡æ¡£æ€§ã€‚å®ƒä»¬å¯ä»¥ç”¨äºä»»ä½•æ™®é€šå…ƒç»„ï¼Œå¹¶æ·»åŠ äº†é€šè¿‡åå­—è·å–å€¼çš„èƒ½åŠ›ï¼Œé€šè¿‡ç´¢å¼•å€¼ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<dl class="function">
<dt id="collections.namedtuple">
<code class="sig-prename descclassname">collections.</code><code class="sig-name descname">namedtuple</code><span class="sig-paren">(</span><em class="sig-param">typename</em>, <em class="sig-param">field_names</em>, <em class="sig-param">*</em>, <em class="sig-param">rename=False</em>, <em class="sig-param">defaults=None</em>, <em class="sig-param">module=None</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.namedtuple" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ªæ–°çš„å…ƒç»„å­ç±»ï¼Œåä¸º <em>typename</em> ã€‚è¿™ä¸ªæ–°çš„å­ç±»ç”¨äºåˆ›å»ºç±»å…ƒç»„çš„å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡åŸŸåæ¥è·å–å±æ€§å€¼ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼•å’Œè¿­ä»£è·å–å€¼ã€‚å­ç±»å®ä¾‹åŒæ ·æœ‰æ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆç±»åå’ŒåŸŸåï¼‰å¦å¤–ä¸€ä¸ªæœ‰ç”¨çš„ <a class="reference internal" href="datamodel.html#object.__repr__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__repr__" title="object.__repr__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__repr__()</span></code></a> æ–¹æ³•ï¼Œä»¥ <code class="docutils literal notranslate"><span class="pre">name=value</span></code> æ ¼å¼åˆ—æ˜äº†å…ƒç»„å†…å®¹ã€‚</p>
<p><em>field_names</em> æ˜¯ä¸€ä¸ªåƒ <code class="docutils literal notranslate"><span class="pre">[â€˜xâ€™,</span> <span class="pre">â€˜yâ€™]</span></code> ä¸€æ ·çš„å­—ç¬¦ä¸²åºåˆ—ã€‚å¦å¤– <em>field_names</em> å¯ä»¥æ˜¯ä¸€ä¸ªçº¯å­—ç¬¦ä¸²ï¼Œç”¨ç©ºç™½æˆ–é€—å·åˆ†éš”å¼€å…ƒç´ åï¼Œæ¯”å¦‚ <code class="docutils literal notranslate"><span class="pre">'x</span> <span class="pre">y'</span></code> æˆ–è€… <code class="docutils literal notranslate"><span class="pre">'x,</span> <span class="pre">y'</span></code> ã€‚</p>
<p>ä»»ä½•æœ‰æ•ˆçš„Python æ ‡è¯†ç¬¦éƒ½å¯ä»¥ä½œä¸ºåŸŸåï¼Œé™¤äº†ä¸‹åˆ’çº¿å¼€å¤´çš„é‚£äº›ã€‚æœ‰æ•ˆæ ‡è¯†ç¬¦ç”±å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ç»„æˆï¼Œä½†é¦–å­—æ¯ä¸èƒ½æ˜¯æ•°å­—æˆ–ä¸‹åˆ’çº¿ï¼Œå¦å¤–ä¸èƒ½æ˜¯å…³é”®è¯ <a class="reference internal" href="keyword.html#module-keyword" tppabs="https://docs.python.org/zh-cn/3/library/keyword.html#module-keyword" title="keyword: Test whether a string is a keyword in Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">keyword</span></code></a> æ¯”å¦‚ <em>class</em>, <em>for</em>, <em>return</em>, <em>global</em>, <em>pass</em>, æˆ– <em>raise</em> ã€‚</p>
<p>å¦‚æœ <em>rename</em> ä¸ºçœŸï¼Œ æ— æ•ˆåŸŸåä¼šè‡ªåŠ¨è½¬æ¢æˆä½ç½®åã€‚æ¯”å¦‚ <code class="docutils literal notranslate"><span class="pre">['abc',</span> <span class="pre">'def',</span> <span class="pre">'ghi',</span> <span class="pre">'abc']</span></code> è½¬æ¢æˆ <code class="docutils literal notranslate"><span class="pre">['abc',</span> <span class="pre">'_1',</span> <span class="pre">'ghi',</span> <span class="pre">'_3']</span></code> ï¼Œ æ¶ˆé™¤å…³é”®è¯ <code class="docutils literal notranslate"><span class="pre">def</span></code>  å’Œé‡å¤åŸŸå <code class="docutils literal notranslate"><span class="pre">abc</span></code> ã€‚</p>
<p><em>defaults</em> å¯ä»¥ä¸º <code class="docutils literal notranslate"><span class="pre">None</span></code> æˆ–è€…æ˜¯ä¸€ä¸ªé»˜è®¤å€¼çš„ <a class="reference internal" href="glossary.html#term-iterable" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-iterable"><span class="xref std std-term">iterable</span></a> ã€‚å¦‚æœä¸€ä¸ªé»˜è®¤å€¼åŸŸå¿…é¡»è·Ÿå…¶ä»–æ²¡æœ‰é»˜è®¤å€¼çš„åŸŸåœ¨ä¸€èµ·å‡ºç°ï¼Œ<em>defaults</em> å°±åº”ç”¨åˆ°æœ€å³è¾¹çš„å‚æ•°ã€‚æ¯”å¦‚å¦‚æœåŸŸå <code class="docutils literal notranslate"><span class="pre">['x',</span> <span class="pre">'y',</span> <span class="pre">'z']</span></code> å’Œé»˜è®¤å€¼ <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2)</span></code> ï¼Œé‚£ä¹ˆ <code class="docutils literal notranslate"><span class="pre">x</span></code> å°±å¿…é¡»æŒ‡å®šä¸€ä¸ªå‚æ•°å€¼ ï¼Œ<code class="docutils literal notranslate"><span class="pre">y</span></code> é»˜è®¤å€¼ <code class="docutils literal notranslate"><span class="pre">1</span></code> ï¼Œ <code class="docutils literal notranslate"><span class="pre">z</span></code> é»˜è®¤å€¼ <code class="docutils literal notranslate"><span class="pre">2</span></code> ã€‚</p>
<p>å¦‚æœ <em>module</em> å€¼æœ‰å®šä¹‰ï¼Œå‘½åå…ƒç»„çš„ <code class="docutils literal notranslate"><span class="pre">__module__</span></code> å±æ€§å€¼å°±è¢«è®¾ç½®ã€‚</p>
<p>å‘½åå…ƒç»„å®ä¾‹æ²¡æœ‰å­—å…¸ï¼Œæ‰€ä»¥å®ƒä»¬è¦æ›´è½»é‡ï¼Œå¹¶ä¸”å ç”¨æ›´å°å†…å­˜ã€‚</p>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.1 ç‰ˆæ›´æ”¹: </span>æ·»åŠ äº†å¯¹ <em>rename</em> çš„æ”¯æŒã€‚</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.6 ç‰ˆæ›´æ”¹: </span><em>verbose</em> å’Œ <em>rename</em> å‚æ•°æˆä¸º <a class="reference internal" href="glossary.html#keyword-only-parameter" tppabs="https://docs.python.org/zh-cn/3/glossary.html#keyword-only-parameter"><span class="std std-ref">ä»…é™å…³é”®å­—å‚æ•°</span></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.6 ç‰ˆæ›´æ”¹: </span>æ·»åŠ äº† <em>module</em> å‚æ•°ã€‚</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.7 ç‰ˆæ›´æ”¹: </span>ç§»é™¤äº† <em>verbose</em> å½¢å‚å’Œ <code class="xref py py-attr docutils literal notranslate"><span class="pre">_source</span></code> å±æ€§ã€‚</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.7 ç‰ˆæ›´æ”¹: </span>æ·»åŠ äº† <em>defaults</em> å‚æ•°å’Œ <code class="xref py py-attr docutils literal notranslate"><span class="pre">_field_defaults</span></code> å±æ€§ã€‚</p>
</div>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Basic example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>     <span class="c1"># instantiate with positional or keyword arguments</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>             <span class="c1"># indexable like the plain tuple (11, 22)</span>
<span class="go">33</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">p</span>                <span class="c1"># unpack like a regular tuple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span>
<span class="go">(11, 22)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">y</span>               <span class="c1"># fields also accessible by name</span>
<span class="go">33</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>                       <span class="c1"># readable __repr__ with a name=value style</span>
<span class="go">Point(x=11, y=22)</span>
</pre></div>
</div>
<p>å‘½åå…ƒç»„å°¤å…¶æœ‰ç”¨äºèµ‹å€¼ <a class="reference internal" href="csv.html#module-csv" tppabs="https://docs.python.org/zh-cn/3/library/csv.html#module-csv" title="csv: Write and read tabular data to and from delimited files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">csv</span></code></a>  <a class="reference internal" href="sqlite3.html#module-sqlite3" tppabs="https://docs.python.org/zh-cn/3/library/sqlite3.html#module-sqlite3" title="sqlite3: A DB-API 2.0 implementation using SQLite 3.x."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlite3</span></code></a> æ¨¡å—è¿”å›çš„å…ƒç»„</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">EmployeeRecord</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;EmployeeRecord&#39;</span><span class="p">,</span> <span class="s1">&#39;name, age, title, department, paygrade&#39;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">csv</span>
<span class="k">for</span> <span class="n">emp</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">EmployeeRecord</span><span class="o">.</span><span class="n">_make</span><span class="p">,</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;employees.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">))):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">emp</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">sqlite3</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;/companydata&#39;</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT name, age, title, department, paygrade FROM employees&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">emp</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">EmployeeRecord</span><span class="o">.</span><span class="n">_make</span><span class="p">,</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">emp</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
<p>é™¤äº†ç»§æ‰¿å…ƒç»„çš„æ–¹æ³•ï¼Œå‘½åå…ƒç»„è¿˜æ”¯æŒä¸‰ä¸ªé¢å¤–çš„æ–¹æ³•å’Œä¸¤ä¸ªå±æ€§ã€‚ä¸ºäº†é˜²æ­¢åŸŸåå†²çªï¼Œæ–¹æ³•å’Œå±æ€§ä»¥ä¸‹åˆ’çº¿å¼€å§‹ã€‚</p>
<dl class="method">
<dt id="collections.somenamedtuple._make">
<em class="property">classmethod </em><code class="sig-prename descclassname">somenamedtuple.</code><code class="sig-name descname">_make</code><span class="sig-paren">(</span><em class="sig-param">iterable</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.somenamedtuple._make" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ç±»æ–¹æ³•ä»å­˜åœ¨çš„åºåˆ—æˆ–è¿­ä»£å®ä¾‹åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ã€‚</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span><span class="o">.</span><span class="n">_make</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">Point(x=11, y=22)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="collections.somenamedtuple._asdict">
<code class="sig-prename descclassname">somenamedtuple.</code><code class="sig-name descname">_asdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.somenamedtuple._asdict" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ªæ–°çš„ <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> ï¼Œå®ƒå°†å­—æ®µåç§°æ˜ å°„åˆ°å®ƒä»¬å¯¹åº”çš„å€¼ï¼š</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">_asdict</span><span class="p">()</span>
<span class="go">{&#39;x&#39;: 11, &#39;y&#39;: 22}</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.1 ç‰ˆæ›´æ”¹: </span>è¿”å›ä¸€ä¸ª <a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> è€Œä¸æ˜¯  <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> ã€‚</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.8 ç‰ˆæ›´æ”¹: </span>è¿”å›ä¸€ä¸ªå¸¸è§„ <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> è€Œä¸æ˜¯ <a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a>ã€‚ å› ä¸ºè‡ª Python 3.7 èµ·ï¼Œå¸¸è§„å­—å…¸å·²ç»ä¿è¯æœ‰åºã€‚ å¦‚æœéœ€è¦ <a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> çš„é¢å¤–ç‰¹æ€§ï¼Œæ¨èçš„è§£å†³æ–¹æ¡ˆæ˜¯å°†ç»“æœè½¬æ¢ä¸ºéœ€è¦çš„ç±»å‹: <code class="docutils literal notranslate"><span class="pre">OrderedDict(nt._asdict())</span></code>ã€‚</p>
</div>
</dd></dl>

<dl class="method">
<dt id="collections.somenamedtuple._replace">
<code class="sig-prename descclassname">somenamedtuple.</code><code class="sig-name descname">_replace</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.somenamedtuple._replace" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ªæ–°çš„å‘½åå…ƒç»„å®ä¾‹ï¼Œå¹¶å°†æŒ‡å®šåŸŸæ›¿æ¢ä¸ºæ–°çš„å€¼</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">33</span><span class="p">)</span>
<span class="go">Point(x=33, y=22)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">partnum</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">inventory</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">inventory</span><span class="p">[</span><span class="n">partnum</span><span class="p">]</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">price</span><span class="o">=</span><span class="n">newprices</span><span class="p">[</span><span class="n">partnum</span><span class="p">],</span> <span class="n">timestamp</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="collections.somenamedtuple._fields">
<code class="sig-prename descclassname">somenamedtuple.</code><code class="sig-name descname">_fields</code><a class="headerlink" href="#collections.somenamedtuple._fields" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å­—ç¬¦ä¸²å…ƒç»„åˆ—å‡ºäº†åŸŸåã€‚ç”¨äºæé†’å’Œä»ç°æœ‰å…ƒç»„åˆ›å»ºä¸€ä¸ªæ–°çš„å‘½åå…ƒç»„ç±»å‹ã€‚</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">_fields</span>            <span class="c1"># view the field names</span>
<span class="go">(&#39;x&#39;, &#39;y&#39;)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Color</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Color&#39;</span><span class="p">,</span> <span class="s1">&#39;red green blue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Pixel</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Pixel&#39;</span><span class="p">,</span> <span class="n">Point</span><span class="o">.</span><span class="n">_fields</span> <span class="o">+</span> <span class="n">Color</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Pixel</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">Pixel(x=11, y=22, red=128, green=255, blue=0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="collections.somenamedtuple._field_defaults">
<code class="sig-prename descclassname">somenamedtuple.</code><code class="sig-name descname">_field_defaults</code><a class="headerlink" href="#collections.somenamedtuple._field_defaults" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>é»˜è®¤å€¼çš„å­—å…¸ã€‚</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Account</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Account&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;balance&#39;</span><span class="p">],</span> <span class="n">defaults</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Account</span><span class="o">.</span><span class="n">_field_defaults</span>
<span class="go">{&#39;balance&#39;: 0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Account</span><span class="p">(</span><span class="s1">&#39;premium&#39;</span><span class="p">)</span>
<span class="go">Account(type=&#39;premium&#39;, balance=0)</span>
</pre></div>
</div>
</dd></dl>

<p>è¦è·å–è¿™ä¸ªåå­—åŸŸçš„å€¼ï¼Œä½¿ç”¨ <a class="reference internal" href="functions.html#getattr" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#getattr" title="getattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">getattr()</span></code></a> å‡½æ•° :</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">getattr</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">11</span>
</pre></div>
</div>
<p>è½¬æ¢ä¸€ä¸ªå­—å…¸åˆ°å‘½åå…ƒç»„ï¼Œä½¿ç”¨ ** ä¸¤æ˜Ÿæ“ä½œç¬¦ (æ‰€è¿°å¦‚ <a class="reference internal" href="controlflow.html#tut-unpacking-arguments" tppabs="https://docs.python.org/zh-cn/3/tutorial/controlflow.html#tut-unpacking-arguments"><span class="std std-ref">è§£åŒ…å‚æ•°åˆ—è¡¨</span></a>):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">22</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
<span class="go">Point(x=11, y=22)</span>
</pre></div>
</div>
<p>å› ä¸ºä¸€ä¸ªå‘½åå…ƒç»„æ˜¯ä¸€ä¸ªæ­£å¸¸çš„Pythonç±»ï¼Œå®ƒå¯ä»¥å¾ˆå®¹æ˜“çš„é€šè¿‡å­ç±»æ›´æ”¹åŠŸèƒ½ã€‚è¿™é‡Œæ˜¯å¦‚ä½•æ·»åŠ ä¸€ä¸ªè®¡ç®—åŸŸå’Œå®šå®½è¾“å‡ºæ‰“å°æ ¼å¼:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])):</span>
<span class="gp">... </span>    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>
<span class="gp">... </span>    <span class="nd">@property</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">hypot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s1">&#39;Point: x=</span><span class="si">%6.3f</span><span class="s1">  y=</span><span class="si">%6.3f</span><span class="s1">  hypot=</span><span class="si">%6.3f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hypot</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">Point: x= 3.000  y= 4.000  hypot= 5.000</span>
<span class="go">Point: x=14.000  y= 0.714  hypot=14.018</span>
</pre></div>
</div>
<p>ä¸Šé¢çš„å­ç±»è®¾ç½® <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> ä¸ºä¸€ä¸ªç©ºå…ƒç»„ã€‚é€šè¿‡é˜»æ­¢åˆ›å»ºå®ä¾‹å­—å…¸ä¿æŒäº†è¾ƒä½çš„å†…å­˜å¼€é”€ã€‚</p>
<p>å­ç±»åŒ–å¯¹äºæ·»åŠ å’Œå­˜å‚¨æ–°çš„åå­—åŸŸæ˜¯æ— æ•ˆçš„ã€‚åº”å½“é€šè¿‡ <a class="reference internal" href="#collections.somenamedtuple._fields" title="collections.somenamedtuple._fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">_fields</span></code></a> åˆ›å»ºä¸€ä¸ªæ–°çš„å‘½åå…ƒç»„æ¥å®ç°å®ƒ:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Point3D</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point3D&#39;</span><span class="p">,</span> <span class="n">Point</span><span class="o">.</span><span class="n">_fields</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,))</span>
</pre></div>
</div>
<p>æ–‡æ¡£å­—ç¬¦ä¸²å¯ä»¥è‡ªå®šä¹‰ï¼Œé€šè¿‡ç›´æ¥èµ‹å€¼ç»™ <code class="docutils literal notranslate"><span class="pre">__doc__</span></code> å±æ€§:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Book</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Book&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;authors&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Book</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">+=</span> <span class="s1">&#39;: Hardcover book in active collection&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Book</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s1">&#39;13-digit ISBN&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Book</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s1">&#39;Title of first printing&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Book</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s1">&#39;List of authors sorted by last name&#39;</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.5 ç‰ˆæ›´æ”¹: </span>æ–‡æ¡£å­—ç¬¦ä¸²å±æ€§å˜æˆå¯å†™ã€‚</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">å‚è§</p>
<ul>
<li><p>è¯·å‚é˜… <a class="reference internal" href="typing.html#typing.NamedTuple" tppabs="https://docs.python.org/zh-cn/3/library/typing.html#typing.NamedTuple" title="typing.NamedTuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.NamedTuple</span></code></a> ï¼Œä»¥è·å–ä¸ºå‘½åå…ƒç»„æ·»åŠ ç±»å‹æç¤ºçš„æ–¹æ³•ã€‚ å®ƒè¿˜ä½¿ç”¨ <a class="reference internal" href="compound_stmts.html#class" tppabs="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#class"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">class</span></code></a> å…³é”®å­—æä¾›äº†ä¸€ç§ä¼˜é›…çš„ç¬¦å·:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Component</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="n">part_number</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">weight</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
</li>
<li><p>å¯¹äºä»¥å­—å…¸ä¸ºåº•å±‚çš„å¯å˜åŸŸåï¼Œ å‚è€ƒ <a class="reference internal" href="types.html#types.SimpleNamespace" tppabs="https://docs.python.org/zh-cn/3/library/types.html#types.SimpleNamespace" title="types.SimpleNamespace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">types.SimpleNamespace()</span></code></a> ã€‚</p></li>
<li><p><a class="reference internal" href="dataclasses.html#module-dataclasses" tppabs="https://docs.python.org/zh-cn/3/library/dataclasses.html#module-dataclasses" title="dataclasses: Generate special methods on user-defined classes."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dataclasses</span></code></a> æ¨¡å—æä¾›äº†ä¸€ä¸ªè£…é¥°å™¨å’Œä¸€äº›å‡½æ•°ï¼Œç”¨äºè‡ªåŠ¨å°†ç”Ÿæˆçš„ç‰¹æ®Šæ–¹æ³•æ·»åŠ åˆ°ç”¨æˆ·å®šä¹‰çš„ç±»ä¸­ã€‚</p></li>
</ul>
</div>
</div>
<div class="section" id="ordereddict-objects">
<h2><a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> å¯¹è±¡<a class="headerlink" href="#ordereddict-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>æœ‰åºè¯å…¸å°±åƒå¸¸è§„è¯å…¸ä¸€æ ·ï¼Œä½†æœ‰ä¸€äº›ä¸æ’åºæ“ä½œç›¸å…³çš„é¢å¤–åŠŸèƒ½ã€‚ç”±äºå†…ç½®çš„ <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> ç±»è·å¾—äº†è®°ä½æ’å…¥é¡ºåºçš„èƒ½åŠ›ï¼ˆåœ¨ Python 3.7 ä¸­ä¿è¯äº†è¿™ç§æ–°è¡Œä¸ºï¼‰ï¼Œå®ƒä»¬å˜å¾—ä¸é‚£ä¹ˆé‡è¦äº†ã€‚</p>
<p>ä¸€äº›ä¸ <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> çš„ä¸åŒä»ç„¶å­˜åœ¨ï¼š</p>
<ul class="simple">
<li><p>å¸¸è§„çš„ <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> è¢«è®¾è®¡ä¸ºéå¸¸æ“…é•¿æ˜ å°„æ“ä½œã€‚ è·Ÿè¸ªæ’å…¥é¡ºåºæ˜¯æ¬¡è¦çš„ã€‚</p></li>
<li><p><a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> æ—¨åœ¨æ“…é•¿é‡æ–°æ’åºæ“ä½œã€‚ ç©ºé—´æ•ˆç‡ã€è¿­ä»£é€Ÿåº¦å’Œæ›´æ–°æ“ä½œçš„æ€§èƒ½æ˜¯æ¬¡è¦çš„ã€‚</p></li>
<li><p>ç®—æ³•ä¸Šï¼Œ <a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> å¯ä»¥æ¯” <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> æ›´å¥½åœ°å¤„ç†é¢‘ç¹çš„é‡æ–°æ’åºæ“ä½œã€‚ è¿™ä½¿å…¶é€‚ç”¨äºè·Ÿè¸ªæœ€è¿‘çš„è®¿é—®ï¼ˆä¾‹å¦‚åœ¨ <a class="reference external" href="javascript:if(confirm('https://medium.com/@krishankantsinghal/my-first-blog-on-medium-583159139237  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://medium.com/@krishankantsinghal/my-first-blog-on-medium-583159139237'" tppabs="https://medium.com/@krishankantsinghal/my-first-blog-on-medium-583159139237">LRU cache</a> ä¸­ï¼‰ã€‚</p></li>
<li><p>å¯¹äº <a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> ï¼Œç›¸ç­‰æ“ä½œæ£€æŸ¥åŒ¹é…é¡ºåºã€‚</p></li>
<li><p><a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> ç±»çš„ <code class="xref py py-meth docutils literal notranslate"><span class="pre">popitem()</span></code> æ–¹æ³•æœ‰ä¸åŒçš„ç­¾åã€‚å®ƒæ¥å—ä¸€ä¸ªå¯é€‰å‚æ•°æ¥æŒ‡å®šå¼¹å‡ºå“ªä¸ªå…ƒç´ ã€‚</p></li>
<li><p><a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> ç±»æœ‰ä¸€ä¸ª <code class="xref py py-meth docutils literal notranslate"><span class="pre">move_to_end()</span></code> æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å°†å…ƒç´ ç§»åŠ¨åˆ°ä»»ä¸€ç«¯ã€‚</p></li>
<li><p>Python 3.8ä¹‹å‰ï¼Œ <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> ç¼ºå°‘ <a class="reference internal" href="datamodel.html#object.__reversed__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__reversed__" title="object.__reversed__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__reversed__()</span></code></a> æ–¹æ³•ã€‚</p></li>
</ul>
<dl class="class">
<dt id="collections.OrderedDict">
<em class="property">class </em><code class="sig-prename descclassname">collections.</code><code class="sig-name descname">OrderedDict</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">items</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.OrderedDict" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ª <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> å­ç±»çš„å®ä¾‹ï¼Œå®ƒå…·æœ‰ä¸“é—¨ç”¨äºé‡æ–°æ’åˆ—å­—å…¸é¡ºåºçš„æ–¹æ³•ã€‚</p>
<div class="versionadded">
<p><span class="versionmodified added">3.1 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
<dl class="method">
<dt id="collections.OrderedDict.popitem">
<code class="sig-name descname">popitem</code><span class="sig-paren">(</span><em class="sig-param">last=True</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.OrderedDict.popitem" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æœ‰åºå­—å…¸çš„ <a class="reference internal" href="#collections.OrderedDict.popitem" title="collections.OrderedDict.popitem"><code class="xref py py-meth docutils literal notranslate"><span class="pre">popitem()</span></code></a> æ–¹æ³•ç§»é™¤å¹¶è¿”å›ä¸€ä¸ª (key, value) é”®å€¼å¯¹ã€‚ å¦‚æœ <em>last</em> å€¼ä¸ºçœŸï¼Œåˆ™æŒ‰ <abbr title="last-in, first-out">LIFO</abbr> åè¿›å…ˆå‡ºçš„é¡ºåºè¿”å›é”®å€¼å¯¹ï¼Œå¦åˆ™å°±æŒ‰ <abbr title="first-in, first-out">FIFO</abbr> å…ˆè¿›å…ˆå‡ºçš„é¡ºåºè¿”å›é”®å€¼å¯¹ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="collections.OrderedDict.move_to_end">
<code class="sig-name descname">move_to_end</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">last=True</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.OrderedDict.move_to_end" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°†ç°æœ‰ <em>key</em> ç§»åŠ¨åˆ°æœ‰åºå­—å…¸çš„ä»»ä¸€ç«¯ã€‚ å¦‚æœ <em>last</em> ä¸ºçœŸå€¼ï¼ˆé»˜è®¤ï¼‰åˆ™å°†å…ƒç´ ç§»è‡³æœ«å°¾ï¼›å¦‚æœ  <em>last</em> ä¸ºå‡å€¼åˆ™å°†å…ƒç´ ç§»è‡³å¼€å¤´ã€‚å¦‚æœ <em>key</em> ä¸å­˜åœ¨åˆ™ä¼šè§¦å‘ <a class="reference internal" href="exceptions.html#KeyError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#KeyError" title="KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">&#39;acdeb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">&#39;bacde&#39;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.2 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

</dd></dl>

<p>ç›¸å¯¹äºé€šå¸¸çš„æ˜ å°„æ–¹æ³•ï¼Œæœ‰åºå­—å…¸è¿˜å¦å¤–æä¾›äº†é€†åºè¿­ä»£çš„æ”¯æŒï¼Œé€šè¿‡ <a class="reference internal" href="functions.html#reversed" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal notranslate"><span class="pre">reversed()</span></code></a> ã€‚</p>
<p><a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> ä¹‹é—´çš„ç›¸ç­‰æµ‹è¯•æ˜¯é¡ºåºæ•æ„Ÿçš„ï¼Œå®ç°ä¸º <code class="docutils literal notranslate"><span class="pre">list(od1.items())==list(od2.items())</span></code> ã€‚ <a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> å¯¹è±¡å’Œå…¶ä»–çš„  <a class="reference internal" href="collections.abc.html#collections.abc.Mapping" tppabs="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Mapping" title="collections.abc.Mapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code></a> çš„ç›¸ç­‰æµ‹è¯•ï¼Œæ˜¯é¡ºåºæ•æ„Ÿçš„å­—å…¸æµ‹è¯•ã€‚è¿™å…è®¸ <a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> æ›¿æ¢ä¸ºä»»ä½•å­—å…¸å¯ä»¥ä½¿ç”¨çš„åœºæ‰€ã€‚</p>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.5 ç‰ˆæ›´æ”¹: </span><a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> çš„é¡¹(item)ï¼Œé”®(key)å’Œå€¼(value) <a class="reference internal" href="glossary.html#term-dictionary-view" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-dictionary-view"><span class="xref std std-term">è§†å›¾</span></a> ç°åœ¨æ”¯æŒé€†åºè¿­ä»£ï¼Œé€šè¿‡ <a class="reference internal" href="functions.html#reversed" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal notranslate"><span class="pre">reversed()</span></code></a> ã€‚</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.6 ç‰ˆæ›´æ”¹: </span><span class="target" id="index-2"></span><a class="pep reference external" href="javascript:if(confirm('https://www.python.org/dev/peps/pep-0468  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/dev/peps/pep-0468'" tppabs="https://www.python.org/dev/peps/pep-0468"><strong>PEP 468</strong></a> èµæˆå°†å…³é”®è¯å‚æ•°çš„é¡ºåºä¿ç•™ï¼Œ é€šè¿‡ä¼ é€’ç»™ <a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> æ„é€ å™¨å’Œå®ƒçš„ <code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code> æ–¹æ³•ã€‚</p>
</div>
<div class="section" id="ordereddict-examples-and-recipes">
<h3><a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> ä¾‹å­å’Œç”¨æ³•<a class="headerlink" href="#ordereddict-examples-and-recipes" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>åˆ›å»ºè®°ä½é”®å€¼ <em>æœ€å</em> æ’å…¥é¡ºåºçš„æœ‰åºå­—å…¸å˜ä½“å¾ˆç®€å•ã€‚ å¦‚æœæ–°æ¡ç›®è¦†ç›–ç°æœ‰æ¡ç›®ï¼Œåˆ™åŸå§‹æ’å…¥ä½ç½®å°†æ›´æ”¹å¹¶ç§»è‡³æœ«å°¾:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">LastUpdatedOrderedDict</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">):</span>
    <span class="s1">&#39;Store items in the order the keys were last added&#39;</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setitem__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</pre></div>
</div>
<p>ä¸€ä¸ª <a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> å¯¹äºå®ç° <a class="reference internal" href="functools.html#functools.lru_cache" tppabs="https://docs.python.org/zh-cn/3/library/functools.html#functools.lru_cache" title="functools.lru_cache"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.lru_cache()</span></code></a> çš„å˜ä½“ä¹Ÿå¾ˆæœ‰ç”¨:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">LRU</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">):</span>
    <span class="s1">&#39;Limit size, evicting the least recently looked-up key when full&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">=</span> <span class="n">maxsize</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setitem__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span><span class="p">:</span>
            <span class="n">oldest</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
            <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="n">oldest</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="userdict-objects">
<h2><a class="reference internal" href="#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a> å¯¹è±¡<a class="headerlink" href="#userdict-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p><a class="reference internal" href="#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a> ç±»æ˜¯ç”¨ä½œå­—å…¸å¯¹è±¡çš„å¤–åŒ…è£…ã€‚å¯¹è¿™ä¸ªç±»çš„éœ€æ±‚å·²éƒ¨åˆ†ç”±ç›´æ¥åˆ›å»º <a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> çš„å­ç±»çš„åŠŸèƒ½æ‰€æ›¿ä»£ï¼›ä¸è¿‡ï¼Œè¿™ä¸ªç±»å¤„ç†èµ·æ¥æ›´å®¹æ˜“ï¼Œå› ä¸ºåº•å±‚çš„å­—å…¸å¯ä»¥ä½œä¸ºå±æ€§æ¥è®¿é—®ã€‚</p>
<dl class="class">
<dt id="collections.UserDict">
<em class="property">class </em><code class="sig-prename descclassname">collections.</code><code class="sig-name descname">UserDict</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">initialdata</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.UserDict" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æ¨¡æ‹Ÿä¸€ä¸ªå­—å…¸ç±»ã€‚è¿™ä¸ªå®ä¾‹çš„å†…å®¹ä¿å­˜ä¸ºä¸€ä¸ªæ­£å¸¸å­—å…¸ï¼Œ å¯ä»¥é€šè¿‡ <a class="reference internal" href="#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a> å®ä¾‹çš„ <a class="reference internal" href="#collections.UserDict.data" title="collections.UserDict.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> å±æ€§å­˜å–ã€‚å¦‚æœæä¾›äº† <em>initialdata</em> å€¼ï¼Œ <a class="reference internal" href="#collections.UserDict.data" title="collections.UserDict.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> å°±è¢«åˆå§‹åŒ–ä¸ºå®ƒçš„å†…å®¹ï¼›æ³¨æ„ä¸€ä¸ª <em>initialdata</em> çš„å¼•ç”¨ä¸ä¼šè¢«ä¿ç•™ä½œä¸ºå…¶ä»–ç”¨é€”ã€‚</p>
<p><a class="reference internal" href="#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a> å®ä¾‹æä¾›äº†ä»¥ä¸‹å±æ€§ä½œä¸ºæ‰©å±•æ–¹æ³•å’Œæ“ä½œçš„æ”¯æŒ:</p>
<dl class="attribute">
<dt id="collections.UserDict.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#collections.UserDict.data" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä¸€ä¸ªçœŸå®çš„å­—å…¸ï¼Œç”¨äºä¿å­˜ <a class="reference internal" href="#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a> ç±»çš„å†…å®¹ã€‚</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="userlist-objects">
<h2><a class="reference internal" href="#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a> å¯¹è±¡<a class="headerlink" href="#userlist-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>è¿™ä¸ªç±»å°è£…äº†åˆ—è¡¨å¯¹è±¡ã€‚å®ƒæ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŸºç¡€ç±»ï¼Œå¯¹äºä½ æƒ³è‡ªå®šä¹‰çš„ç±»ä¼¼åˆ—è¡¨çš„ç±»ï¼Œå¯ä»¥ç»§æ‰¿å’Œè¦†ç›–ç°æœ‰çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ·»åŠ æ–°çš„æ–¹æ³•ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥å¯¹åˆ—è¡¨æ·»åŠ æ–°çš„è¡Œä¸ºã€‚</p>
<p>å¯¹è¿™ä¸ªç±»çš„éœ€æ±‚å·²éƒ¨åˆ†ç”±ç›´æ¥åˆ›å»º <a class="reference internal" href="stdtypes.html#list" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> çš„å­ç±»çš„åŠŸèƒ½æ‰€æ›¿ä»£ï¼›ä¸è¿‡ï¼Œè¿™ä¸ªç±»å¤„ç†èµ·æ¥æ›´å®¹æ˜“ï¼Œå› ä¸ºåº•å±‚çš„åˆ—è¡¨å¯ä»¥ä½œä¸ºå±æ€§æ¥è®¿é—®ã€‚</p>
<dl class="class">
<dt id="collections.UserList">
<em class="property">class </em><code class="sig-prename descclassname">collections.</code><code class="sig-name descname">UserList</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">list</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#collections.UserList" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æ¨¡æ‹Ÿä¸€ä¸ªåˆ—è¡¨ã€‚è¿™ä¸ªå®ä¾‹çš„å†…å®¹è¢«ä¿å­˜ä¸ºä¸€ä¸ªæ­£å¸¸åˆ—è¡¨ï¼Œé€šè¿‡ <a class="reference internal" href="#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a> çš„ <a class="reference internal" href="#collections.UserList.data" title="collections.UserList.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> å±æ€§å­˜å–ã€‚å®ä¾‹å†…å®¹è¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ª <em>list</em> çš„copyï¼Œé»˜è®¤ä¸º <code class="docutils literal notranslate"><span class="pre">[]</span></code> ç©ºåˆ—è¡¨ã€‚ <em>list</em> å¯ä»¥æ˜¯è¿­ä»£å¯¹è±¡ï¼Œæ¯”å¦‚ä¸€ä¸ªPythonåˆ—è¡¨ï¼Œæˆ–è€…ä¸€ä¸ª  <a class="reference internal" href="#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a> å¯¹è±¡ã€‚</p>
<p><a class="reference internal" href="#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a> æä¾›äº†ä»¥ä¸‹å±æ€§ä½œä¸ºå¯å˜åºåˆ—çš„æ–¹æ³•å’Œæ“ä½œçš„æ‰©å±•:</p>
<dl class="attribute">
<dt id="collections.UserList.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#collections.UserList.data" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä¸€ä¸ª <a class="reference internal" href="stdtypes.html#list" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> å¯¹è±¡ç”¨äºå­˜å‚¨ <a class="reference internal" href="#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a> çš„å†…å®¹ã€‚</p>
</dd></dl>

</dd></dl>

<p><strong>å­ç±»åŒ–çš„è¦æ±‚:</strong> <a class="reference internal" href="#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a> çš„å­ç±»éœ€è¦æä¾›ä¸€ä¸ªæ„é€ å™¨ï¼Œå¯ä»¥æ— å‚æ•°è°ƒç”¨ï¼Œæˆ–è€…ä¸€ä¸ªå‚æ•°è°ƒç”¨ã€‚è¿”å›ä¸€ä¸ªæ–°åºåˆ—çš„åˆ—è¡¨æ“ä½œéœ€è¦åˆ›å»ºä¸€ä¸ªå®ç°ç±»çš„å®ä¾‹ã€‚å®ƒå‡å®šäº†æ„é€ å™¨å¯ä»¥ä»¥ä¸€ä¸ªå‚æ•°è¿›è¡Œè°ƒç”¨ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªåºåˆ—å¯¹è±¡ï¼Œä½œä¸ºæ•°æ®æºã€‚</p>
<p>å¦‚æœä¸€ä¸ªåˆ†ç¦»çš„ç±»ä¸å¸Œæœ›ä¾ç…§è¿™ä¸ªéœ€æ±‚ï¼Œæ‰€æœ‰çš„ç‰¹æ®Šæ–¹æ³•å°±å¿…é¡»é‡å†™ï¼›è¯·å‚ç…§æºä»£ç è¿›è¡Œä¿®æ”¹ã€‚</p>
</div>
<div class="section" id="userstring-objects">
<h2><a class="reference internal" href="#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a> å¯¹è±¡<a class="headerlink" href="#userstring-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p><a class="reference internal" href="#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a> ç±»æ˜¯ç”¨ä½œå­—ç¬¦ä¸²å¯¹è±¡çš„å¤–åŒ…è£…ã€‚å¯¹è¿™ä¸ªç±»çš„éœ€æ±‚å·²éƒ¨åˆ†ç”±ç›´æ¥åˆ›å»º <a class="reference internal" href="stdtypes.html#str" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> çš„å­ç±»çš„åŠŸèƒ½æ‰€æ›¿ä»£ï¼›ä¸è¿‡ï¼Œè¿™ä¸ªç±»å¤„ç†èµ·æ¥æ›´å®¹æ˜“ï¼Œå› ä¸ºåº•å±‚çš„å­—ç¬¦ä¸²å¯ä»¥ä½œä¸ºå±æ€§æ¥è®¿é—®ã€‚</p>
<dl class="class">
<dt id="collections.UserString">
<em class="property">class </em><code class="sig-prename descclassname">collections.</code><code class="sig-name descname">UserString</code><span class="sig-paren">(</span><em class="sig-param">seq</em><span class="sig-paren">)</span><a class="headerlink" href="#collections.UserString" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æ¨¡æ‹Ÿä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ã€‚è¿™ä¸ªå®ä¾‹å¯¹è±¡çš„å†…å®¹ä¿å­˜ä¸ºä¸€ä¸ªæ­£å¸¸å­—ç¬¦ä¸²ï¼Œé€šè¿‡ <a class="reference internal" href="#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a> çš„ <a class="reference internal" href="#collections.UserString.data" title="collections.UserString.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> å±æ€§å­˜å–ã€‚å®ä¾‹å†…å®¹åˆå§‹åŒ–è®¾ç½®ä¸º <em>seq</em> çš„copyã€‚<em>seq</em> å‚æ•°å¯ä»¥æ˜¯ä»»ä½•å¯é€šè¿‡å†…å»º <a class="reference internal" href="stdtypes.html#str" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#str" title="str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a> å‡½æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„å¯¹è±¡ã€‚</p>
<p><a class="reference internal" href="#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a> æä¾›äº†ä»¥ä¸‹å±æ€§ä½œä¸ºå­—ç¬¦ä¸²æ–¹æ³•å’Œæ“ä½œçš„é¢å¤–æ”¯æŒï¼š</p>
<dl class="attribute">
<dt id="collections.UserString.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#collections.UserString.data" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä¸€ä¸ªçœŸæ­£çš„ <a class="reference internal" href="stdtypes.html#str" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> å¯¹è±¡ç”¨æ¥å­˜æ”¾ <a class="reference internal" href="#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a> ç±»çš„å†…å®¹ã€‚</p>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.5 ç‰ˆæ›´æ”¹: </span>æ–°æ–¹æ³• <code class="docutils literal notranslate"><span class="pre">__getnewargs__</span></code>, <code class="docutils literal notranslate"><span class="pre">__rmod__</span></code>, <code class="docutils literal notranslate"><span class="pre">casefold</span></code>, <code class="docutils literal notranslate"><span class="pre">format_map</span></code>, <code class="docutils literal notranslate"><span class="pre">isprintable</span></code>, å’Œ <code class="docutils literal notranslate"><span class="pre">maketrans</span></code>ã€‚</p>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html" tppabs="https://docs.python.org/zh-cn/3/contents.html">ç›®å½•</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code> --- å®¹å™¨æ•°æ®ç±»å‹</a><ul>
<li><a class="reference internal" href="#chainmap-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code> å¯¹è±¡</a><ul>
<li><a class="reference internal" href="#chainmap-examples-and-recipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code> ä¾‹å­å’Œæ–¹æ³•</a></li>
</ul>
</li>
<li><a class="reference internal" href="#counter-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code> å¯¹è±¡</a></li>
<li><a class="reference internal" href="#deque-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code> å¯¹è±¡</a><ul>
<li><a class="reference internal" href="#deque-recipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code> ç”¨æ³•</a></li>
</ul>
</li>
<li><a class="reference internal" href="#defaultdict-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code> å¯¹è±¡</a><ul>
<li><a class="reference internal" href="#defaultdict-examples"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code> ä¾‹å­</a></li>
</ul>
</li>
<li><a class="reference internal" href="#namedtuple-factory-function-for-tuples-with-named-fields"><code class="xref py py-func docutils literal notranslate"><span class="pre">namedtuple()</span></code> å‘½åå…ƒç»„çš„å·¥å‚å‡½æ•°</a></li>
<li><a class="reference internal" href="#ordereddict-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code> å¯¹è±¡</a><ul>
<li><a class="reference internal" href="#ordereddict-examples-and-recipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code> ä¾‹å­å’Œç”¨æ³•</a></li>
</ul>
</li>
<li><a class="reference internal" href="#userdict-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code> å¯¹è±¡</a></li>
<li><a class="reference internal" href="#userlist-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code> å¯¹è±¡</a></li>
<li><a class="reference internal" href="#userstring-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code> å¯¹è±¡</a></li>
</ul>
</li>
</ul>

  <h4>ä¸Šä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="calendar.html" tppabs="https://docs.python.org/zh-cn/3/library/calendar.html"
                        title="ä¸Šä¸€ç« "><code class="xref py py-mod docutils literal notranslate"><span class="pre">calendar</span></code> --- æ—¥å†ç›¸å…³å‡½æ•°</a></p>
  <h4>ä¸‹ä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="collections.abc.html" tppabs="https://docs.python.org/zh-cn/3/library/collections.abc.html"
                        title="ä¸‹ä¸€ç« "><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections.abc</span></code> --- å®¹å™¨çš„æŠ½è±¡åŸºç±»</a></p>
  <div role="note" aria-label="source link">
    <h3>æœ¬é¡µ</h3>
    <ul class="this-page-menu">
      <li><a href="bugs.html" tppabs="https://docs.python.org/zh-cn/3/bugs.html">æäº¤ Bug</a></li>
      <li>
        <a href="javascript:if(confirm('https://github.com/python/cpython/blob/3.8/Doc/library/collections.rst  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/python/cpython/blob/3.8/Doc/library/collections.rst'" tppabs="https://github.com/python/cpython/blob/3.8/Doc/library/collections.rst"
            rel="nofollow">æ˜¾ç¤ºæºä»£ç 
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             >ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="collections.abc.html" tppabs="https://docs.python.org/zh-cn/3/library/collections.abc.html" title="collections.abc --- å®¹å™¨çš„æŠ½è±¡åŸºç±»"
             >ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="calendar.html" tppabs="https://docs.python.org/zh-cn/3/library/calendar.html" title="calendar --- æ—¥å†ç›¸å…³å‡½æ•°"
             >ä¸Šä¸€é¡µ</a> |</li>

    <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <span class="language_switcher_placeholder">zh_CN</span>
      <span class="version_switcher_placeholder">3.8.2</span>
      <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index-2.html" tppabs="https://docs.python.org/zh-cn/3/library/index.html" >Python æ ‡å‡†åº“</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="datatypes.html" tppabs="https://docs.python.org/zh-cn/3/library/datatypes.html" >æ•°æ®ç±»å‹</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="copyright.html" tppabs="https://docs.python.org/zh-cn/3/copyright.html">ç‰ˆæƒæ‰€æœ‰</a> 2001-2020, Python Software Foundation.
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="javascript:if(confirm('https://www.python.org/psf/donations/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/psf/donations/'" tppabs="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    æœ€åæ›´æ–°äº 3æœˆ 26, 2020.
    <a href="javascript:if(confirm('https://docs.python.org/3/bugs.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://docs.python.org/3/bugs.html'" tppabs="https://docs.python.org/3/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="javascript:if(confirm('https://www.sphinx-doc.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.sphinx-doc.org/'" tppabs="https://www.sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>

  </body>
</html>