
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>ipaddressæ¨¡å—ä»‹ç» &#8212; Python 3.8.2 æ–‡æ¡£</title>
    <link rel="stylesheet" href="pydoctheme.css" tppabs="https://docs.python.org/zh-cn/3/_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="pygments.css" tppabs="https://docs.python.org/zh-cn/3/_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="documentation_options.js" tppabs="https://docs.python.org/zh-cn/3/_static/documentation_options.js"></script>
    <script type="text/javascript" src="jquery.js" tppabs="https://docs.python.org/zh-cn/3/_static/jquery.js"></script>
    <script type="text/javascript" src="underscore.js" tppabs="https://docs.python.org/zh-cn/3/_static/underscore.js"></script>
    <script type="text/javascript" src="doctools.js" tppabs="https://docs.python.org/zh-cn/3/_static/doctools.js"></script>
    <script type="text/javascript" src="language_data.js" tppabs="https://docs.python.org/zh-cn/3/_static/language_data.js"></script>
    <script type="text/javascript" src="translations.js" tppabs="https://docs.python.org/zh-cn/3/_static/translations.js"></script>
    
    <script type="text/javascript" src="sidebar.js" tppabs="https://docs.python.org/zh-cn/3/_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="åœ¨ Python 3.8.2 æ–‡æ¡£ ä¸­æœç´¢"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="å…³äºè¿™äº›æ–‡æ¡£" href="../about.html" />
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="copyright" title="ç‰ˆæƒæ‰€æœ‰" href="../copyright.html" />
    <link rel="next" title="Argument Clinic How-To" href="clinic.html" />
    <link rel="prev" title="Argparse æ•™ç¨‹" href="argparse.html" />
    <link rel="canonical" href="https://docs.python.org/3/howto/ipaddress.html" />
    
      
      <script type="text/javascript" src="switchers.js" tppabs="https://docs.python.org/zh-cn/3/_static/switchers.js"></script>
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>

    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    
    <script type="text/javascript" src="copybutton.js" tppabs="https://docs.python.org/zh-cn/3/_static/copybutton.js"></script>
    
     


  </head><body>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             accesskey="I">ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="clinic.html" tppabs="https://docs.python.org/zh-cn/3/howto/clinic.html" title="Argument Clinic How-To"
             accesskey="N">ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="argparse-1.html" tppabs="https://docs.python.org/zh-cn/3/howto/argparse.html" title="Argparse æ•™ç¨‹"
             accesskey="P">ä¸Šä¸€é¡µ</a> |</li>

    <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <span class="language_switcher_placeholder">zh_CN</span>
      <span class="version_switcher_placeholder">3.8.2</span>
      <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index-5.html" tppabs="https://docs.python.org/zh-cn/3/howto/index.html" accesskey="U">Python å¸¸ç”¨æŒ‡å¼•</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="an-introduction-to-the-ipaddress-module">
<span id="ipaddress-howto"></span><h1>ipaddressæ¨¡å—ä»‹ç»<a class="headerlink" href="#an-introduction-to-the-ipaddress-module" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">ä½œè€…</dt>
<dd class="field-odd"><p>Peter Moody</p>
</dd>
<dt class="field-even">ä½œè€…</dt>
<dd class="field-even"><p>Nick Coghlan</p>
</dd>
</dl>
<div class="topic">
<p class="topic-title first">æ¦‚è¿°</p>
<p>æœ¬æ–‡æ¡£æ—¨åœ¨ç®€è¦ä»‹ç» <a class="reference internal" href="ipaddress.html#module-ipaddress" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> æ¨¡å—ã€‚ å®ƒä¸»è¦é’ˆå¯¹é‚£äº›ä¸ç†Ÿæ‚‰ IP ç½‘ç»œæœ¯è¯­çš„ç”¨æˆ·ï¼Œä½†ä¹Ÿå¯èƒ½å¯¹æƒ³è¦é€Ÿè§ˆ <a class="reference internal" href="ipaddress.html#module-ipaddress" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> å¦‚ä½•ä»£è¡¨IPç½‘ç»œå¯»å€æ¦‚å¿µçš„ç½‘ç»œå·¥ç¨‹å¸ˆæœ‰ç”¨ã€‚</p>
</div>
<div class="section" id="creating-address-network-interface-objects">
<h2>åˆ›å»º Address/Network/Interface å¯¹è±¡<a class="headerlink" href="#creating-address-network-interface-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>å› ä¸º <a class="reference internal" href="ipaddress.html#module-ipaddress" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> æ˜¯ä¸€ä¸ªç”¨äºæ£€æŸ¥å’Œæ“ä½œ IP åœ°å€çš„æ¨¡å—ï¼Œä½ è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯åˆ›å»ºä¸€äº›å¯¹è±¡ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ <a class="reference internal" href="ipaddress.html#module-ipaddress" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> ä»å­—ç¬¦ä¸²å’Œæ•´æ•°åˆ›å»ºå¯¹è±¡ã€‚</p>
<div class="section" id="a-note-on-ip-versions">
<h3>å…³äºIPç‰ˆæœ¬çš„è¯´æ˜<a class="headerlink" href="#a-note-on-ip-versions" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>å¯¹äºä¸å¤ªç†Ÿæ‚‰ IP å¯»å€çš„è¯»è€…ï¼Œé‡è¦çš„æ˜¯è¦çŸ¥é“ Internet åè®®å½“å‰æ­£åœ¨ä»åè®®çš„ç‰ˆæœ¬4è½¬ç§»åˆ°ç‰ˆæœ¬6ã€‚è½¬æ¢å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å› ä¸ºåè®®çš„ç‰ˆæœ¬4æ²¡æœ‰æä¾›è¶³å¤Ÿçš„åœ°å€æ¥æ»¡è¶³æ•´ä¸ªä¸–ç•Œçš„éœ€æ±‚ï¼Œç‰¹åˆ«æ˜¯è€ƒè™‘åˆ°è¶Šæ¥è¶Šå¤šçš„è®¾å¤‡ç›´æ¥è¿æ¥åˆ°äº’è”ç½‘ã€‚</p>
<p>è§£é‡Šåè®®çš„ä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚çš„ç»†èŠ‚è¶…å‡ºäº†æœ¬ä»‹ç»çš„èŒƒå›´ï¼Œä½†è¯»è€…éœ€è¦è‡³å°‘çŸ¥é“å­˜åœ¨è¿™ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå¹¶ä¸”æœ‰æ—¶éœ€è¦å¼ºåˆ¶ä½¿ç”¨ä¸€ä¸ªç‰ˆæœ¬æˆ–å…¶ä»–ç‰ˆæœ¬ã€‚</p>
</div>
<div class="section" id="ip-host-addresses">
<h3>IPä¸»æœºåœ°å€<a class="headerlink" href="#ip-host-addresses" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>é€šå¸¸ç§°ä¸ºâ€œä¸»æœºåœ°å€â€çš„åœ°å€æ˜¯ä½¿ç”¨IPå¯»å€æ—¶æœ€åŸºæœ¬çš„å•å…ƒã€‚ åˆ›å»ºåœ°å€çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ <a class="reference internal" href="ipaddress.html#ipaddress.ip_address" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#ipaddress.ip_address" title="ipaddress.ip_address"><code class="xref py py-func docutils literal notranslate"><span class="pre">ipaddress.ip_address()</span></code></a> å·¥å‚å‡½æ•°ï¼Œè¯¥å‡½æ•°æ ¹æ®ä¼ å…¥çš„å€¼è‡ªåŠ¨ç¡®å®šæ˜¯åˆ›å»º IPv4 è¿˜æ˜¯ IPv6 åœ°å€ï¼š</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="s1">&#39;192.0.2.1&#39;</span><span class="p">)</span>
<span class="go">IPv4Address(&#39;192.0.2.1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="s1">&#39;2001:DB8::1&#39;</span><span class="p">)</span>
<span class="go">IPv6Address(&#39;2001:db8::1&#39;)</span>
</pre></div>
</div>
<p>åœ°å€ä¹Ÿå¯ä»¥ç›´æ¥ä»æ•´æ•°åˆ›å»ºï¼Œé€‚é…32ä½çš„å€¼å¹¶å‡å®šä¸ºIPv4åœ°å€:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="mi">3221225985</span><span class="p">)</span>
<span class="go">IPv4Address(&#39;192.0.2.1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="mi">42540766411282592856903984951653826561</span><span class="p">)</span>
<span class="go">IPv6Address(&#39;2001:db8::1&#39;)</span>
</pre></div>
</div>
<p>è¦å¼ºåˆ¶ä½¿ç”¨IPv4æˆ–IPv6åœ°å€ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ç›¸å…³çš„ç±»ã€‚ è¿™å¯¹äºå¼ºåˆ¶ä¸ºå°æ•´æ•°åˆ›å»ºIPv6åœ°å€ç‰¹åˆ«æœ‰ç”¨:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">IPv4Address(&#39;0.0.0.1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv4Address</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">IPv4Address(&#39;0.0.0.1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv6Address</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">IPv6Address(&#39;::1&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="defining-networks">
<h3>å®šä¹‰ç½‘ç»œ<a class="headerlink" href="#defining-networks" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>ä¸»æœºåœ°å€é€šå¸¸ç»„åˆåœ¨ä¸€èµ·å½¢æˆIPç½‘ç»œï¼Œå› æ­¤ <a class="reference internal" href="ipaddress.html#module-ipaddress" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> æä¾›äº†ä¸€ç§åˆ›å»ºã€æ£€æŸ¥å’Œæ“ä½œç½‘ç»œå®šä¹‰çš„æ–¹æ³•ã€‚ IPç½‘ç»œå¯¹è±¡ç”±å­—ç¬¦ä¸²æ„æˆï¼Œè¿™äº›å­—ç¬¦ä¸²å®šä¹‰ä½œä¸ºè¯¥ç½‘ç»œä¸€éƒ¨åˆ†çš„ä¸»æœºåœ°å€èŒƒå›´ã€‚ è¯¥ä¿¡æ¯çš„æœ€ç®€å•å½¢å¼æ˜¯â€œç½‘ç»œåœ°å€/ç½‘ç»œå‰ç¼€â€å¯¹ï¼Œå…¶ä¸­å‰ç¼€å®šä¹‰äº†æ¯”è¾ƒçš„å‰å¯¼æ¯”ç‰¹æ•°ï¼Œä»¥ç¡®å®šåœ°å€æ˜¯å¦æ˜¯ç½‘ç»œçš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”ç½‘ç»œåœ°å€å®šä¹‰äº†é‚£äº›ä½çš„é¢„æœŸå€¼ã€‚</p>
<p>å¯¹äºåœ°å€ï¼Œæä¾›äº†ä¸€ä¸ªè‡ªåŠ¨ç¡®å®šæ­£ç¡®IPç‰ˆæœ¬çš„å·¥å‚å‡½æ•°:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;192.0.2.0/24&#39;</span><span class="p">)</span>
<span class="go">IPv4Network(&#39;192.0.2.0/24&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;2001:db8::0/96&#39;</span><span class="p">)</span>
<span class="go">IPv6Network(&#39;2001:db8::/96&#39;)</span>
</pre></div>
</div>
<p>ç½‘ç»œå¯¹è±¡ä¸èƒ½è®¾ç½®ä»»ä½•ä¸»æœºä½ã€‚ è¿™æ ·åšçš„å®é™…æ•ˆæœæ˜¯``192.0.2.1/24``æ²¡æœ‰æè¿°ç½‘ç»œã€‚ è¿™ç§å®šä¹‰è¢«ç§°ä¸ºæ¥å£å¯¹è±¡ï¼Œå› ä¸ºç½‘ç»œä¸ŠIPè¡¨ç¤ºæ³•é€šå¸¸ç”¨äºæè¿°ç»™å®šç½‘ç»œä¸Šçš„è®¡ç®—æœºçš„ç½‘ç»œæ¥å£ï¼Œå¹¶åœ¨ä¸‹ä¸€èŠ‚ä¸­è¿›ä¸€æ­¥æè¿°ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå°è¯•åˆ›å»ºä¸€ä¸ªè®¾ç½®äº†ä¸»æœºä½çš„ç½‘ç»œå¯¹è±¡å°†å¯¼è‡´ <a class="reference internal" href="exceptions.html#ValueError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> è¢«å¼•å‘ã€‚ è¦è¯·æ±‚å°†é™„åŠ ä½å¼ºåˆ¶ä¸ºé›¶ï¼Œå¯ä»¥å°†æ ‡å¿—``strict=False`` ä¼ é€’ç»™æ„é€ å‡½æ•°:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;192.0.2.1/24&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
   <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">192.0.2.1/24 has host bits set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;192.0.2.1/24&#39;</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">IPv4Network(&#39;192.0.2.0/24&#39;)</span>
</pre></div>
</div>
<p>è™½ç„¶å­—ç¬¦ä¸²å½¢å¼æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ï¼Œä½†ç½‘ç»œä¹Ÿå¯ä»¥ç”¨æ•´æ•°å®šä¹‰ï¼Œå°±åƒä¸»æœºåœ°å€ä¸€æ ·ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç½‘ç»œè¢«è®¤ä¸ºåªåŒ…å«ç”±æ•´æ•°æ ‡è¯†çš„å•ä¸ªåœ°å€ï¼Œå› æ­¤ç½‘ç»œå‰ç¼€åŒ…æ‹¬æ•´ä¸ªç½‘ç»œåœ°å€:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="mi">3221225984</span><span class="p">)</span>
<span class="go">IPv4Network(&#39;192.0.2.0/32&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="mi">42540766411282592856903984951653826560</span><span class="p">)</span>
<span class="go">IPv6Network(&#39;2001:db8::/128&#39;)</span>
</pre></div>
</div>
<p>ä¸åœ°å€ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥è°ƒç”¨ç±»æ„é€ å‡½æ•°è€Œä¸æ˜¯ä½¿ç”¨å·¥å‚å‡½æ•°æ¥å¼ºåˆ¶åˆ›å»ºç‰¹å®šç±»å‹çš„ç½‘ç»œã€‚</p>
</div>
<div class="section" id="host-interfaces">
<h3>ä¸»æœºæ¥å£<a class="headerlink" href="#host-interfaces" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>å¦‚ä¸Šæ‰€è¿°ï¼Œå¦‚æœæ‚¨éœ€è¦æè¿°ç‰¹å®šç½‘ç»œä¸Šçš„åœ°å€ï¼Œåˆ™åœ°å€å’Œç½‘ç»œç±»éƒ½ä¸å¤Ÿã€‚ åƒ <code class="docutils literal notranslate"><span class="pre">192.0.2.1/24</span></code> è¿™æ ·çš„è¡¨ç¤ºæ³•é€šå¸¸è¢«ç½‘ç»œå·¥ç¨‹å¸ˆå’Œä¸ºé˜²ç«å¢™å’Œè·¯ç”±å™¨ç¼–å†™å·¥å…·çš„äººç”¨ä½œâ€œ <code class="docutils literal notranslate"><span class="pre">192.0.2.0/24</span></code> ç½‘ç»œä¸Šçš„ä¸»æœº <code class="docutils literal notranslate"><span class="pre">192.0.2.1</span></code> â€çš„ç®€å†™ã€‚å› æ­¤ï¼Œ<a class="reference internal" href="ipaddress.html#module-ipaddress" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> æä¾›äº†ä¸€ç»„å°†åœ°å€ä¸ç‰¹å®šç½‘ç»œç›¸å…³è”çš„æ··åˆç±»ã€‚ç”¨äºåˆ›å»ºçš„æ¥å£ä¸ç”¨äºå®šä¹‰ç½‘ç»œå¯¹è±¡çš„æ¥å£ç›¸åŒï¼Œé™¤äº†åœ°å€éƒ¨åˆ†ä¸é™äºæ˜¯ç½‘ç»œåœ°å€ã€‚</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_interface</span><span class="p">(</span><span class="s1">&#39;192.0.2.1/24&#39;</span><span class="p">)</span>
<span class="go">IPv4Interface(&#39;192.0.2.1/24&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_interface</span><span class="p">(</span><span class="s1">&#39;2001:db8::1/96&#39;</span><span class="p">)</span>
<span class="go">IPv6Interface(&#39;2001:db8::1/96&#39;)</span>
</pre></div>
</div>
<p>æ¥å—æ•´æ•°è¾“å…¥ï¼ˆä¸ç½‘ç»œä¸€æ ·ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ç›´æ¥è°ƒç”¨ç›¸å…³æ„é€ å‡½æ•°æ¥å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šIPç‰ˆæœ¬ã€‚</p>
</div>
</div>
<div class="section" id="inspecting-address-network-interface-objects">
<h2>å®¡æŸ¥ Address/Network/Interface å¯¹è±¡<a class="headerlink" href="#inspecting-address-network-interface-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>ä½ å·²ç»é‡åˆ°äº†åˆ›å»ºIPv(4|6)(Address|Network|Interface) å¯¹è±¡çš„éº»çƒ¦ï¼Œå› æ­¤ä½ å¯èƒ½å¸Œæœ›è·å¾—æœ‰å…³å®ƒçš„ä¿¡æ¯ã€‚ <a class="reference internal" href="ipaddress.html#module-ipaddress" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> è¯•å›¾è®©è¿™ä¸ªè¿‡ç¨‹å˜å¾—ç®€å•ç›´è§‚ã€‚</p>
<p>æå– IP ç‰ˆæœ¬:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">addr4</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="s1">&#39;192.0.2.1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">addr6</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="s1">&#39;2001:db8::1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">addr6</span><span class="o">.</span><span class="n">version</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">addr4</span><span class="o">.</span><span class="n">version</span>
<span class="go">4</span>
</pre></div>
</div>
<p>ä»æ¥å£è·å–ç½‘ç»œ:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">host4</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_interface</span><span class="p">(</span><span class="s1">&#39;192.0.2.1/24&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">host4</span><span class="o">.</span><span class="n">network</span>
<span class="go">IPv4Network(&#39;192.0.2.0/24&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">host6</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_interface</span><span class="p">(</span><span class="s1">&#39;2001:db8::1/96&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">host6</span><span class="o">.</span><span class="n">network</span>
<span class="go">IPv6Network(&#39;2001:db8::/96&#39;)</span>
</pre></div>
</div>
<p>æ‰¾å‡ºç½‘ç»œä¸­æœ‰å¤šå°‘ç‹¬ç«‹åœ°å€:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">net4</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;192.0.2.0/24&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net4</span><span class="o">.</span><span class="n">num_addresses</span>
<span class="go">256</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net6</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;2001:db8::0/96&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net6</span><span class="o">.</span><span class="n">num_addresses</span>
<span class="go">4294967296</span>
</pre></div>
</div>
<p>è¿­ä»£ç½‘ç»œä¸Šçš„â€œå¯ç”¨â€åœ°å€:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">net4</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;192.0.2.0/24&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">net4</span><span class="o">.</span><span class="n">hosts</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  
<span class="go">192.0.2.1</span>
<span class="go">192.0.2.2</span>
<span class="go">192.0.2.3</span>
<span class="go">192.0.2.4</span>
<span class="gp">...</span>
<span class="go">192.0.2.252</span>
<span class="go">192.0.2.253</span>
<span class="go">192.0.2.254</span>
</pre></div>
</div>
<p>è·å–ç½‘ç»œæ©ç ï¼ˆå³å¯¹åº”äºç½‘ç»œå‰ç¼€çš„è®¾ç½®ä½ï¼‰æˆ–ä¸»æœºæ©ç ï¼ˆä¸å±äºç½‘ç»œæ©ç çš„ä»»ä½•ä½ï¼‰ï¼š</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">net4</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;192.0.2.0/24&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net4</span><span class="o">.</span><span class="n">netmask</span>
<span class="go">IPv4Address(&#39;255.255.255.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net4</span><span class="o">.</span><span class="n">hostmask</span>
<span class="go">IPv4Address(&#39;0.0.0.255&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net6</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;2001:db8::0/96&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net6</span><span class="o">.</span><span class="n">netmask</span>
<span class="go">IPv6Address(&#39;ffff:ffff:ffff:ffff:ffff:ffff::&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net6</span><span class="o">.</span><span class="n">hostmask</span>
<span class="go">IPv6Address(&#39;::ffff:ffff&#39;)</span>
</pre></div>
</div>
<p>å±•å¼€æˆ–å‹ç¼©åœ°å€:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">addr6</span><span class="o">.</span><span class="n">exploded</span>
<span class="go">&#39;2001:0db8:0000:0000:0000:0000:0000:0001&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">addr6</span><span class="o">.</span><span class="n">compressed</span>
<span class="go">&#39;2001:db8::1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net6</span><span class="o">.</span><span class="n">exploded</span>
<span class="go">&#39;2001:0db8:0000:0000:0000:0000:0000:0000/96&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net6</span><span class="o">.</span><span class="n">compressed</span>
<span class="go">&#39;2001:db8::/96&#39;</span>
</pre></div>
</div>
<p>è™½ç„¶IPv4ä¸æ”¯æŒå±•å¼€æˆ–å‹ç¼©ï¼Œä½†å…³è”å¯¹è±¡ä»æä¾›ç›¸å…³å±æ€§ï¼Œå› æ­¤ç‰ˆæœ¬ä¸­æ€§ä»£ç å¯ä»¥è½»æ¾ç¡®ä¿æœ€ç®€æ´æˆ–æœ€è¯¦ç»†çš„å½¢å¼ç”¨äºIPv6åœ°å€ï¼ŒåŒæ—¶ä»èƒ½æ­£ç¡®å¤„ç†IPv4åœ°å€ã€‚</p>
</div>
<div class="section" id="networks-as-lists-of-addresses">
<h2>Network ä½œä¸º Address åˆ—è¡¨<a class="headerlink" href="#networks-as-lists-of-addresses" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>å°†ç½‘ç»œè§†ä¸ºåˆ—è¡¨æœ‰æ—¶å¾ˆæœ‰ç”¨ã€‚ è¿™æ„å‘³ç€å®ƒå¯ä»¥åƒè¿™æ ·ç´¢å¼•å®ƒä»¬:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">net4</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">IPv4Address(&#39;192.0.2.1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net4</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">IPv4Address(&#39;192.0.2.255&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net6</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">IPv6Address(&#39;2001:db8::1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net6</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">IPv6Address(&#39;2001:db8::ffff:ffff&#39;)</span>
</pre></div>
</div>
<p>å®ƒè¿˜æ„å‘³ç€ç½‘ç»œå¯¹è±¡å¯ä»¥ä½¿ç”¨åƒè¿™æ ·çš„åˆ—è¡¨æˆå‘˜æµ‹è¯•è¯­æ³•:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">address</span> <span class="ow">in</span> <span class="n">network</span><span class="p">:</span>
    <span class="c1"># do something</span>
</pre></div>
</div>
<p>æ ¹æ®ç½‘ç»œå‰ç¼€æœ‰æ•ˆåœ°å®ŒæˆåŒ…å«æ€§æµ‹è¯•:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">addr4</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="s1">&#39;192.0.2.1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">addr4</span> <span class="ow">in</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;192.0.2.0/24&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">addr4</span> <span class="ow">in</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s1">&#39;192.0.3.0/24&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="section" id="comparisons">
<h2>æ¯”è¾ƒ<a class="headerlink" href="#comparisons" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p><a class="reference internal" href="ipaddress.html#module-ipaddress" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> æœ‰æ„ä¹‰åœ°æä¾›äº†ä¸€äº›ç®€å•ã€å¸Œæœ›ç›´è§‚çš„æ¯”è¾ƒå¯¹è±¡çš„æ–¹æ³•:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="s1">&#39;192.0.2.1&#39;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="s1">&#39;192.0.2.2&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>å¦‚æœä½ å°è¯•æ¯”è¾ƒä¸åŒç‰ˆæœ¬æˆ–ä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œåˆ™ä¼šå¼•å‘ <a class="reference internal" href="exceptions.html#TypeError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> å¼‚å¸¸ã€‚</p>
</div>
<div class="section" id="using-ip-addresses-with-other-modules">
<h2>å°†IPåœ°å€ä¸å…¶ä»–æ¨¡å—ä¸€èµ·ä½¿ç”¨<a class="headerlink" href="#using-ip-addresses-with-other-modules" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>å…¶ä»–ä½¿ç”¨IPåœ°å€çš„æ¨¡å—ï¼ˆä¾‹å¦‚ <a class="reference internal" href="socket.html#module-socket" tppabs="https://docs.python.org/zh-cn/3/library/socket.html#module-socket" title="socket: Low-level networking interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code></a> ï¼‰é€šå¸¸ä¸ä¼šç›´æ¥æ¥å—æ¥è‡ªè¯¥æ¨¡å—çš„å¯¹è±¡ã€‚ ç›¸åï¼Œå®ƒä»¬å¿…é¡»è¢«å¼ºåˆ¶è½¬æ¢ä¸ºå¦ä¸€ä¸ªæ¨¡å—å¯æ¥å—çš„æ•´æ•°æˆ–å­—ç¬¦ä¸²:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">addr4</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="s1">&#39;192.0.2.1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">addr4</span><span class="p">)</span>
<span class="go">&#39;192.0.2.1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">addr4</span><span class="p">)</span>
<span class="go">3221225985</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-more-detail-when-instance-creation-fails">
<h2>å®ä¾‹åˆ›å»ºå¤±è´¥æ—¶è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯<a class="headerlink" href="#getting-more-detail-when-instance-creation-fails" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>ä½¿ç”¨ä¸ç‰ˆæœ¬æ— å…³çš„å·¥å‚å‡½æ•°åˆ›å»º address/network/interface å¯¹è±¡æ—¶ï¼Œä»»ä½•é”™è¯¯éƒ½å°†æŠ¥å‘Šä¸º <a class="reference internal" href="exceptions.html#ValueError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> ï¼Œå¸¦æœ‰ä¸€èˆ¬é”™è¯¯æ¶ˆæ¯ï¼Œåªæ˜¯è¯´ä¼ å…¥çš„å€¼æœªè¢«è¯†åˆ«ä¸ºè¯¥ç±»å‹çš„å¯¹è±¡ã€‚ ç¼ºå°‘ç‰¹å®šé”™è¯¯æ˜¯å› ä¸ºæœ‰å¿…è¦çŸ¥é“è¯¥å€¼æ˜¯*å‡è®¾*æ˜¯IPv4è¿˜æ˜¯IPv6ï¼Œä»¥ä¾¿æä¾›æœ‰å…³å…¶è¢«æ‹’ç»åŸå› çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</p>
<p>ä¸ºäº†æ”¯æŒè®¿é—®è¿™äº›é¢å¤–ç»†èŠ‚çš„ç”¨ä¾‹ï¼Œå„ä¸ªç±»æ„é€ å‡½æ•°å®é™…ä¸Šå¼•å‘äº† <a class="reference internal" href="exceptions.html#ValueError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> å­ç±» <a class="reference internal" href="ipaddress.html#ipaddress.AddressValueError" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#ipaddress.AddressValueError" title="ipaddress.AddressValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ipaddress.AddressValueError</span></code></a> å’Œ <a class="reference internal" href="ipaddress.html#ipaddress.NetmaskValueError" tppabs="https://docs.python.org/zh-cn/3/library/ipaddress.html#ipaddress.NetmaskValueError" title="ipaddress.NetmaskValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ipaddress.NetmaskValueError</span></code></a> ä»¥å‡†ç¡®æŒ‡ç¤ºå®šä¹‰çš„å“ªä¸€éƒ¨åˆ†æ— æ³•æ­£ç¡®è§£æã€‚</p>
<p>ç›´æ¥ä½¿ç”¨ç±»æ„é€ å‡½æ•°æ—¶ï¼Œé”™è¯¯æ¶ˆæ¯æ›´åŠ è¯¦ç»†ã€‚ ä¾‹å¦‚:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="s2">&quot;192.168.0.256&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">&#39;192.168.0.256&#39; does not appear to be an IPv4 or IPv6 address</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv4Address</span><span class="p">(</span><span class="s2">&quot;192.168.0.256&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ipaddress.AddressValueError</span>: <span class="n">Octet 256 (&gt; 255) not permitted in &#39;192.168.0.256&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_network</span><span class="p">(</span><span class="s2">&quot;192.168.0.1/64&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">&#39;192.168.0.1/64&#39; does not appear to be an IPv4 or IPv6 network</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv4Network</span><span class="p">(</span><span class="s2">&quot;192.168.0.1/64&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ipaddress.NetmaskValueError</span>: <span class="n">&#39;64&#39; is not a valid netmask</span>
</pre></div>
</div>
<p>ä½†æ˜¯ï¼Œä¸¤ä¸ªæ¨¡å—ç‰¹å®šçš„å¼‚å¸¸éƒ½æœ‰ <a class="reference internal" href="exceptions.html#ValueError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> ä½œä¸ºå®ƒä»¬çš„çˆ¶ç±»ï¼Œæ‰€ä»¥å¦‚æœä½ ä¸å…³å¿ƒç‰¹å®šç±»å‹çš„é”™è¯¯ï¼Œä½ ä»ç„¶å¯ä»¥ç¼–å†™å¦‚ä¸‹ä»£ç :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">network</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv4Network</span><span class="p">(</span><span class="n">address</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;address/netmask is invalid for IPv4:&#39;</span><span class="p">,</span> <span class="n">address</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html" tppabs="https://docs.python.org/zh-cn/3/contents.html">ç›®å½•</a></h3>
  <ul>
<li><a class="reference internal" href="#">ipaddressæ¨¡å—ä»‹ç»</a><ul>
<li><a class="reference internal" href="#creating-address-network-interface-objects">åˆ›å»º Address/Network/Interface å¯¹è±¡</a><ul>
<li><a class="reference internal" href="#a-note-on-ip-versions">å…³äºIPç‰ˆæœ¬çš„è¯´æ˜</a></li>
<li><a class="reference internal" href="#ip-host-addresses">IPä¸»æœºåœ°å€</a></li>
<li><a class="reference internal" href="#defining-networks">å®šä¹‰ç½‘ç»œ</a></li>
<li><a class="reference internal" href="#host-interfaces">ä¸»æœºæ¥å£</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inspecting-address-network-interface-objects">å®¡æŸ¥ Address/Network/Interface å¯¹è±¡</a></li>
<li><a class="reference internal" href="#networks-as-lists-of-addresses">Network ä½œä¸º Address åˆ—è¡¨</a></li>
<li><a class="reference internal" href="#comparisons">æ¯”è¾ƒ</a></li>
<li><a class="reference internal" href="#using-ip-addresses-with-other-modules">å°†IPåœ°å€ä¸å…¶ä»–æ¨¡å—ä¸€èµ·ä½¿ç”¨</a></li>
<li><a class="reference internal" href="#getting-more-detail-when-instance-creation-fails">å®ä¾‹åˆ›å»ºå¤±è´¥æ—¶è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯</a></li>
</ul>
</li>
</ul>

  <h4>ä¸Šä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="argparse-1.html" tppabs="https://docs.python.org/zh-cn/3/howto/argparse.html"
                        title="ä¸Šä¸€ç« ">Argparse æ•™ç¨‹</a></p>
  <h4>ä¸‹ä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="clinic.html" tppabs="https://docs.python.org/zh-cn/3/howto/clinic.html"
                        title="ä¸‹ä¸€ç« ">Argument Clinic How-To</a></p>
  <div role="note" aria-label="source link">
    <h3>æœ¬é¡µ</h3>
    <ul class="this-page-menu">
      <li><a href="bugs.html" tppabs="https://docs.python.org/zh-cn/3/bugs.html">æäº¤ Bug</a></li>
      <li>
        <a href="javascript:if(confirm('https://github.com/python/cpython/blob/3.8/Doc/howto/ipaddress.rst  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/python/cpython/blob/3.8/Doc/howto/ipaddress.rst'" tppabs="https://github.com/python/cpython/blob/3.8/Doc/howto/ipaddress.rst"
            rel="nofollow">æ˜¾ç¤ºæºä»£ç 
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             >ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="clinic.html" tppabs="https://docs.python.org/zh-cn/3/howto/clinic.html" title="Argument Clinic How-To"
             >ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="argparse-1.html" tppabs="https://docs.python.org/zh-cn/3/howto/argparse.html" title="Argparse æ•™ç¨‹"
             >ä¸Šä¸€é¡µ</a> |</li>

    <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <span class="language_switcher_placeholder">zh_CN</span>
      <span class="version_switcher_placeholder">3.8.2</span>
      <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index-5.html" tppabs="https://docs.python.org/zh-cn/3/howto/index.html" >Python å¸¸ç”¨æŒ‡å¼•</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="copyright.html" tppabs="https://docs.python.org/zh-cn/3/copyright.html">ç‰ˆæƒæ‰€æœ‰</a> 2001-2020, Python Software Foundation.
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="javascript:if(confirm('https://www.python.org/psf/donations/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/psf/donations/'" tppabs="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    æœ€åæ›´æ–°äº 3æœˆ 26, 2020.
    <a href="javascript:if(confirm('https://docs.python.org/3/bugs.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://docs.python.org/3/bugs.html'" tppabs="https://docs.python.org/3/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="javascript:if(confirm('https://www.sphinx-doc.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.sphinx-doc.org/'" tppabs="https://www.sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>

  </body>
</html>