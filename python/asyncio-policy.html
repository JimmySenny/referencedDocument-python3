
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>ç­–ç•¥ &#8212; Python 3.8.2 æ–‡æ¡£</title>
    <link rel="stylesheet" href="pydoctheme.css" tppabs="https://docs.python.org/zh-cn/3/_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="pygments.css" tppabs="https://docs.python.org/zh-cn/3/_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="documentation_options.js" tppabs="https://docs.python.org/zh-cn/3/_static/documentation_options.js"></script>
    <script type="text/javascript" src="jquery.js" tppabs="https://docs.python.org/zh-cn/3/_static/jquery.js"></script>
    <script type="text/javascript" src="underscore.js" tppabs="https://docs.python.org/zh-cn/3/_static/underscore.js"></script>
    <script type="text/javascript" src="doctools.js" tppabs="https://docs.python.org/zh-cn/3/_static/doctools.js"></script>
    <script type="text/javascript" src="language_data.js" tppabs="https://docs.python.org/zh-cn/3/_static/language_data.js"></script>
    <script type="text/javascript" src="translations.js" tppabs="https://docs.python.org/zh-cn/3/_static/translations.js"></script>
    
    <script type="text/javascript" src="sidebar.js" tppabs="https://docs.python.org/zh-cn/3/_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="åœ¨ Python 3.8.2 æ–‡æ¡£ ä¸­æœç´¢"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="å…³äºè¿™äº›æ–‡æ¡£" href="../about.html" />
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="copyright" title="ç‰ˆæƒæ‰€æœ‰" href="../copyright.html" />
    <link rel="next" title="å¹³å°æ”¯æŒ" href="asyncio-platforms.html" />
    <link rel="prev" title="ä¼ è¾“å’Œåè®®" href="asyncio-protocol.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/asyncio-policy.html" />
    
      
      <script type="text/javascript" src="switchers.js" tppabs="https://docs.python.org/zh-cn/3/_static/switchers.js"></script>
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>

    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    
    <script type="text/javascript" src="copybutton.js" tppabs="https://docs.python.org/zh-cn/3/_static/copybutton.js"></script>
    
     


  </head><body>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             accesskey="I">ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="asyncio-platforms.html" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-platforms.html" title="å¹³å°æ”¯æŒ"
             accesskey="N">ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="asyncio-protocol.html" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-protocol.html" title="ä¼ è¾“å’Œåè®®"
             accesskey="P">ä¸Šä¸€é¡µ</a> |</li>

    <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <span class="language_switcher_placeholder">zh_CN</span>
      <span class="version_switcher_placeholder">3.8.2</span>
      <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index-2.html" tppabs="https://docs.python.org/zh-cn/3/library/index.html" >Python æ ‡å‡†åº“</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="ipc.html" tppabs="https://docs.python.org/zh-cn/3/library/ipc.html" >ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="asyncio.html" tppabs="https://docs.python.org/zh-cn/3/library/asyncio.html" accesskey="U"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code> --- å¼‚æ­¥ I/O</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="policies">
<span id="asyncio-policies"></span><h1>ç­–ç•¥<a class="headerlink" href="#policies" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<p>äº‹ä»¶å¾ªç¯ç­–ç•¥æ˜¯å„ä¸ªè¿›ç¨‹çš„å…¨å±€å¯¹è±¡ ï¼Œå®ƒæ§åˆ¶äº‹ä»¶å¾ªç¯çš„ç®¡ç†ã€‚æ¯ä¸ªäº‹ä»¶å¾ªç¯éƒ½æœ‰ä¸€ä¸ªé»˜è®¤ç­–ç•¥ï¼Œå¯ä»¥ä½¿ç”¨ç­–ç•¥APIæ›´æ”¹å’Œå®šåˆ¶è¯¥ç­–ç•¥ã€‚</p>
<p>ç­–ç•¥å®šä¹‰äº†â€œä¸Šä¸‹æ–‡â€çš„æ¦‚å¿µï¼Œæ¯ä¸ªä¸Šä¸‹æ–‡ç®¡ç†ä¸€ä¸ªå•ç‹¬çš„äº‹ä»¶å¾ªç¯ã€‚é»˜è®¤ç­–ç•¥å°†*context*å®šä¹‰ä¸ºå½“å‰çº¿ç¨‹ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶å¾ªç¯ç­–ç•¥ï¼Œå¯ä»¥è‡ªå®šä¹‰ <a class="reference internal" href="asyncio-eventloop.html#asyncio.get_event_loop" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.get_event_loop" title="asyncio.get_event_loop"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_event_loop()</span></code></a> ã€ <a class="reference internal" href="asyncio-eventloop.html#asyncio.set_event_loop" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.set_event_loop" title="asyncio.set_event_loop"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_event_loop()</span></code></a>  å’Œ <a class="reference internal" href="asyncio-eventloop.html#asyncio.new_event_loop" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.new_event_loop" title="asyncio.new_event_loop"><code class="xref py py-func docutils literal notranslate"><span class="pre">new_event_loop()</span></code></a> å‡½æ•°çš„è¡Œä¸ºã€‚</p>
<p>ç­–ç•¥å¯¹è±¡åº”è¯¥å®ç° <a class="reference internal" href="#asyncio.AbstractEventLoopPolicy" title="asyncio.AbstractEventLoopPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractEventLoopPolicy</span></code></a> æŠ½è±¡åŸºç±»ä¸­å®šä¹‰çš„APIã€‚</p>
<div class="section" id="getting-and-setting-the-policy">
<h2>è·å–å’Œè®¾ç½®ç­–ç•¥<a class="headerlink" href="#getting-and-setting-the-policy" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>å¯ä»¥ä½¿ç”¨ä¸‹é¢å‡½æ•°è·å–å’Œè®¾ç½®å½“å‰è¿›ç¨‹çš„ç­–ç•¥:</p>
<dl class="function">
<dt id="asyncio.get_event_loop_policy">
<code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">get_event_loop_policy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.get_event_loop_policy" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›å½“å‰è¿›ç¨‹åŸŸçš„ç­–ç•¥ã€‚</p>
</dd></dl>

<dl class="function">
<dt id="asyncio.set_event_loop_policy">
<code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">set_event_loop_policy</code><span class="sig-paren">(</span><em class="sig-param">policy</em><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.set_event_loop_policy" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°† <em>policy</em> è®¾ç½®ä¸ºå½“å‰è¿›ç¨‹åŸŸç­–ç•¥ã€‚</p>
<p>å¦‚æœ <em>policy</em> è®¾ä¸º <code class="docutils literal notranslate"><span class="pre">None</span></code> å°†æ¢å¤é»˜è®¤ç­–ç•¥ã€‚</p>
</dd></dl>

</div>
<div class="section" id="policy-objects">
<h2>ç­–ç•¥å¯¹è±¡<a class="headerlink" href="#policy-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>æŠ½è±¡äº‹ä»¶å¾ªç¯ç­–ç•¥åŸºç±»å®šä¹‰å¦‚ä¸‹:</p>
<dl class="class">
<dt id="asyncio.AbstractEventLoopPolicy">
<em class="property">class </em><code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">AbstractEventLoopPolicy</code><a class="headerlink" href="#asyncio.AbstractEventLoopPolicy" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å¼‚æ­¥ç­–ç•¥çš„æŠ½è±¡åŸºç±»ã€‚</p>
<dl class="method">
<dt id="asyncio.AbstractEventLoopPolicy.get_event_loop">
<code class="sig-name descname">get_event_loop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.AbstractEventLoopPolicy.get_event_loop" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä¸ºå½“å‰ä¸Šä¸‹æ–‡è·å–äº‹ä»¶å¾ªç¯ã€‚</p>
<p>è¿”å›ä¸€ä¸ªå®ç°  <a class="reference internal" href="asyncio-eventloop.html#asyncio.AbstractEventLoop" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop" title="asyncio.AbstractEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractEventLoop</span></code></a>  æ¥å£çš„äº‹ä»¶å¾ªç¯å¯¹è±¡ã€‚</p>
<p>è¯¥æ–¹æ³•æ°¸è¿œè¿”å› <code class="docutils literal notranslate"><span class="pre">None</span></code>ã€‚</p>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.6 ç‰ˆæ›´æ”¹.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="asyncio.AbstractEventLoopPolicy.set_event_loop">
<code class="sig-name descname">set_event_loop</code><span class="sig-paren">(</span><em class="sig-param">loop</em><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.AbstractEventLoopPolicy.set_event_loop" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°†å½“å‰ä¸Šä¸‹æ–‡çš„äº‹ä»¶å¾ªç¯è®¾ç½®ä¸º  <em>loop</em> ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="asyncio.AbstractEventLoopPolicy.new_event_loop">
<code class="sig-name descname">new_event_loop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.AbstractEventLoopPolicy.new_event_loop" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„äº‹ä»¶å¾ªç¯å¯¹è±¡ã€‚</p>
<p>è¯¥æ–¹æ³•æ°¸è¿œè¿”å› <code class="docutils literal notranslate"><span class="pre">None</span></code>ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="asyncio.AbstractEventLoopPolicy.get_child_watcher">
<code class="sig-name descname">get_child_watcher</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.AbstractEventLoopPolicy.get_child_watcher" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è·å–å­è¿›ç¨‹ç›‘è§†å™¨å¯¹è±¡ã€‚</p>
<p>è¿”å›ä¸€ä¸ªå®ç° <a class="reference internal" href="#asyncio.AbstractChildWatcher" title="asyncio.AbstractChildWatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractChildWatcher</span></code></a> æ¥å£çš„ç›‘è§†å™¨å¯¹è±¡ã€‚</p>
<p>è¯¥å‡½æ•°ä»…æ”¯æŒUnixã€‚</p>
</dd></dl>

<dl class="method">
<dt id="asyncio.AbstractEventLoopPolicy.set_child_watcher">
<code class="sig-name descname">set_child_watcher</code><span class="sig-paren">(</span><em class="sig-param">watcher</em><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.AbstractEventLoopPolicy.set_child_watcher" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°†å½“å‰å­è¿›ç¨‹ç›‘è§†å™¨è®¾ç½®ä¸º <em>watcher</em> ã€‚</p>
<p>è¯¥å‡½æ•°ä»…æ”¯æŒUnixã€‚</p>
</dd></dl>

</dd></dl>

<p>asyncioé™„å¸¦ä¸‹åˆ—å†…ç½®ç­–ç•¥:</p>
<dl class="class">
<dt id="asyncio.DefaultEventLoopPolicy">
<em class="property">class </em><code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">DefaultEventLoopPolicy</code><a class="headerlink" href="#asyncio.DefaultEventLoopPolicy" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The default asyncio policy.  Uses <a class="reference internal" href="asyncio-eventloop.html#asyncio.SelectorEventLoop" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.SelectorEventLoop" title="asyncio.SelectorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectorEventLoop</span></code></a>
on Unix and <a class="reference internal" href="asyncio-eventloop.html#asyncio.ProactorEventLoop" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.ProactorEventLoop" title="asyncio.ProactorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProactorEventLoop</span></code></a> on Windows.</p>
<p>ä¸éœ€è¦æ‰‹åŠ¨å®‰è£…é»˜è®¤ç­–ç•¥ã€‚asyncioå·²é…ç½®æˆè‡ªåŠ¨ä½¿ç”¨é»˜è®¤ç­–ç•¥ã€‚</p>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.8 ç‰ˆæ›´æ”¹: </span>On Windows, <a class="reference internal" href="asyncio-eventloop.html#asyncio.ProactorEventLoop" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.ProactorEventLoop" title="asyncio.ProactorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProactorEventLoop</span></code></a> is now used by default.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="asyncio.WindowsSelectorEventLoopPolicy">
<em class="property">class </em><code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">WindowsSelectorEventLoopPolicy</code><a class="headerlink" href="#asyncio.WindowsSelectorEventLoopPolicy" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>An alternative event loop policy that uses the
<a class="reference internal" href="asyncio-eventloop.html#asyncio.SelectorEventLoop" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.SelectorEventLoop" title="asyncio.SelectorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectorEventLoop</span></code></a> event loop implementation.</p>
<p class="availability"><a class="reference internal" href="intro.html#availability" tppabs="https://docs.python.org/zh-cn/3/library/intro.html#availability"><span class="std std-ref">å¯ç”¨æ€§</span></a>: Windowsã€‚</p>
</dd></dl>

<dl class="class">
<dt id="asyncio.WindowsProactorEventLoopPolicy">
<em class="property">class </em><code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">WindowsProactorEventLoopPolicy</code><a class="headerlink" href="#asyncio.WindowsProactorEventLoopPolicy" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä½¿ç”¨  <a class="reference internal" href="asyncio-eventloop.html#asyncio.ProactorEventLoop" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.ProactorEventLoop" title="asyncio.ProactorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProactorEventLoop</span></code></a> äº‹ä»¶å¾ªç¯å®ç°çš„å¦ä¸€ç§äº‹ä»¶å¾ªç¯ç­–ç•¥ã€‚</p>
<p class="availability"><a class="reference internal" href="intro.html#availability" tppabs="https://docs.python.org/zh-cn/3/library/intro.html#availability"><span class="std std-ref">å¯ç”¨æ€§</span></a>: Windowsã€‚</p>
</dd></dl>

</div>
<div class="section" id="process-watchers">
<span id="asyncio-watchers"></span><h2>è¿›ç¨‹ç›‘è§†å™¨<a class="headerlink" href="#process-watchers" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>è¿›ç¨‹ç›‘è§†å™¨å…è®¸å®šåˆ¶äº‹ä»¶å¾ªç¯å¦‚ä½•ç›‘è§†Unixå­è¿›ç¨‹ã€‚å…·ä½“æ¥è¯´ï¼Œäº‹ä»¶å¾ªç¯éœ€è¦çŸ¥é“å­è¿›ç¨‹ä½•æ—¶é€€å‡ºã€‚</p>
<p>åœ¨asyncioä¸­å­è¿›ç¨‹ç”±  <a class="reference internal" href="asyncio-subprocess.html#asyncio.create_subprocess_exec" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-subprocess.html#asyncio.create_subprocess_exec" title="asyncio.create_subprocess_exec"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_subprocess_exec()</span></code></a> å’Œ <a class="reference internal" href="asyncio-eventloop.html#asyncio.loop.subprocess_exec" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.subprocess_exec" title="asyncio.loop.subprocess_exec"><code class="xref py py-meth docutils literal notranslate"><span class="pre">loop.subprocess_exec()</span></code></a> å‡½æ•°åˆ›å»ºã€‚</p>
<p>asyncio defines the <a class="reference internal" href="#asyncio.AbstractChildWatcher" title="asyncio.AbstractChildWatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractChildWatcher</span></code></a> abstract base class, which child
watchers should implement, and has four different implementations:
<a class="reference internal" href="#asyncio.ThreadedChildWatcher" title="asyncio.ThreadedChildWatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">ThreadedChildWatcher</span></code></a> (configured to be used by default),
<a class="reference internal" href="#asyncio.MultiLoopChildWatcher" title="asyncio.MultiLoopChildWatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiLoopChildWatcher</span></code></a>, <a class="reference internal" href="#asyncio.SafeChildWatcher" title="asyncio.SafeChildWatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">SafeChildWatcher</span></code></a>, and
<a class="reference internal" href="#asyncio.FastChildWatcher" title="asyncio.FastChildWatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">FastChildWatcher</span></code></a>.</p>
<p>è¯·å‚é˜…  <a class="reference internal" href="asyncio-subprocess.html#asyncio-subprocess-threads" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-subprocess.html#asyncio-subprocess-threads"><span class="std std-ref">å­è¿›ç¨‹å’Œçº¿ç¨‹</span></a> éƒ¨åˆ†ã€‚</p>
<p>ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°å¯ç”¨äºè‡ªå®šä¹‰å­è¿›ç¨‹ç›‘è§†å™¨å®ç°ï¼Œå®ƒå°†è¢«asyncioäº‹ä»¶å¾ªç¯ä½¿ç”¨:</p>
<dl class="function">
<dt id="asyncio.get_child_watcher">
<code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">get_child_watcher</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.get_child_watcher" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›å½“å‰ç­–ç•¥çš„å½“å‰å­ç›‘è§†å™¨ã€‚</p>
</dd></dl>

<dl class="function">
<dt id="asyncio.set_child_watcher">
<code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">set_child_watcher</code><span class="sig-paren">(</span><em class="sig-param">watcher</em><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.set_child_watcher" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°†å½“å‰ç­–ç•¥çš„å­ç›‘è§†å™¨è®¾ç½®ä¸º <em>watcher</em> ã€‚<em>watcher</em> å¿…é¡»å®ç° <a class="reference internal" href="#asyncio.AbstractChildWatcher" title="asyncio.AbstractChildWatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractChildWatcher</span></code></a> åŸºç±»å®šä¹‰çš„æ–¹æ³•ã€‚</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>ç¬¬ä¸‰æ–¹äº‹ä»¶å¾ªç¯å®ç°å¯èƒ½ä¸æ”¯æŒè‡ªå®šä¹‰å­ç›‘è§†å™¨ã€‚å¯¹äºè¿™æ ·çš„äº‹ä»¶å¾ªç¯ï¼Œç¦æ­¢ä½¿ç”¨ <a class="reference internal" href="#asyncio.set_child_watcher" title="asyncio.set_child_watcher"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_child_watcher()</span></code></a> æˆ–ä¸èµ·ä½œç”¨ã€‚</p>
</div>
<dl class="class">
<dt id="asyncio.AbstractChildWatcher">
<em class="property">class </em><code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">AbstractChildWatcher</code><a class="headerlink" href="#asyncio.AbstractChildWatcher" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><dl class="method">
<dt id="asyncio.AbstractChildWatcher.add_child_handler">
<code class="sig-name descname">add_child_handler</code><span class="sig-paren">(</span><em class="sig-param">pid</em>, <em class="sig-param">callback</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.AbstractChildWatcher.add_child_handler" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æ³¨å†Œä¸€ä¸ªæ–°çš„å­å¤„ç†å›è°ƒå‡½æ•°ã€‚</p>
<p>å®‰æ’ <code class="docutils literal notranslate"><span class="pre">callback(pid,</span> <span class="pre">returncode,</span> <span class="pre">*args)</span></code> åœ¨è¿›ç¨‹çš„PIDä¸ <em>pid</em> ç›¸ç­‰æ—¶è°ƒç”¨ã€‚æŒ‡å®šå¦ä¸€ä¸ªåŒè¿›ç¨‹çš„å›è°ƒå‡½æ•°æ›¿æ¢ä¹‹å‰çš„å›è°ƒå¤„ç†å‡½æ•°ã€‚</p>
<p>å›è°ƒå‡½æ•° <em>callback</em> å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="asyncio.AbstractChildWatcher.remove_child_handler">
<code class="sig-name descname">remove_child_handler</code><span class="sig-paren">(</span><em class="sig-param">pid</em><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.AbstractChildWatcher.remove_child_handler" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>åˆ é™¤è¿›ç¨‹PIDä¸ <em>pid</em> ç›¸ç­‰çš„è¿›ç¨‹çš„å¤„ç†å‡½æ•°ã€‚</p>
<p>å¤„ç†å‡½æ•°æˆåŠŸåˆ é™¤æ—¶è¿”å› <code class="docutils literal notranslate"><span class="pre">True</span></code> ï¼Œæ²¡æœ‰åˆ é™¤æ—¶è¿”å› <code class="docutils literal notranslate"><span class="pre">False</span></code> ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="asyncio.AbstractChildWatcher.attach_loop">
<code class="sig-name descname">attach_loop</code><span class="sig-paren">(</span><em class="sig-param">loop</em><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.AbstractChildWatcher.attach_loop" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ç»™ä¸€ä¸ªäº‹ä»¶å¾ªç¯ç»‘å®šç›‘è§†å™¨ã€‚</p>
<p>å¦‚æœç›‘è§†å™¨ä¹‹å‰å·²ç»‘å®šå¦ä¸€ä¸ªäº‹ä»¶å¾ªç¯ï¼Œé‚£ä¹ˆåœ¨ç»‘å®šæ–°å¾ªç¯å‰ä¼šå…ˆè§£ç»‘åŸæ¥çš„äº‹ä»¶å¾ªç¯ã€‚</p>
<p>æ³¨æ„ï¼šå¾ªç¯æœ‰å¯èƒ½æ˜¯ <code class="docutils literal notranslate"><span class="pre">None</span></code> ã€‚</p>
</dd></dl>

<dl class="method">
<dt id="asyncio.AbstractChildWatcher.is_active">
<code class="sig-name descname">is_active</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.AbstractChildWatcher.is_active" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if the watcher is ready to use.</p>
<p>Spawning a subprocess with <em>inactive</em> current child watcher raises
<a class="reference internal" href="exceptions.html#RuntimeError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">3.8 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="asyncio.AbstractChildWatcher.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#asyncio.AbstractChildWatcher.close" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å…³é—­ç›‘è§†å™¨ã€‚</p>
<p>å¿…é¡»è°ƒç”¨è¿™ä¸ªæ–¹æ³•ä»¥ç¡®ä¿ç›¸å…³èµ„æºä¼šè¢«æ¸…ç†ã€‚</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="asyncio.ThreadedChildWatcher">
<em class="property">class </em><code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">ThreadedChildWatcher</code><a class="headerlink" href="#asyncio.ThreadedChildWatcher" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>This implementation starts a new waiting thread for every subprocess spawn.</p>
<p>It works reliably even when the asyncio event loop is run in a non-main OS thread.</p>
<p>There is no noticeable overhead when handling a big number of children (<em>O(1)</em> each
time a child terminates), but stating a thread per process requires extra memory.</p>
<p>This watcher is used by default.</p>
<div class="versionadded">
<p><span class="versionmodified added">3.8 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="class">
<dt id="asyncio.MultiLoopChildWatcher">
<em class="property">class </em><code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">MultiLoopChildWatcher</code><a class="headerlink" href="#asyncio.MultiLoopChildWatcher" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>This implementation registers a <code class="xref py py-data docutils literal notranslate"><span class="pre">SIGCHLD</span></code> signal handler on
instantiation. That can break third-party code that installs a custom handler for
<cite>SIGCHLD</cite>.  signal).</p>
<p>The watcher avoids disrupting other code spawning processes
by polling every process explicitly on a <code class="xref py py-data docutils literal notranslate"><span class="pre">SIGCHLD</span></code> signal.</p>
<p>There is no limitation for running subprocesses from different threads once the
watcher is installed.</p>
<p>The solution is safe but it has a significant overhead when
handling a big number of processes (<em>O(n)</em> each time a
<code class="xref py py-data docutils literal notranslate"><span class="pre">SIGCHLD</span></code> is received).</p>
<div class="versionadded">
<p><span class="versionmodified added">3.8 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="class">
<dt id="asyncio.SafeChildWatcher">
<em class="property">class </em><code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">SafeChildWatcher</code><a class="headerlink" href="#asyncio.SafeChildWatcher" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>This implementation uses active event loop from the main thread to handle
<code class="xref py py-data docutils literal notranslate"><span class="pre">SIGCHLD</span></code> signal. If the main thread has no running event loop another
thread cannot spawn a subprocess (<a class="reference internal" href="exceptions.html#RuntimeError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> is raised).</p>
<p>The watcher avoids disrupting other code spawning processes
by polling every process explicitly on a <code class="xref py py-data docutils literal notranslate"><span class="pre">SIGCHLD</span></code> signal.</p>
<p>This solution is as safe as <a class="reference internal" href="#asyncio.MultiLoopChildWatcher" title="asyncio.MultiLoopChildWatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiLoopChildWatcher</span></code></a> and has the same <em>O(N)</em>
complexity but requires a running event loop in the main thread to work.</p>
</dd></dl>

<dl class="class">
<dt id="asyncio.FastChildWatcher">
<em class="property">class </em><code class="sig-prename descclassname">asyncio.</code><code class="sig-name descname">FastChildWatcher</code><a class="headerlink" href="#asyncio.FastChildWatcher" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿™ç§å®ç°ç›´æ¥è°ƒç”¨  <code class="docutils literal notranslate"><span class="pre">os.waitpid(-1)</span></code> æ¥è·å–æ‰€æœ‰å·²ç»“æŸçš„è¿›ç¨‹ï¼Œå¯èƒ½ä¼šä¸­æ–­å…¶å®ƒä»£ç æ´ç”Ÿè¿›ç¨‹å¹¶ç­‰å¾…å®ƒä»¬ç»“æŸã€‚</p>
<p>åœ¨å¤„ç†å¤§é‡å­ç›‘è§†å™¨æ—¶æ²¡æœ‰æ˜æ˜¾çš„å¼€é”€( <em>O(1)</em>  æ¯æ¬¡å­ç›‘è§†å™¨ç»“æŸ)ã€‚</p>
<p>This solution requires a running event loop in the main thread to work, as
<a class="reference internal" href="#asyncio.SafeChildWatcher" title="asyncio.SafeChildWatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">SafeChildWatcher</span></code></a>.</p>
</dd></dl>

</div>
<div class="section" id="custom-policies">
<h2>è‡ªå®šä¹‰ç­–ç•¥<a class="headerlink" href="#custom-policies" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>è¦å®ç°ä¸€ä¸ªæ–°çš„äº‹ä»¶å¾ªç¯ç­–ç•¥ï¼Œå»ºè®®å­ç±»åŒ– <a class="reference internal" href="#asyncio.DefaultEventLoopPolicy" title="asyncio.DefaultEventLoopPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultEventLoopPolicy</span></code></a> å¹¶é‡å†™éœ€è¦å®šåˆ¶è¡Œä¸ºçš„æ–¹æ³•ï¼Œä¾‹å¦‚:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEventLoopPolicy</span><span class="p">(</span><span class="n">asyncio</span><span class="o">.</span><span class="n">DefaultEventLoopPolicy</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">get_event_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the event loop.</span>

<span class="sd">        This may be None or an instance of EventLoop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">loop</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>
        <span class="c1"># Do something with loop ...</span>
        <span class="k">return</span> <span class="n">loop</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">set_event_loop_policy</span><span class="p">(</span><span class="n">MyEventLoopPolicy</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html" tppabs="https://docs.python.org/zh-cn/3/contents.html">ç›®å½•</a></h3>
  <ul>
<li><a class="reference internal" href="#">ç­–ç•¥</a><ul>
<li><a class="reference internal" href="#getting-and-setting-the-policy">è·å–å’Œè®¾ç½®ç­–ç•¥</a></li>
<li><a class="reference internal" href="#policy-objects">ç­–ç•¥å¯¹è±¡</a></li>
<li><a class="reference internal" href="#process-watchers">è¿›ç¨‹ç›‘è§†å™¨</a></li>
<li><a class="reference internal" href="#custom-policies">è‡ªå®šä¹‰ç­–ç•¥</a></li>
</ul>
</li>
</ul>

  <h4>ä¸Šä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="asyncio-protocol.html" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-protocol.html"
                        title="ä¸Šä¸€ç« ">ä¼ è¾“å’Œåè®®</a></p>
  <h4>ä¸‹ä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="asyncio-platforms.html" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-platforms.html"
                        title="ä¸‹ä¸€ç« ">å¹³å°æ”¯æŒ</a></p>
  <div role="note" aria-label="source link">
    <h3>æœ¬é¡µ</h3>
    <ul class="this-page-menu">
      <li><a href="bugs.html" tppabs="https://docs.python.org/zh-cn/3/bugs.html">æäº¤ Bug</a></li>
      <li>
        <a href="javascript:if(confirm('https://github.com/python/cpython/blob/3.8/Doc/library/asyncio-policy.rst  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/python/cpython/blob/3.8/Doc/library/asyncio-policy.rst'" tppabs="https://github.com/python/cpython/blob/3.8/Doc/library/asyncio-policy.rst"
            rel="nofollow">æ˜¾ç¤ºæºä»£ç 
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             >ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="asyncio-platforms.html" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-platforms.html" title="å¹³å°æ”¯æŒ"
             >ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="asyncio-protocol.html" tppabs="https://docs.python.org/zh-cn/3/library/asyncio-protocol.html" title="ä¼ è¾“å’Œåè®®"
             >ä¸Šä¸€é¡µ</a> |</li>

    <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <span class="language_switcher_placeholder">zh_CN</span>
      <span class="version_switcher_placeholder">3.8.2</span>
      <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index-2.html" tppabs="https://docs.python.org/zh-cn/3/library/index.html" >Python æ ‡å‡†åº“</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="ipc.html" tppabs="https://docs.python.org/zh-cn/3/library/ipc.html" >ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="asyncio.html" tppabs="https://docs.python.org/zh-cn/3/library/asyncio.html" ><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code> --- å¼‚æ­¥ I/O</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="copyright.html" tppabs="https://docs.python.org/zh-cn/3/copyright.html">ç‰ˆæƒæ‰€æœ‰</a> 2001-2020, Python Software Foundation.
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="javascript:if(confirm('https://www.python.org/psf/donations/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/psf/donations/'" tppabs="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    æœ€åæ›´æ–°äº 3æœˆ 26, 2020.
    <a href="javascript:if(confirm('https://docs.python.org/3/bugs.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://docs.python.org/3/bugs.html'" tppabs="https://docs.python.org/3/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="javascript:if(confirm('https://www.sphinx-doc.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.sphinx-doc.org/'" tppabs="https://www.sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>

  </body>
</html>