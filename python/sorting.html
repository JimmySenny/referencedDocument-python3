
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>æ’åºæŒ‡å— &#8212; Python 3.7.3 æ–‡æ¡£</title>
    <link rel="stylesheet" href="pydoctheme.css" tppabs="https://docs.python.org/zh-cn/3/_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="pygments.css" tppabs="https://docs.python.org/zh-cn/3/_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="documentation_options.js" tppabs="https://docs.python.org/zh-cn/3/_static/documentation_options.js"></script>
    <script type="text/javascript" src="jquery.js" tppabs="https://docs.python.org/zh-cn/3/_static/jquery.js"></script>
    <script type="text/javascript" src="underscore.js" tppabs="https://docs.python.org/zh-cn/3/_static/underscore.js"></script>
    <script type="text/javascript" src="doctools.js" tppabs="https://docs.python.org/zh-cn/3/_static/doctools.js"></script>
    <script type="text/javascript" src="language_data.js" tppabs="https://docs.python.org/zh-cn/3/_static/language_data.js"></script>
    <script type="text/javascript" src="translations.js" tppabs="https://docs.python.org/zh-cn/3/_static/translations.js"></script>
    
    <script type="text/javascript" src="sidebar.js" tppabs="https://docs.python.org/zh-cn/3/_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="åœ¨ Python 3.7.3 æ–‡æ¡£ ä¸­æœç´¢"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="å…³äºè¿™äº›æ–‡æ¡£" href="../about.html" />
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="copyright" title="ç‰ˆæƒæ‰€æœ‰" href="../copyright.html" />
    <link rel="next" title="Unicode æŒ‡å—" href="unicode.html" />
    <link rel="prev" title="å¥—æ¥å­—ç¼–ç¨‹æŒ‡å—" href="sockets.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <link rel="canonical" href="https://docs.python.org/3/howto/sorting.html" />
    
    <script type="text/javascript" src="copybutton.js" tppabs="https://docs.python.org/zh-cn/3/_static/copybutton.js"></script>
    <script type="text/javascript" src="switchers.js" tppabs="https://docs.python.org/zh-cn/3/_static/switchers.js"></script>
    
    
    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
 

  </head><body>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             accesskey="I">ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="unicode.html" tppabs="https://docs.python.org/zh-cn/3/howto/unicode.html" title="Unicode æŒ‡å—"
             accesskey="N">ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="sockets.html" tppabs="https://docs.python.org/zh-cn/3/howto/sockets.html" title="å¥—æ¥å­—ç¼–ç¨‹æŒ‡å—"
             accesskey="P">ä¸Šä¸€é¡µ</a> |</li>
        <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
        <li>
          <span class="language_switcher_placeholder">zh_CN</span>
          <span class="version_switcher_placeholder">3.7.3</span>
          <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="index-5.html" tppabs="https://docs.python.org/zh-cn/3/howto/index.html" accesskey="U">Python å¸¸ç”¨æŒ‡å¼•</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sorting-how-to">
<span id="sortinghowto"></span><h1>æ’åºæŒ‡å—<a class="headerlink" href="#sorting-how-to" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ä½œè€…:</th><td class="field-body">Andrew Dalke å’Œ Raymond Hettinger</td>
</tr>
<tr class="field-even field"><th class="field-name">å‘å¸ƒç‰ˆæœ¬:</th><td class="field-body">0.1</td>
</tr>
</tbody>
</table>
<p>Python åˆ—è¡¨æœ‰ä¸€ä¸ªå†…ç½®çš„ <a class="reference internal" href="stdtypes.html#list.sort" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list.sort" title="list.sort"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list.sort()</span></code></a> æ–¹æ³•å¯ä»¥ç›´æ¥ä¿®æ”¹åˆ—è¡¨ã€‚è¿˜æœ‰ä¸€ä¸ª <a class="reference internal" href="functions.html#sorted" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#sorted" title="sorted"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> å†…ç½®å‡½æ•°ï¼Œå®ƒä¼šä»ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡æ„å»ºä¸€ä¸ªæ–°çš„æ’åºåˆ—è¡¨ã€‚</p>
<p>åœ¨æœ¬æ–‡æ¡£ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢ä½¿ç”¨Pythonå¯¹æ•°æ®è¿›è¡Œæ’åºçš„å„ç§æŠ€æœ¯ã€‚</p>
<div class="section" id="sorting-basics">
<h2>åŸºæœ¬æ’åº<a class="headerlink" href="#sorting-basics" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>ç®€å•çš„å‡åºæ’åºéå¸¸ç®€å•ï¼šåªéœ€è°ƒç”¨ <a class="reference internal" href="functions.html#sorted" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#sorted" title="sorted"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> å‡½æ•°å³å¯ã€‚å®ƒä¼šè¿”å›ä¸€ä¸ªæ–°çš„å·²æ’åºåˆ—è¡¨ã€‚</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="go">[1, 2, 3, 4, 5]</span>
</pre></div>
</div>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <a class="reference internal" href="stdtypes.html#list.sort" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list.sort" title="list.sort"><code class="xref py py-func docutils literal notranslate"><span class="pre">list.sort()</span></code></a> æ–¹æ³•ï¼Œå®ƒä¼šç›´æ¥ä¿®æ”¹åŸåˆ—è¡¨ï¼ˆå¹¶è¿”å› <code class="docutils literal notranslate"><span class="pre">None</span></code> ä»¥é¿å…æ··æ·†ï¼‰ï¼Œé€šå¸¸æ¥è¯´å®ƒä¸å¦‚ <a class="reference internal" href="functions.html#sorted" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#sorted" title="sorted"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> æ–¹ä¾¿ â€”â€”â€” ä½†å¦‚æœä½ ä¸éœ€è¦åŸåˆ—è¡¨ï¼Œå®ƒä¼šæ›´æœ‰æ•ˆç‡ã€‚</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[1, 2, 3, 4, 5]</span>
</pre></div>
</div>
<p>å¦å¤–ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œ <a class="reference internal" href="stdtypes.html#list.sort" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list.sort" title="list.sort"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list.sort()</span></code></a> æ–¹æ³•åªæ˜¯ä¸ºåˆ—è¡¨å®šä¹‰çš„ï¼Œè€Œ <a class="reference internal" href="functions.html#sorted" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#sorted" title="sorted"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> å‡½æ•°å¯ä»¥æ¥å—ä»»ä½•å¯è¿­ä»£å¯¹è±¡ã€‚</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">})</span>
<span class="go">[1, 2, 3, 4, 5]</span>
</pre></div>
</div>
</div>
<div class="section" id="key-functions">
<h2>å…³é”®å‡½æ•°<a class="headerlink" href="#key-functions" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p><a class="reference internal" href="stdtypes.html#list.sort" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list.sort" title="list.sort"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list.sort()</span></code></a> å’Œ <a class="reference internal" href="functions.html#sorted" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#sorted" title="sorted"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> éƒ½æœ‰ä¸€ä¸ª <em>key</em> å½¢å‚æ¥æŒ‡å®šåœ¨è¿›è¡Œæ¯”è¾ƒä¹‹å‰è¦åœ¨æ¯ä¸ªåˆ—è¡¨å…ƒç´ ä¸Šè¿›è¡Œè°ƒç”¨çš„å‡½æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¸åŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ä¸²æ¯”è¾ƒï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="s2">&quot;This is a test string from Andrew&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;Andrew&#39;, &#39;from&#39;, &#39;is&#39;, &#39;string&#39;, &#39;test&#39;, &#39;This&#39;]</span>
</pre></div>
</div>
<p><em>key</em> å½¢å‚çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•°å¹¶å¹¶è¿”å›ä¸€ä¸ªç”¨äºæ’åºçš„é”®ã€‚è¿™ç§æŠ€å·§é€Ÿåº¦å¾ˆå¿«ï¼Œå› ä¸ºå¯¹äºæ¯ä¸ªè¾“å…¥è®°å½•åªä¼šè°ƒç”¨ä¸€æ¬¡ key å‡½æ•°ã€‚</p>
<p>ä¸€ç§å¸¸è§çš„æ¨¡å¼æ˜¯ä½¿ç”¨å¯¹è±¡çš„ä¸€äº›ç´¢å¼•ä½œä¸ºé”®å¯¹å¤æ‚å¯¹è±¡è¿›è¡Œæ’åºã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">student_tuples</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;jane&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;dave&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">student_tuples</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">student</span><span class="p">:</span> <span class="n">student</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>   <span class="c1"># sort by age</span>
<span class="go">[(&#39;dave&#39;, &#39;B&#39;, 10), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;john&#39;, &#39;A&#39;, 15)]</span>
</pre></div>
</div>
<p>åŒæ ·çš„æŠ€æœ¯ä¹Ÿé€‚ç”¨äºå…·æœ‰å‘½åå±æ€§çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Student</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">grade</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">grade</span> <span class="o">=</span> <span class="n">grade</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="nb">repr</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">grade</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">student_objects</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="n">Student</span><span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Student</span><span class="p">(</span><span class="s1">&#39;jane&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Student</span><span class="p">(</span><span class="s1">&#39;dave&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">student_objects</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">student</span><span class="p">:</span> <span class="n">student</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>   <span class="c1"># sort by age</span>
<span class="go">[(&#39;dave&#39;, &#39;B&#39;, 10), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;john&#39;, &#39;A&#39;, 15)]</span>
</pre></div>
</div>
</div>
<div class="section" id="operator-module-functions">
<h2>Operator æ¨¡å—å‡½æ•°<a class="headerlink" href="#operator-module-functions" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>ä¸Šé¢æ˜¾ç¤ºçš„é”®å‡½æ•°æ¨¡å¼éå¸¸å¸¸è§ï¼Œå› æ­¤ Python æä¾›äº†ä¾¿åˆ©åŠŸèƒ½ï¼Œä½¿è®¿é—®å™¨åŠŸèƒ½æ›´å®¹æ˜“ï¼Œæ›´å¿«æ·ã€‚  <a class="reference internal" href="operator.html#module-operator" tppabs="https://docs.python.org/zh-cn/3/library/operator.html#module-operator" title="operator: Functions corresponding to the standard operators."><code class="xref py py-mod docutils literal notranslate"><span class="pre">operator</span></code></a> æ¨¡å—æœ‰ <a class="reference internal" href="operator.html#operator.itemgetter" tppabs="https://docs.python.org/zh-cn/3/library/operator.html#operator.itemgetter" title="operator.itemgetter"><code class="xref py py-func docutils literal notranslate"><span class="pre">itemgetter()</span></code></a> ã€ <a class="reference internal" href="operator.html#operator.attrgetter" tppabs="https://docs.python.org/zh-cn/3/library/operator.html#operator.attrgetter" title="operator.attrgetter"><code class="xref py py-func docutils literal notranslate"><span class="pre">attrgetter()</span></code></a> å’Œ <a class="reference internal" href="operator.html#operator.methodcaller" tppabs="https://docs.python.org/zh-cn/3/library/operator.html#operator.methodcaller" title="operator.methodcaller"><code class="xref py py-func docutils literal notranslate"><span class="pre">methodcaller()</span></code></a> å‡½æ•°ã€‚</p>
<p>ä½¿ç”¨è¿™äº›å‡½æ•°ï¼Œä¸Šè¿°ç¤ºä¾‹å˜å¾—æ›´ç®€å•ï¼Œæ›´å¿«æ·ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">operator</span> <span class="k">import</span> <span class="n">itemgetter</span><span class="p">,</span> <span class="n">attrgetter</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">student_tuples</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[(&#39;dave&#39;, &#39;B&#39;, 10), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;john&#39;, &#39;A&#39;, 15)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">student_objects</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">))</span>
<span class="go">[(&#39;dave&#39;, &#39;B&#39;, 10), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;john&#39;, &#39;A&#39;, 15)]</span>
</pre></div>
</div>
<p>Operator æ¨¡å—åŠŸèƒ½å…è®¸å¤šçº§æ’åºã€‚ ä¾‹å¦‚ï¼ŒæŒ‰ <em>grade</em> æ’åºï¼Œç„¶åæŒ‰ <em>age</em> æ’åºï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">student_tuples</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[(&#39;john&#39;, &#39;A&#39;, 15), (&#39;dave&#39;, &#39;B&#39;, 10), (&#39;jane&#39;, &#39;B&#39;, 12)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">student_objects</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">&#39;grade&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">))</span>
<span class="go">[(&#39;john&#39;, &#39;A&#39;, 15), (&#39;dave&#39;, &#39;B&#39;, 10), (&#39;jane&#39;, &#39;B&#39;, 12)]</span>
</pre></div>
</div>
</div>
<div class="section" id="ascending-and-descending">
<h2>å‡åºå’Œé™åº<a class="headerlink" href="#ascending-and-descending" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p><a class="reference internal" href="stdtypes.html#list.sort" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list.sort" title="list.sort"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list.sort()</span></code></a> å’Œ <a class="reference internal" href="functions.html#sorted" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#sorted" title="sorted"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> æ¥å—å¸ƒå°”å€¼çš„ <em>reverse</em> å‚æ•°ã€‚è¿™ç”¨äºæ ‡è®°é™åºæ’åºã€‚ ä¾‹å¦‚ï¼Œè¦ä»¥åå‘ <em>age</em> é¡ºåºè·å–å­¦ç”Ÿæ•°æ®ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">student_tuples</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[(&#39;john&#39;, &#39;A&#39;, 15), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;dave&#39;, &#39;B&#39;, 10)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">student_objects</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[(&#39;john&#39;, &#39;A&#39;, 15), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;dave&#39;, &#39;B&#39;, 10)]</span>
</pre></div>
</div>
</div>
<div class="section" id="sort-stability-and-complex-sorts">
<h2>æ’åºç¨³å®šæ€§å’Œæ’åºå¤æ‚åº¦<a class="headerlink" href="#sort-stability-and-complex-sorts" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>æ’åºä¿è¯æ˜¯ <a class="reference external" href="javascript:if(confirm('https://en.wikipedia.org/wiki/issue27766  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/issue27766#Stability'" tppabs="https://en.wikipedia.org/wiki/Sorting_algorithm#Stability">ç¨³å®š</a> çš„ã€‚ è¿™æ„å‘³ç€å½“å¤šä¸ªè®°å½•å…·æœ‰ç›¸åŒçš„é”®å€¼æ—¶ï¼Œå°†ä¿ç•™å…¶åŸå§‹é¡ºåºã€‚</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">[(&#39;blue&#39;, 1), (&#39;blue&#39;, 2), (&#39;red&#39;, 1), (&#39;red&#39;, 2)]</span>
</pre></div>
</div>
<p>æ³¨æ„ <em>blue</em> çš„ä¸¤ä¸ªè®°å½•å¦‚ä½•ä¿ç•™å®ƒä»¬çš„åŸå§‹é¡ºåºï¼Œä»¥ä¾¿ <code class="docutils literal notranslate"><span class="pre">('blue',</span> <span class="pre">1)</span></code> ä¿è¯åœ¨ <code class="docutils literal notranslate"><span class="pre">('blue',</span> <span class="pre">2)</span></code> ä¹‹å‰ã€‚</p>
<p>è¿™ä¸ªç¾å¦™çš„å±æ€§å…è®¸ä½ åœ¨ä¸€ç³»åˆ—æ’åºæ­¥éª¤ä¸­æ„å»ºå¤æ‚çš„æ’åºã€‚ä¾‹å¦‚ï¼Œè¦æŒ‰ <em>grade</em> é™åºç„¶å <em>age</em> å‡åºå¯¹å­¦ç”Ÿæ•°æ®è¿›è¡Œæ’åºï¼Œè¯·å…ˆ <em>age</em> æ’åºï¼Œç„¶åå†ä½¿ç”¨ <em>grade</em> æ’åºï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">student_objects</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">))</span>     <span class="c1"># sort on secondary key</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">&#39;grade&#39;</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>       <span class="c1"># now sort on primary key, descending</span>
<span class="go">[(&#39;dave&#39;, &#39;B&#39;, 10), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;john&#39;, &#39;A&#39;, 15)]</span>
</pre></div>
</div>
<p>Python ä¸­ä½¿ç”¨çš„ <a class="reference external" href="javascript:if(confirm('https://en.wikipedia.org/wiki/Timsort  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/Timsort'" tppabs="https://en.wikipedia.org/wiki/Timsort">Timsort</a> ç®—æ³•å¯ä»¥æœ‰æ•ˆåœ°è¿›è¡Œå¤šç§æ’åºï¼Œå› ä¸ºå®ƒå¯ä»¥åˆ©ç”¨æ•°æ®é›†ä¸­å·²å­˜åœ¨çš„ä»»ä½•æ’åºã€‚</p>
</div>
<div class="section" id="the-old-way-using-decorate-sort-undecorate">
<h2>ä½¿ç”¨è£…é¥°-æ’åº-å»è£…é¥°çš„æ—§æ–¹æ³•<a class="headerlink" href="#the-old-way-using-decorate-sort-undecorate" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>è¿™ä¸ªä¸‰ä¸ªæ­¥éª¤è¢«ç§°ä¸º Decorate-Sort-Undecorate ï¼š</p>
<ul class="simple">
<li>é¦–å…ˆï¼Œåˆå§‹åˆ—è¡¨ä½¿ç”¨æ§åˆ¶æ’åºé¡ºåºçš„æ–°å€¼è¿›è¡Œä¿®é¥°ã€‚</li>
<li>ç„¶åï¼Œè£…é¥°åˆ—è¡¨å·²æ’åºã€‚</li>
<li>æœ€åï¼Œåˆ é™¤è£…é¥°ï¼Œåˆ›å»ºä¸€ä¸ªä»…åŒ…å«æ–°æ’åºä¸­åˆå§‹å€¼çš„åˆ—è¡¨ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œè¦ä½¿ç”¨DSUæ–¹æ³•æŒ‰ <em>grade</em> å¯¹å­¦ç”Ÿæ•°æ®è¿›è¡Œæ’åºï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">decorated</span> <span class="o">=</span> <span class="p">[(</span><span class="n">student</span><span class="o">.</span><span class="n">grade</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">student</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">student</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">student_objects</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decorated</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">student</span> <span class="k">for</span> <span class="n">grade</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">student</span> <span class="ow">in</span> <span class="n">decorated</span><span class="p">]</span>               <span class="c1"># undecorate</span>
<span class="go">[(&#39;john&#39;, &#39;A&#39;, 15), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;dave&#39;, &#39;B&#39;, 10)]</span>
</pre></div>
</div>
<p>è¿™æ–¹æ³•è¯­æœ‰æ•ˆæ˜¯å› ä¸ºå…ƒç»„æŒ‰å­—å…¸é¡ºåºè¿›è¡Œæ¯”è¾ƒï¼Œå…ˆæ¯”è¾ƒç¬¬ä¸€é¡¹ï¼›å¦‚æœå®ƒä»¬ç›¸åŒåˆ™æ¯”è¾ƒç¬¬äºŒä¸ªé¡¹ç›®ï¼Œä¾æ­¤ç±»æ¨ã€‚</p>
<p>ä¸ä¸€å®šåœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½è¦åœ¨è£…é¥°åˆ—è¡¨ä¸­åŒ…å«ç´¢å¼• <em>i</em> ï¼Œä½†åŒ…å«å®ƒæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p>
<ul class="simple">
<li>æ’åºæ˜¯ç¨³å®šçš„â€”â€”å¦‚æœä¸¤ä¸ªé¡¹å…·æœ‰ç›¸åŒçš„é”®ï¼Œå®ƒä»¬çš„é¡ºåºå°†ä¿ç•™åœ¨æ’åºåˆ—è¡¨ä¸­ã€‚</li>
<li>åŸå§‹é¡¹ç›®ä¸å¿…å…·æœ‰å¯æ¯”æ€§ï¼Œå› ä¸ºè£…é¥°å…ƒç»„çš„æ’åºæœ€å¤šç”±å‰ä¸¤é¡¹å†³å®šã€‚ å› æ­¤ï¼Œä¾‹å¦‚åŸå§‹åˆ—è¡¨å¯èƒ½åŒ…å«æ— æ³•ç›´æ¥æ’åºçš„å¤æ•°ã€‚</li>
</ul>
<p>è¿™ä¸ªæ–¹æ³•çš„å¦ä¸€ä¸ªåå­—æ˜¯ Randal L. Schwartz åœ¨ Perl ç¨‹åºå‘˜ä¸­æ¨å¹¿çš„ <a class="reference external" href="javascript:if(confirm('https://en.wikipedia.org/wiki/issue28043  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/issue28043'" tppabs="https://en.wikipedia.org/wiki/Schwartzian_transform">Schwartzian transform</a>ã€‚</p>
<p>æ—¢ç„¶ Python æ’åºæä¾›äº†é”®å‡½æ•°ï¼Œé‚£ä¹ˆé€šå¸¸ä¸éœ€è¦è¿™ç§æŠ€æœ¯ã€‚</p>
</div>
<div class="section" id="the-old-way-using-the-cmp-parameter">
<h2>ä½¿ç”¨ <em>cmp</em> å‚æ•°çš„æ—§æ–¹æ³•<a class="headerlink" href="#the-old-way-using-the-cmp-parameter" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>æœ¬ HOWTO ä¸­ç»™å‡ºçš„è®¸å¤šç»“æ„éƒ½å‡å®šä¸º Python 2.4 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæ²¡æœ‰å†…ç½® <a class="reference internal" href="functions.html#sorted" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#sorted" title="sorted"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> ï¼Œ <a class="reference internal" href="stdtypes.html#list.sort" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#list.sort" title="list.sort"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list.sort()</span></code></a> ä¹Ÿæ²¡æœ‰å…³é”®å­—å‚æ•°ã€‚ç›¸åï¼Œæ‰€æœ‰ Py2.x ç‰ˆæœ¬éƒ½æ”¯æŒ <em>cmp</em> å‚æ•°æ¥å¤„ç†ç”¨æˆ·æŒ‡å®šçš„æ¯”è¾ƒå‡½æ•°ã€‚</p>
<p>åœ¨ Py3.0 ä¸­ï¼Œ <em>cmp</em> å‚æ•°è¢«å®Œå…¨åˆ é™¤ï¼ˆä½œä¸ºç®€åŒ–å’Œç»Ÿä¸€è¯­è¨€åŠªåŠ›çš„ä¸€éƒ¨åˆ†ï¼Œæ¶ˆé™¤äº†ä¸°å¯Œçš„æ¯”è¾ƒä¸ <code class="xref py py-meth docutils literal notranslate"><span class="pre">__cmp__()</span></code> é­”æœ¯æ–¹æ³•ä¹‹é—´çš„å†²çªï¼‰ã€‚</p>
<p>åœ¨ Py2.x ä¸­ï¼Œ sort å…è®¸ä¸€ä¸ªå¯é€‰å‡½æ•°ï¼Œå¯ä»¥è°ƒç”¨å®ƒæ¥è¿›è¡Œæ¯”è¾ƒã€‚è¯¥å‡½æ•°åº”è¯¥é‡‡ç”¨ä¸¤ä¸ªå‚æ•°è¿›è¡Œæ¯”è¾ƒï¼Œç„¶åè¿”å›è´Ÿå€¼ä¸ºå°äºï¼Œå¦‚æœå®ƒä»¬ç›¸ç­‰åˆ™è¿”å›é›¶ï¼Œæˆ–è€…è¿”å›å¤§äºå¤§äºçš„æ­£å€¼ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">numeric_compare</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="nb">cmp</span><span class="o">=</span><span class="n">numeric_compare</span><span class="p">)</span> <span class="c1"># doctest: +SKIP</span>
<span class="go">[1, 2, 3, 4, 5]</span>
</pre></div>
</div>
<p>æˆ–è€…ä½ å¯åè½¬æ¯”è¾ƒçš„é¡ºåºï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">reverse_numeric</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">y</span> <span class="o">-</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="nb">cmp</span><span class="o">=</span><span class="n">reverse_numeric</span><span class="p">)</span> <span class="c1"># doctest: +SKIP</span>
<span class="go">[5, 4, 3, 2, 1]</span>
</pre></div>
</div>
<p>å°†ä»£ç ä» Python 2.x ç§»æ¤åˆ° 3.x æ—¶ï¼Œå¦‚æœç”¨æˆ·æä¾›æ¯”è¾ƒåŠŸèƒ½å¹¶ä¸”éœ€è¦å°†å…¶è½¬æ¢ä¸ºé”®å‡½æ•°ï¼Œåˆ™ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚ ä»¥ä¸‹åŒ…è£…å™¨ä½¿è¿™å¾ˆå®¹æ˜“ï¼š</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">cmp_to_key</span><span class="p">(</span><span class="n">mycmp</span><span class="p">):</span>
    <span class="s1">&#39;Convert a cmp= function into a key= function&#39;</span>
    <span class="k">class</span> <span class="nc">K</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">obj</span> <span class="o">=</span> <span class="n">obj</span>
        <span class="k">def</span> <span class="nf">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">mycmp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span>
        <span class="k">def</span> <span class="nf">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">mycmp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">mycmp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">def</span> <span class="nf">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">mycmp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span>
        <span class="k">def</span> <span class="nf">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">mycmp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span>
        <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">mycmp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">K</span>
</pre></div>
</div>
<p>è¦è½¬æ¢ä¸ºé”®å‡½æ•°ï¼Œåªéœ€åŒ…è£…æ—§çš„æ¯”è¾ƒå‡½æ•°ï¼š</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="n">cmp_to_key</span><span class="p">(</span><span class="n">reverse_numeric</span><span class="p">))</span>
<span class="go">[5, 4, 3, 2, 1]</span>
</pre></div>
</div>
<p>åœ¨ Python 3.2 ä¸­ï¼Œ <a class="reference internal" href="functools.html#functools.cmp_to_key" tppabs="https://docs.python.org/zh-cn/3/library/functools.html#functools.cmp_to_key" title="functools.cmp_to_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.cmp_to_key()</span></code></a> å‡½æ•°è¢«æ·»åŠ åˆ°æ ‡å‡†åº“ä¸­çš„ <a class="reference internal" href="functools.html#module-functools" tppabs="https://docs.python.org/zh-cn/3/library/functools.html#module-functools" title="functools: Higher-order functions and operations on callable objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">functools</span></code></a> æ¨¡å—ä¸­ã€‚</p>
</div>
<div class="section" id="odd-and-ends">
<h2>å…¶å®ƒ<a class="headerlink" href="#odd-and-ends" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<ul>
<li><p class="first">å¯¹äºåŒºåŸŸç›¸å…³çš„æ’åºï¼Œè¯·ä½¿ç”¨ <a class="reference internal" href="locale.html#locale.strxfrm" tppabs="https://docs.python.org/zh-cn/3/library/locale.html#locale.strxfrm" title="locale.strxfrm"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.strxfrm()</span></code></a> ä½œä¸ºé”®å‡½æ•°ï¼Œæˆ–è€… <a class="reference internal" href="locale.html#locale.strcoll" tppabs="https://docs.python.org/zh-cn/3/library/locale.html#locale.strcoll" title="locale.strcoll"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.strcoll()</span></code></a> ä½œä¸ºæ¯”è¾ƒå‡½æ•°ã€‚</p>
</li>
<li><p class="first"><em>reverse</em> å‚æ•°ä»ç„¶ä¿æŒæ’åºç¨³å®šæ€§ï¼ˆå› æ­¤å…·æœ‰ç›¸ç­‰é”®çš„è®°å½•ä¿ç•™åŸå§‹é¡ºåºï¼‰ã€‚ æœ‰è¶£çš„æ˜¯ï¼Œé€šè¿‡ä½¿ç”¨å†…ç½®çš„ <a class="reference internal" href="functions.html#reversed" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal notranslate"><span class="pre">reversed()</span></code></a> å‡½æ•°ä¸¤æ¬¡ï¼Œå¯ä»¥åœ¨æ²¡æœ‰å‚æ•°çš„æƒ…å†µä¸‹æ¨¡æ‹Ÿè¯¥æ•ˆæœï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">standard_way</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">double_reversed</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">0</span><span class="p">))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">standard_way</span> <span class="o">==</span> <span class="n">double_reversed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">standard_way</span>
<span class="go">[(&#39;red&#39;, 1), (&#39;red&#39;, 2), (&#39;blue&#39;, 1), (&#39;blue&#39;, 2)]</span>
</pre></div>
</div>
</li>
<li><p class="first">åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œä¿è¯æ’åºä¾‹ç¨‹ä½¿ç”¨ <a class="reference internal" href="datamodel.html#object.__lt__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__lt__" title="object.__lt__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__lt__()</span></code></a> ã€‚ å› æ­¤ï¼Œé€šè¿‡å®šä¹‰ <a class="reference internal" href="datamodel.html#object.__lt__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__lt__" title="object.__lt__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__lt__()</span></code></a> æ–¹æ³•ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ä¸ºç±»æ·»åŠ æ ‡å‡†æ’åºé¡ºåº:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Student</span><span class="o">.</span><span class="fm">__lt__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">age</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">student_objects</span><span class="p">)</span>
<span class="go">[(&#39;dave&#39;, &#39;B&#39;, 10), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;john&#39;, &#39;A&#39;, 15)]</span>
</pre></div>
</div>
</li>
<li><p class="first">é”®å‡½æ•°ä¸éœ€è¦ç›´æ¥ä¾èµ–äºè¢«æ’åºçš„å¯¹è±¡ã€‚é”®å‡½æ•°è¿˜å¯ä»¥è®¿é—®å¤–éƒ¨èµ„æºã€‚ä¾‹å¦‚ï¼Œå¦‚æœå­¦ç”Ÿæˆç»©å­˜å‚¨åœ¨å­—å…¸ä¸­ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å®ƒä»¬å¯¹å•ç‹¬çš„å­¦ç”Ÿå§“ååˆ—è¡¨è¿›è¡Œæ’åºï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">students</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;dave&#39;</span><span class="p">,</span> <span class="s1">&#39;john&#39;</span><span class="p">,</span> <span class="s1">&#39;jane&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newgrades</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;john&#39;</span><span class="p">:</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;jane&#39;</span><span class="p">:</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;dave&#39;</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">newgrades</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">)</span>
<span class="go">[&#39;jane&#39;, &#39;dave&#39;, &#39;john&#39;]</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html" tppabs="https://docs.python.org/zh-cn/3/contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">æ’åºæŒ‡å—</a><ul>
<li><a class="reference internal" href="#sorting-basics">åŸºæœ¬æ’åº</a></li>
<li><a class="reference internal" href="#key-functions">å…³é”®å‡½æ•°</a></li>
<li><a class="reference internal" href="#operator-module-functions">Operator æ¨¡å—å‡½æ•°</a></li>
<li><a class="reference internal" href="#ascending-and-descending">å‡åºå’Œé™åº</a></li>
<li><a class="reference internal" href="#sort-stability-and-complex-sorts">æ’åºç¨³å®šæ€§å’Œæ’åºå¤æ‚åº¦</a></li>
<li><a class="reference internal" href="#the-old-way-using-decorate-sort-undecorate">ä½¿ç”¨è£…é¥°-æ’åº-å»è£…é¥°çš„æ—§æ–¹æ³•</a></li>
<li><a class="reference internal" href="#the-old-way-using-the-cmp-parameter">ä½¿ç”¨ <em>cmp</em> å‚æ•°çš„æ—§æ–¹æ³•</a></li>
<li><a class="reference internal" href="#odd-and-ends">å…¶å®ƒ</a></li>
</ul>
</li>
</ul>

  <h4>ä¸Šä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="sockets.html" tppabs="https://docs.python.org/zh-cn/3/howto/sockets.html"
                        title="ä¸Šä¸€ç« ">å¥—æ¥å­—ç¼–ç¨‹æŒ‡å—</a></p>
  <h4>ä¸‹ä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="unicode.html" tppabs="https://docs.python.org/zh-cn/3/howto/unicode.html"
                        title="ä¸‹ä¸€ç« ">Unicode æŒ‡å—</a></p>
  <div role="note" aria-label="source link">
    <h3>æœ¬é¡µ</h3>
    <ul class="this-page-menu">
      <li><a href="bugs.html" tppabs="https://docs.python.org/zh-cn/3/bugs.html">æäº¤ Bug</a></li>
      <li>
        <a href="javascript:if(confirm('https://github.com/python/cpython/blob/3.7/Doc/howto/sorting.rst  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/python/cpython/blob/3.7/Doc/howto/sorting.rst'" tppabs="https://github.com/python/cpython/blob/3.7/Doc/howto/sorting.rst"
            rel="nofollow">æ˜¾ç¤ºæºä»£ç 
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             >ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="unicode.html" tppabs="https://docs.python.org/zh-cn/3/howto/unicode.html" title="Unicode æŒ‡å—"
             >ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="sockets.html" tppabs="https://docs.python.org/zh-cn/3/howto/sockets.html" title="å¥—æ¥å­—ç¼–ç¨‹æŒ‡å—"
             >ä¸Šä¸€é¡µ</a> |</li>
        <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
        <li>
          <span class="language_switcher_placeholder">zh_CN</span>
          <span class="version_switcher_placeholder">3.7.3</span>
          <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="index-5.html" tppabs="https://docs.python.org/zh-cn/3/howto/index.html" >Python å¸¸ç”¨æŒ‡å¼•</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="copyright.html" tppabs="https://docs.python.org/zh-cn/3/copyright.html">ç‰ˆæƒæ‰€æœ‰</a> 2001-2019, Python Software Foundation.
    <br />
    Python è½¯ä»¶åŸºé‡‘ä¼šæ˜¯ä¸€ä¸ªéç›ˆåˆ©ç»„ç»‡ã€‚
    <a href="javascript:if(confirm('https://www.python.org/psf/donations/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/psf/donations/'" tppabs="https://www.python.org/psf/donations/">è¯·æåŠ©ã€‚</a>
    <br />
    æœ€åæ›´æ–°äº 4æœˆ 22, 2019.
    <a href="bugs.html" tppabs="https://docs.python.org/zh-cn/3/bugs.html">å‘ç°äº†é—®é¢˜</a>ï¼Ÿ
    <br />
    ä½¿ç”¨<a href="javascript:if(confirm('http://sphinx.pocoo.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://sphinx.pocoo.org/'" tppabs="http://sphinx.pocoo.org/">Sphinx</a>1.8.4 åˆ›å»ºã€‚
    </div>

  </body>
</html>