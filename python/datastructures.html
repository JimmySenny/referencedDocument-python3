
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>5. æ•°æ®ç»“æ„ &#8212; Python 3.8.2 æ–‡æ¡£</title>
    <link rel="stylesheet" href="pydoctheme.css" tppabs="https://docs.python.org/zh-cn/3/_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="pygments.css" tppabs="https://docs.python.org/zh-cn/3/_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="documentation_options.js" tppabs="https://docs.python.org/zh-cn/3/_static/documentation_options.js"></script>
    <script type="text/javascript" src="jquery.js" tppabs="https://docs.python.org/zh-cn/3/_static/jquery.js"></script>
    <script type="text/javascript" src="underscore.js" tppabs="https://docs.python.org/zh-cn/3/_static/underscore.js"></script>
    <script type="text/javascript" src="doctools.js" tppabs="https://docs.python.org/zh-cn/3/_static/doctools.js"></script>
    <script type="text/javascript" src="language_data.js" tppabs="https://docs.python.org/zh-cn/3/_static/language_data.js"></script>
    <script type="text/javascript" src="translations.js" tppabs="https://docs.python.org/zh-cn/3/_static/translations.js"></script>
    
    <script type="text/javascript" src="sidebar.js" tppabs="https://docs.python.org/zh-cn/3/_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="åœ¨ Python 3.8.2 æ–‡æ¡£ ä¸­æœç´¢"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="å…³äºè¿™äº›æ–‡æ¡£" href="../about.html" />
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="copyright" title="ç‰ˆæƒæ‰€æœ‰" href="../copyright.html" />
    <link rel="next" title="6. æ¨¡å—" href="modules.html" />
    <link rel="prev" title="4. å…¶ä»–æµç¨‹æ§åˆ¶å·¥å…·" href="controlflow.html" />
    <link rel="canonical" href="https://docs.python.org/3/tutorial/datastructures.html" />
    
      
      <script type="text/javascript" src="switchers.js" tppabs="https://docs.python.org/zh-cn/3/_static/switchers.js"></script>
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>

    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    
    <script type="text/javascript" src="copybutton.js" tppabs="https://docs.python.org/zh-cn/3/_static/copybutton.js"></script>
    
     


  </head><body>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             accesskey="I">ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="modules.html" tppabs="https://docs.python.org/zh-cn/3/tutorial/modules.html" title="6. æ¨¡å—"
             accesskey="N">ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="controlflow.html" tppabs="https://docs.python.org/zh-cn/3/tutorial/controlflow.html" title="4. å…¶ä»–æµç¨‹æ§åˆ¶å·¥å…·"
             accesskey="P">ä¸Šä¸€é¡µ</a> |</li>

    <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <span class="language_switcher_placeholder">zh_CN</span>
      <span class="version_switcher_placeholder">3.8.2</span>
      <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index-1.html" tppabs="https://docs.python.org/zh-cn/3/tutorial/index.html" accesskey="U">Python æ•™ç¨‹</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="data-structures">
<span id="tut-structures"></span><h1><span class="section-number">5. </span>æ•°æ®ç»“æ„<a class="headerlink" href="#data-structures" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<p>æœ¬ç« å°†è¯¦ç»†ä»‹ç»ä¸€äº›æ‚¨å·²ç»äº†è§£çš„å†…å®¹ï¼Œå¹¶æ·»åŠ äº†ä¸€äº›æ–°å†…å®¹ã€‚</p>
<div class="section" id="more-on-lists">
<span id="tut-morelists"></span><h2><span class="section-number">5.1. </span>åˆ—è¡¨çš„æ›´å¤šç‰¹æ€§<a class="headerlink" href="#more-on-lists" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>åˆ—è¡¨æ•°æ®ç±»å‹è¿˜æœ‰å¾ˆå¤šçš„æ–¹æ³•ã€‚è¿™é‡Œæ˜¯åˆ—è¡¨å¯¹è±¡æ–¹æ³•çš„æ¸…å•ï¼š</p>
<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span></dt>
<dd><p>åœ¨åˆ—è¡¨çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚ç›¸å½“äº <code class="docutils literal notranslate"><span class="pre">a[len(a):]</span> <span class="pre">=</span> <span class="pre">[x]</span></code> ã€‚</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param">iterable</em><span class="sig-paren">)</span></dt>
<dd><p>ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡ä¸­çš„æ‰€æœ‰å…ƒç´ æ¥æ‰©å±•åˆ—è¡¨ã€‚ç›¸å½“äº  <code class="docutils literal notranslate"><span class="pre">a[len(a):]</span> <span class="pre">=</span> <span class="pre">iterable</span></code> ã€‚</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">x</em><span class="sig-paren">)</span></dt>
<dd><p>åœ¨ç»™å®šçš„ä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æ’å…¥çš„å…ƒç´ çš„ç´¢å¼•ï¼Œæ‰€ä»¥ <code class="docutils literal notranslate"><span class="pre">a.insert(0,</span> <span class="pre">x)</span></code> æ’å…¥åˆ—è¡¨å¤´éƒ¨ï¼Œ <code class="docutils literal notranslate"><span class="pre">a.insert(len(a),</span> <span class="pre">x)</span></code> ç­‰åŒäº <code class="docutils literal notranslate"><span class="pre">a.append(x)</span></code> ã€‚</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span></dt>
<dd><p>ç§»é™¤åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå€¼ä¸º <em>x</em> çš„å…ƒç´ ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™æŠ›å‡º <a class="reference internal" href="exceptions.html#ValueError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> å¼‚å¸¸ã€‚</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">pop</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">i</em><span class="optional">]</span><span class="sig-paren">)</span></dt>
<dd><p>åˆ é™¤åˆ—è¡¨ä¸­ç»™å®šä½ç½®çš„å…ƒç´ å¹¶è¿”å›å®ƒã€‚å¦‚æœæ²¡æœ‰ç»™å®šä½ç½®ï¼Œ<code class="docutils literal notranslate"><span class="pre">a.pop()</span></code> å°†ä¼šåˆ é™¤å¹¶è¿”å›åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚ï¼ˆ æ–¹æ³•ç­¾åä¸­ <em>i</em> ä¸¤è¾¹çš„æ–¹æ‹¬å·è¡¨ç¤ºè¿™ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œè€Œä¸æ˜¯è¦ä½ è¾“å…¥æ–¹æ‹¬å·ã€‚ä½ ä¼šåœ¨ Python å‚è€ƒåº“ä¸­ç»å¸¸çœ‹åˆ°è¿™ç§è¡¨ç¤ºæ–¹æ³•)ã€‚</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>åˆ é™¤åˆ—è¡¨ä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚ç›¸å½“äº <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">a[:]</span></code> ã€‚</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="optional">[</span>, <em class="sig-param">start</em><span class="optional">[</span>, <em class="sig-param">end</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span></dt>
<dd><p>è¿”å›åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå€¼ä¸º <em>x</em> çš„å…ƒç´ çš„ä»é›¶å¼€å§‹çš„ç´¢å¼•ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ƒç´ å°†ä¼šæŠ›å‡º <a class="reference internal" href="exceptions.html#ValueError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> å¼‚å¸¸ã€‚</p>
<p>å¯é€‰å‚æ•° <em>start</em> å’Œ <em>end</em> æ˜¯åˆ‡ç‰‡ç¬¦å·ï¼Œç”¨äºå°†æœç´¢é™åˆ¶ä¸ºåˆ—è¡¨çš„ç‰¹å®šå­åºåˆ—ã€‚è¿”å›çš„ç´¢å¼•æ˜¯ç›¸å¯¹äºæ•´ä¸ªåºåˆ—çš„å¼€å§‹è®¡ç®—çš„ï¼Œè€Œä¸æ˜¯ <em>start</em> å‚æ•°ã€‚</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span></dt>
<dd><p>è¿”å›å…ƒç´  <em>x</em> åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">sort</code><span class="sig-paren">(</span><em class="sig-param">key=None</em>, <em class="sig-param">reverse=False</em><span class="sig-paren">)</span></dt>
<dd><p>å¯¹åˆ—è¡¨ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼ˆå‚æ•°å¯ç”¨äºè‡ªå®šä¹‰æ’åºï¼Œè§£é‡Šè¯·å‚è§ <a class="reference internal" href="functions.html#sorted" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#sorted" title="sorted"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a>ï¼‰ã€‚</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>åè½¬åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">list.</code><code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>è¿”å›åˆ—è¡¨çš„ä¸€ä¸ªæµ…æ‹·è´ã€‚ç›¸å½“äº <code class="docutils literal notranslate"><span class="pre">a[:]</span></code>  ã€‚</p>
</dd></dl>

<p>åˆ—è¡¨æ–¹æ³•ç¤ºä¾‹ï¼š</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;pear&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;kiwi&#39;</span><span class="p">,</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;apple&#39;</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;tangerine&#39;</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;banana&#39;</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># Find next banana starting a position 4</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span>
<span class="go">[&#39;banana&#39;, &#39;apple&#39;, &#39;kiwi&#39;, &#39;banana&#39;, &#39;pear&#39;, &#39;apple&#39;, &#39;orange&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;grape&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span>
<span class="go">[&#39;banana&#39;, &#39;apple&#39;, &#39;kiwi&#39;, &#39;banana&#39;, &#39;pear&#39;, &#39;apple&#39;, &#39;orange&#39;, &#39;grape&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span>
<span class="go">[&#39;apple&#39;, &#39;apple&#39;, &#39;banana&#39;, &#39;banana&#39;, &#39;grape&#39;, &#39;kiwi&#39;, &#39;orange&#39;, &#39;pear&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">&#39;pear&#39;</span>
</pre></div>
</div>
<p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œåƒ <code class="docutils literal notranslate"><span class="pre">insert</span></code> ï¼Œ<code class="docutils literal notranslate"><span class="pre">remove</span></code> æˆ–è€… <code class="docutils literal notranslate"><span class="pre">sort</span></code> æ–¹æ³•ï¼Œåªä¿®æ”¹åˆ—è¡¨ï¼Œæ²¡æœ‰æ‰“å°å‡ºè¿”å›å€¼â€”â€”å®ƒä»¬è¿”å›é»˜è®¤å€¼ <code class="docutils literal notranslate"><span class="pre">None</span></code> ã€‚<a class="footnote-reference brackets" href="#id2" id="id1">1</a> è¿™æ˜¯Pythonä¸­æ‰€æœ‰å¯å˜æ•°æ®ç»“æ„çš„è®¾è®¡åŸåˆ™ã€‚</p>
<p>ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°çš„å¦ä¸€ä»¶äº‹æ˜¯å¹¶éæ‰€æœ‰æ•°æ®æˆ–å¯ä»¥æ’åºæˆ–æ¯”è¾ƒã€‚ ä¾‹å¦‚ï¼Œ<code class="docutils literal notranslate"><span class="pre">[None,</span> <span class="pre">'hello',</span> <span class="pre">10]</span></code> å°±ä¸å¯æ’åºï¼Œå› ä¸ºæ•´æ•°ä¸èƒ½ä¸å­—ç¬¦ä¸²æ¯”è¾ƒï¼Œè€Œ <em>None</em> ä¸èƒ½ä¸å…¶ä»–ç±»å‹æ¯”è¾ƒã€‚ å¹¶ä¸”è¿˜å­˜åœ¨ä¸€äº›æ²¡æœ‰å®šä¹‰é¡ºåºå…³ç³»çš„ç±»å‹ã€‚ ä¾‹å¦‚ï¼Œ<code class="docutils literal notranslate"><span class="pre">3+4j</span> <span class="pre">&lt;</span> <span class="pre">5+7j</span></code> å°±ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æ¯”è¾ƒã€‚</p>
<div class="section" id="using-lists-as-stacks">
<span id="tut-lists-as-stacks"></span><h3><span class="section-number">5.1.1. </span>åˆ—è¡¨ä½œä¸ºæ ˆä½¿ç”¨<a class="headerlink" href="#using-lists-as-stacks" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>åˆ—è¡¨æ–¹æ³•ä½¿å¾—åˆ—è¡¨ä½œä¸ºå †æ ˆéå¸¸å®¹æ˜“ï¼Œæœ€åä¸€ä¸ªæ’å…¥ï¼Œæœ€å…ˆå–å‡ºï¼ˆâ€œåè¿›å…ˆå‡ºâ€ï¼‰ã€‚è¦æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°å †æ ˆçš„é¡¶ç«¯ï¼Œä½¿ç”¨ <code class="xref py py-meth docutils literal notranslate"><span class="pre">append()</span></code> ã€‚è¦ä»å †æ ˆé¡¶éƒ¨å–å‡ºä¸€ä¸ªå…ƒç´ ï¼Œä½¿ç”¨ <code class="xref py py-meth docutils literal notranslate"><span class="pre">pop()</span></code> ï¼Œä¸ç”¨æŒ‡å®šç´¢å¼•ã€‚ä¾‹å¦‚</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack</span>
<span class="go">[3, 4, 5, 6, 7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack</span>
<span class="go">[3, 4, 5, 6]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack</span>
<span class="go">[3, 4]</span>
</pre></div>
</div>
</div>
<div class="section" id="using-lists-as-queues">
<span id="tut-lists-as-queues"></span><h3><span class="section-number">5.1.2. </span>åˆ—è¡¨ä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨<a class="headerlink" href="#using-lists-as-queues" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>åˆ—è¡¨ä¹Ÿå¯ä»¥ç”¨ä½œé˜Ÿåˆ—ï¼Œå…¶ä¸­å…ˆæ·»åŠ çš„å…ƒç´ è¢«æœ€å…ˆå–å‡º (â€œå…ˆè¿›å…ˆå‡ºâ€)ï¼›ç„¶è€Œåˆ—è¡¨ç”¨ä½œè¿™ä¸ªç›®çš„ç›¸å½“ä½æ•ˆã€‚å› ä¸ºåœ¨åˆ—è¡¨çš„æœ«å°¾æ·»åŠ å’Œå¼¹å‡ºå…ƒç´ éå¸¸å¿«ï¼Œä½†æ˜¯åœ¨åˆ—è¡¨çš„å¼€å¤´æ’å…¥æˆ–å¼¹å‡ºå…ƒç´ å´å¾ˆæ…¢ (å› ä¸ºæ‰€æœ‰çš„å…¶ä»–å…ƒç´ éƒ½å¿…é¡»ç§»åŠ¨ä¸€ä½)ã€‚</p>
<p>è‹¥è¦å®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œ <a class="reference internal" href="collections.html#collections.deque" tppabs="https://docs.python.org/zh-cn/3/library/collections.html#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.deque</span></code></a> è¢«è®¾è®¡ç”¨äºå¿«é€Ÿåœ°ä»ä¸¤ç«¯æ“ä½œã€‚ä¾‹å¦‚</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue</span> <span class="o">=</span> <span class="n">deque</span><span class="p">([</span><span class="s2">&quot;Eric&quot;</span><span class="p">,</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="s2">&quot;Michael&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Terry&quot;</span><span class="p">)</span>           <span class="c1"># Terry arrives</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Graham&quot;</span><span class="p">)</span>          <span class="c1"># Graham arrives</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>                 <span class="c1"># The first to arrive now leaves</span>
<span class="go">&#39;Eric&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>                 <span class="c1"># The second to arrive now leaves</span>
<span class="go">&#39;John&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue</span>                           <span class="c1"># Remaining queue in order of arrival</span>
<span class="go">deque([&#39;Michael&#39;, &#39;Terry&#39;, &#39;Graham&#39;])</span>
</pre></div>
</div>
</div>
<div class="section" id="list-comprehensions">
<span id="tut-listcomps"></span><h3><span class="section-number">5.1.3. </span>åˆ—è¡¨æ¨å¯¼å¼<a class="headerlink" href="#list-comprehensions" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>åˆ—è¡¨æ¨å¯¼å¼æä¾›äº†ä¸€ä¸ªæ›´ç®€å•çš„åˆ›å»ºåˆ—è¡¨çš„æ–¹æ³•ã€‚å¸¸è§çš„ç”¨æ³•æ˜¯æŠŠæŸç§æ“ä½œåº”ç”¨äºåºåˆ—æˆ–å¯è¿­ä»£å¯¹è±¡çš„æ¯ä¸ªå…ƒç´ ä¸Šï¼Œç„¶åä½¿ç”¨å…¶ç»“æœæ¥åˆ›å»ºåˆ—è¡¨ï¼Œæˆ–è€…é€šè¿‡æ»¡è¶³æŸäº›ç‰¹å®šæ¡ä»¶å…ƒç´ æ¥åˆ›å»ºå­åºåˆ—ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªå¹³æ–¹åˆ—è¡¨ï¼Œåƒè¿™æ ·</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">squares</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">squares</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">squares</span>
<span class="go">[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span>
</pre></div>
</div>
<p>æ³¨æ„è¿™é‡Œåˆ›å»ºï¼ˆæˆ–è¢«é‡å†™ï¼‰çš„åä¸º <code class="docutils literal notranslate"><span class="pre">x</span></code> çš„å˜é‡åœ¨forå¾ªç¯åä»ç„¶å­˜åœ¨ã€‚æˆ‘ä»¬å¯ä»¥è®¡ç®—å¹³æ–¹åˆ—è¡¨çš„å€¼è€Œä¸ä¼šäº§ç”Ÿä»»ä½•å‰¯ä½œç”¨</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">squares</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
</pre></div>
</div>
<p>æˆ–è€…ï¼Œç­‰ä»·äº</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
</pre></div>
</div>
<p>ä¸Šé¢è¿™ç§å†™æ³•æ›´åŠ ç®€æ´æ˜“è¯»ã€‚</p>
<p>åˆ—è¡¨æ¨å¯¼å¼çš„ç»“æ„æ˜¯ç”±ä¸€å¯¹æ–¹æ‹¬å·æ‰€åŒ…å«çš„ä»¥ä¸‹å†…å®¹ï¼šä¸€ä¸ªè¡¨è¾¾å¼ï¼Œåé¢è·Ÿä¸€ä¸ª <code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code> å­å¥ï¼Œç„¶åæ˜¯é›¶ä¸ªæˆ–å¤šä¸ª <code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code> æˆ– <code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code> å­å¥ã€‚ å…¶ç»“æœå°†æ˜¯ä¸€ä¸ªæ–°åˆ—è¡¨ï¼Œç”±å¯¹è¡¨è¾¾å¼ä¾æ®åé¢çš„ <code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code> å’Œ <code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code> å­å¥çš„å†…å®¹è¿›è¡Œæ±‚å€¼è®¡ç®—è€Œå¾—å‡ºã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œä»¥ä¸‹åˆ—è¡¨æ¨å¯¼å¼ä¼šå°†ä¸¤ä¸ªåˆ—è¡¨ä¸­ä¸ç›¸ç­‰çš„å…ƒç´ ç»„åˆèµ·æ¥:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">y</span><span class="p">]</span>
<span class="go">[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]</span>
</pre></div>
</div>
<p>è€Œå®ƒç­‰ä»·äº</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">combs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">]:</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">y</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">combs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combs</span>
<span class="go">[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]</span>
</pre></div>
</div>
<p>æ³¨æ„åœ¨ä¸Šé¢ä¸¤ä¸ªä»£ç ç‰‡æ®µä¸­ï¼Œ <a class="reference internal" href="compound_stmts.html#for" tppabs="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a>Â å’Œ <a class="reference internal" href="compound_stmts.html#if" tppabs="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a>Â çš„é¡ºåºæ˜¯ç›¸åŒçš„ã€‚</p>
<p>å¦‚æœè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå…ƒç»„ï¼ˆä¾‹å¦‚ä¸Šé¢çš„ <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span></code>ï¼‰ï¼Œé‚£ä¹ˆå°±å¿…é¡»åŠ ä¸Šæ‹¬å·</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vec</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a new list with the values doubled</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span><span class="p">]</span>
<span class="go">[-8, -4, 0, 4, 8]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the list to exclude negative numbers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">]</span>
<span class="go">[0, 2, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># apply a function to all the elements</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span><span class="p">]</span>
<span class="go">[4, 2, 0, 2, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># call a method on each element</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freshfruit</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;  banana&#39;</span><span class="p">,</span> <span class="s1">&#39;  loganberry &#39;</span><span class="p">,</span> <span class="s1">&#39;passion fruit  &#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">weapon</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">weapon</span> <span class="ow">in</span> <span class="n">freshfruit</span><span class="p">]</span>
<span class="go">[&#39;banana&#39;, &#39;loganberry&#39;, &#39;passion fruit&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a list of 2-tuples like (number, square)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[(0, 0), (1, 1), (2, 4), (3, 9), (4, 16), (5, 25)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the tuple must be parenthesized, otherwise an error is raised</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<span class="go">    [x, x**2 for x in range(6)]</span>
<span class="go">               ^</span>
<span class="go">SyntaxError: invalid syntax</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># flatten a list using a listcomp with two &#39;for&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vec</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">num</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">vec</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">elem</span><span class="p">]</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</pre></div>
</div>
<p>åˆ—è¡¨æ¨å¯¼å¼å¯ä»¥ä½¿ç”¨å¤æ‚çš„è¡¨è¾¾å¼å’ŒåµŒå¥—å‡½æ•°</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>
<span class="go">[&#39;3.1&#39;, &#39;3.14&#39;, &#39;3.142&#39;, &#39;3.1416&#39;, &#39;3.14159&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="nested-list-comprehensions">
<h3><span class="section-number">5.1.4. </span>åµŒå¥—çš„åˆ—è¡¨æ¨å¯¼å¼<a class="headerlink" href="#nested-list-comprehensions" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>åˆ—è¡¨æ¨å¯¼å¼ä¸­çš„åˆå§‹è¡¨è¾¾å¼å¯ä»¥æ˜¯ä»»ä½•è¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬å¦ä¸€ä¸ªåˆ—è¡¨æ¨å¯¼å¼ã€‚</p>
<p>è€ƒè™‘ä¸‹é¢è¿™ä¸ª 3x4çš„çŸ©é˜µï¼Œå®ƒç”±3ä¸ªé•¿åº¦ä¸º4çš„åˆ—è¡¨ç»„æˆ</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span>
<span class="gp">... </span><span class="p">]</span>
</pre></div>
</div>
<p>ä¸‹é¢çš„åˆ—è¡¨æ¨å¯¼å¼å°†äº¤æ¢å…¶è¡Œå’Œåˆ—</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[[</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="go">[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]</span>
</pre></div>
</div>
<p>å¦‚ä¸ŠèŠ‚æ‰€ç¤ºï¼ŒåµŒå¥—çš„åˆ—è¡¨æ¨å¯¼å¼æ˜¯åŸºäºè·Ÿéšå…¶åçš„ <a class="reference internal" href="compound_stmts.html#for" tppabs="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a> è¿›è¡Œæ±‚å€¼çš„ï¼Œæ‰€ä»¥è¿™ä¸ªä¾‹å­ç­‰ä»·äº:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">transposed</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">transposed</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">])</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transposed</span>
<span class="go">[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]</span>
</pre></div>
</div>
<p>åè¿‡æ¥è¯´ï¼Œä¹Ÿç­‰ä»·äº</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">transposed</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># the following 3 lines implement the nested listcomp</span>
<span class="gp">... </span>    <span class="n">transposed_row</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">transposed_row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">transposed</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">transposed_row</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transposed</span>
<span class="go">[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]</span>
</pre></div>
</div>
<p>å®é™…åº”ç”¨ä¸­ï¼Œä½ åº”è¯¥ä¼šæ›´å–œæ¬¢ä½¿ç”¨å†…ç½®å‡½æ•°å»ç»„æˆå¤æ‚çš„æµç¨‹è¯­å¥ã€‚ <a class="reference internal" href="functions.html#zip" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#zip" title="zip"><code class="xref py py-func docutils literal notranslate"><span class="pre">zip()</span></code></a> å‡½æ•°å°†ä¼šå¾ˆå¥½åœ°å¤„ç†è¿™ç§æƒ…å†µ</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">matrix</span><span class="p">))</span>
<span class="go">[(1, 5, 9), (2, 6, 10), (3, 7, 11), (4, 8, 12)]</span>
</pre></div>
</div>
<p>å…³äºæœ¬è¡Œä¸­æ˜Ÿå·çš„è¯¦ç»†è¯´æ˜ï¼Œå‚è§ <a class="reference internal" href="controlflow.html#tut-unpacking-arguments" tppabs="https://docs.python.org/zh-cn/3/tutorial/controlflow.html#tut-unpacking-arguments"><span class="std std-ref">è§£åŒ…å‚æ•°åˆ—è¡¨</span></a>ã€‚</p>
</div>
</div>
<div class="section" id="the-del-statement">
<span id="tut-del"></span><h2><span class="section-number">5.2. </span><code class="xref std std-keyword docutils literal notranslate"><span class="pre">del</span></code> è¯­å¥<a class="headerlink" href="#the-del-statement" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>æœ‰ä¸€ç§æ–¹å¼å¯ä»¥ä»åˆ—è¡¨æŒ‰ç…§ç»™å®šçš„ç´¢å¼•è€Œä¸æ˜¯å€¼æ¥ç§»é™¤ä¸€ä¸ªå…ƒç´ : é‚£å°±æ˜¯ <a class="reference internal" href="simple_stmts.html#del" tppabs="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#del"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">del</span></code></a> è¯­å¥ã€‚ å®ƒä¸åŒäºä¼šè¿”å›ä¸€ä¸ªå€¼çš„ <code class="xref py py-meth docutils literal notranslate"><span class="pre">pop()</span></code> æ–¹æ³•ã€‚ <code class="xref std std-keyword docutils literal notranslate"><span class="pre">del</span></code> è¯­å¥ä¹Ÿå¯ä»¥ç”¨æ¥ä»åˆ—è¡¨ä¸­ç§»é™¤åˆ‡ç‰‡æˆ–è€…æ¸…ç©ºæ•´ä¸ªåˆ—è¡¨ï¼ˆæˆ‘ä»¬ä¹‹å‰ç”¨è¿‡çš„æ–¹å¼æ˜¯å°†ä¸€ä¸ªç©ºåˆ—è¡¨èµ‹å€¼ç»™æŒ‡å®šçš„åˆ‡ç‰‡ï¼‰ã€‚ ä¾‹å¦‚:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">66.25</span><span class="p">,</span> <span class="mi">333</span><span class="p">,</span> <span class="mi">333</span><span class="p">,</span> <span class="mf">1234.5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[1, 66.25, 333, 333, 1234.5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[1, 66.25, 1234.5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">a</span><span class="p">[:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[]</span>
</pre></div>
</div>
<p><a class="reference internal" href="simple_stmts.html#del" tppabs="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#del"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">del</span></code></a> ä¹Ÿå¯ä»¥è¢«ç”¨æ¥åˆ é™¤æ•´ä¸ªå˜é‡</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">a</span>
</pre></div>
</div>
<p>æ­¤åå†å¼•ç”¨ <code class="docutils literal notranslate"><span class="pre">a</span></code> æ—¶ä¼šæŠ¥é”™ï¼ˆç›´åˆ°å¦ä¸€ä¸ªå€¼è¢«èµ‹ç»™å®ƒï¼‰ã€‚æˆ‘ä»¬ä¼šåœ¨åé¢äº†è§£åˆ° <a class="reference internal" href="simple_stmts.html#del" tppabs="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#del"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">del</span></code></a> çš„å…¶ä»–ç”¨æ³•ã€‚</p>
</div>
<div class="section" id="tuples-and-sequences">
<span id="tut-tuples"></span><h2><span class="section-number">5.3. </span>å…ƒç»„å’Œåºåˆ—<a class="headerlink" href="#tuples-and-sequences" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>æˆ‘ä»¬çœ‹åˆ°åˆ—è¡¨å’Œå­—ç¬¦ä¸²æœ‰å¾ˆå¤šå…±åŒç‰¹æ€§ï¼Œä¾‹å¦‚ç´¢å¼•å’Œåˆ‡ç‰‡æ“ä½œã€‚ä»–ä»¬æ˜¯ <em>åºåˆ—</em> æ•°æ®ç±»å‹ï¼ˆå‚è§ <a class="reference internal" href="stdtypes.html#typesseq" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#typesseq"><span class="std std-ref">åºåˆ—ç±»å‹ --- list, tuple, range</span></a>ï¼‰ä¸­çš„ä¸¤ç§ã€‚éšç€ Python è¯­è¨€çš„å‘å±•ï¼Œå…¶ä»–çš„åºåˆ—ç±»å‹ä¹Ÿä¼šè¢«åŠ å…¥å…¶ä¸­ã€‚è¿™é‡Œä»‹ç»å¦ä¸€ç§æ ‡å‡†åºåˆ—ç±»å‹: <em>å…ƒç»„</em>ã€‚</p>
<p>ä¸€ä¸ªå…ƒç»„ç”±å‡ ä¸ªè¢«é€—å·éš”å¼€çš„å€¼ç»„æˆï¼Œä¾‹å¦‚</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="mi">12345</span><span class="p">,</span> <span class="mi">54321</span><span class="p">,</span> <span class="s1">&#39;hello!&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">12345</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">(12345, 54321, &#39;hello!&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Tuples may be nested:</span>
<span class="gp">... </span><span class="n">u</span> <span class="o">=</span> <span class="n">t</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span>
<span class="go">((12345, 54321, &#39;hello!&#39;), (1, 2, 3, 4, 5))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Tuples are immutable:</span>
<span class="gp">... </span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">88888</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">&#39;tuple&#39; object does not support item assignment</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># but they can contain mutable objects:</span>
<span class="gp">... </span><span class="n">v</span> <span class="o">=</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span>
<span class="go">([1, 2, 3], [3, 2, 1])</span>
</pre></div>
</div>
<p>å¦‚ä½ æ‰€è§ï¼Œå…ƒç»„åœ¨è¾“å‡ºæ—¶æ€»æ˜¯è¢«åœ†æ‹¬å·åŒ…å›´çš„ï¼Œä»¥ä¾¿æ­£ç¡®è¡¨ç¤ºåµŒå¥—å…ƒç»„ã€‚è¾“å…¥æ—¶åœ†æ‹¬å·å¯æœ‰å¯æ— ï¼Œä¸è¿‡ç»å¸¸ä¼šæ˜¯å¿…é¡»çš„ï¼ˆå¦‚æœè¿™ä¸ªå…ƒç»„æ˜¯ä¸€ä¸ªæ›´å¤§çš„è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚ç»™å…ƒç»„ä¸­çš„ä¸€ä¸ªå•ç‹¬çš„å…ƒç´ èµ‹å€¼æ˜¯ä¸å…è®¸çš„ï¼Œå½“ç„¶ä½ å¯ä»¥åˆ›å»ºåŒ…å«å¯å˜å¯¹è±¡çš„å…ƒç»„ï¼Œä¾‹å¦‚åˆ—è¡¨ã€‚</p>
<p>è™½ç„¶å…ƒç»„å¯èƒ½çœ‹èµ·æ¥ä¸åˆ—è¡¨å¾ˆåƒï¼Œä½†å®ƒä»¬é€šå¸¸æ˜¯åœ¨ä¸åŒçš„åœºæ™¯è¢«ä½¿ç”¨ï¼Œå¹¶ä¸”æœ‰ç€ä¸åŒçš„ç”¨é€”ã€‚å…ƒç»„æ˜¯ <a class="reference internal" href="glossary.html#term-immutable" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-immutable"><span class="xref std std-term">immutable</span></a> ï¼ˆä¸å¯å˜çš„ï¼‰ï¼Œå…¶åºåˆ—é€šå¸¸åŒ…å«ä¸åŒç§ç±»çš„å…ƒç´ ï¼Œå¹¶ä¸”é€šè¿‡è§£åŒ…ï¼ˆè¿™ä¸€èŠ‚ä¸‹é¢ä¼šè§£é‡Šï¼‰æˆ–è€…ç´¢å¼•æ¥è®¿é—®ï¼ˆå¦‚æœæ˜¯ <a class="reference internal" href="collections.html#collections.namedtuple" tppabs="https://docs.python.org/zh-cn/3/library/collections.html#collections.namedtuple" title="collections.namedtuple"><code class="xref py py-func docutils literal notranslate"><span class="pre">namedtuples</span></code></a> çš„è¯ç”šè‡³è¿˜å¯ä»¥é€šè¿‡å±æ€§è®¿é—®ï¼‰ã€‚åˆ—è¡¨æ˜¯ <a class="reference internal" href="glossary.html#term-mutable" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-mutable"><span class="xref std std-term">mutable</span></a> ï¼ˆå¯å˜çš„ï¼‰ï¼Œå¹¶ä¸”åˆ—è¡¨ä¸­çš„å…ƒç´ ä¸€èˆ¬æ˜¯åŒç§ç±»å‹çš„ï¼Œå¹¶ä¸”é€šè¿‡è¿­ä»£è®¿é—®ã€‚</p>
<p>ä¸€ä¸ªç‰¹æ®Šçš„é—®é¢˜æ˜¯æ„é€ åŒ…å«0ä¸ªæˆ–1ä¸ªå…ƒç´ çš„å…ƒç»„ï¼šä¸ºäº†é€‚åº”è¿™ç§æƒ…å†µï¼Œè¯­æ³•æœ‰ä¸€äº›é¢å¤–çš„æ”¹å˜ã€‚ç©ºå…ƒç»„å¯ä»¥ç›´æ¥è¢«ä¸€å¯¹ç©ºåœ†æ‹¬å·åˆ›å»ºï¼Œå«æœ‰ä¸€ä¸ªå…ƒç´ çš„å…ƒç»„å¯ä»¥é€šè¿‡åœ¨è¿™ä¸ªå…ƒç´ åæ·»åŠ ä¸€ä¸ªé€—å·æ¥æ„å»ºï¼ˆåœ†æ‹¬å·é‡Œåªæœ‰ä¸€ä¸ªå€¼çš„è¯ä¸å¤Ÿæ˜ç¡®ï¼‰ã€‚ä¸‘é™‹ï¼Œä½†æ˜¯æœ‰æ•ˆã€‚ä¾‹å¦‚</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">empty</span> <span class="o">=</span> <span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">singleton</span> <span class="o">=</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span>    <span class="c1"># &lt;-- note trailing comma</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">empty</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">singleton</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">singleton</span>
<span class="go">(&#39;hello&#39;,)</span>
</pre></div>
</div>
<p>è¯­å¥ <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">12345,</span> <span class="pre">54321,</span> <span class="pre">'hello!'</span></code> æ˜¯ <em>å…ƒç»„æ‰“åŒ…</em> çš„ä¸€ä¸ªä¾‹å­ï¼šå€¼ <code class="docutils literal notranslate"><span class="pre">12345</span></code>, <code class="docutils literal notranslate"><span class="pre">54321</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">'hello!'</span></code> è¢«æ‰“åŒ…è¿›å…ƒç»„ã€‚å…¶é€†æ“ä½œä¹Ÿæ˜¯å…è®¸çš„</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">t</span>
</pre></div>
</div>
<p>è¿™è¢«ç§°ä¸º <em>åºåˆ—è§£åŒ…</em>  ä¹Ÿæ˜¯å¾ˆæ°å½“çš„ï¼Œå› ä¸ºè§£åŒ…æ“ä½œçš„ç­‰å·å³ä¾§å¯ä»¥æ˜¯ä»»ä½•åºåˆ—ã€‚åºåˆ—è§£åŒ…è¦æ±‚ç­‰å·å·¦ä¾§çš„å˜é‡æ•°ä¸å³ä¾§åºåˆ—é‡Œæ‰€å«çš„å…ƒç´ æ•°ç›¸åŒã€‚æ³¨æ„å¤šé‡èµ‹å€¼å…¶å®ä¹Ÿåªæ˜¯å…ƒç»„æ‰“åŒ…å’Œåºåˆ—è§£åŒ…çš„ç»„åˆã€‚</p>
</div>
<div class="section" id="sets">
<span id="tut-sets"></span><h2><span class="section-number">5.4. </span>é›†åˆ<a class="headerlink" href="#sets" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>Pythonä¹ŸåŒ…å«æœ‰ <em>é›†åˆ</em> ç±»å‹ã€‚é›†åˆæ˜¯ç”±ä¸é‡å¤å…ƒç´ ç»„æˆçš„æ— åºçš„é›†ã€‚å®ƒçš„åŸºæœ¬ç”¨æ³•åŒ…æ‹¬æˆå‘˜æ£€æµ‹å’Œæ¶ˆé™¤é‡å¤å…ƒç´ ã€‚é›†åˆå¯¹è±¡ä¹Ÿæ”¯æŒåƒ è”åˆï¼Œäº¤é›†ï¼Œå·®é›†ï¼Œå¯¹ç§°å·®åˆ†ç­‰æ•°å­¦è¿ç®—ã€‚</p>
<p>èŠ±æ‹¬å·æˆ– <a class="reference internal" href="stdtypes.html#set" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#set" title="set"><code class="xref py py-func docutils literal notranslate"><span class="pre">set()</span></code></a> å‡½æ•°å¯ä»¥ç”¨æ¥åˆ›å»ºé›†åˆã€‚æ³¨æ„ï¼šè¦åˆ›å»ºä¸€ä¸ªç©ºé›†åˆä½ åªèƒ½ç”¨ <code class="docutils literal notranslate"><span class="pre">set()</span></code> è€Œä¸èƒ½ç”¨ <code class="docutils literal notranslate"><span class="pre">{}</span></code>ï¼Œå› ä¸ºåè€…æ˜¯åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ï¼Œè¿™ç§æ•°æ®ç»“æ„æˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸€èŠ‚è¿›è¡Œè®¨è®ºã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›ç®€å•çš„ç¤ºä¾‹ï¼š</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">basket</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;pear&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">basket</span><span class="p">)</span>                      <span class="c1"># show that duplicates have been removed</span>
<span class="go">{&#39;orange&#39;, &#39;banana&#39;, &#39;pear&#39;, &#39;apple&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;orange&#39;</span> <span class="ow">in</span> <span class="n">basket</span>                 <span class="c1"># fast membership testing</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;crabgrass&#39;</span> <span class="ow">in</span> <span class="n">basket</span>
<span class="go">False</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Demonstrate set operations on unique letters from two words</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s1">&#39;abracadabra&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s1">&#39;alacazam&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>                                  <span class="c1"># unique letters in a</span>
<span class="go">{&#39;a&#39;, &#39;r&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span>                              <span class="c1"># letters in a but not in b</span>
<span class="go">{&#39;r&#39;, &#39;d&#39;, &#39;b&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">|</span> <span class="n">b</span>                              <span class="c1"># letters in a or b or both</span>
<span class="go">{&#39;a&#39;, &#39;c&#39;, &#39;r&#39;, &#39;d&#39;, &#39;b&#39;, &#39;m&#39;, &#39;z&#39;, &#39;l&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">&amp;</span> <span class="n">b</span>                              <span class="c1"># letters in both a and b</span>
<span class="go">{&#39;a&#39;, &#39;c&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">^</span> <span class="n">b</span>                              <span class="c1"># letters in a or b but not both</span>
<span class="go">{&#39;r&#39;, &#39;d&#39;, &#39;b&#39;, &#39;m&#39;, &#39;z&#39;, &#39;l&#39;}</span>
</pre></div>
</div>
<p>ç±»ä¼¼äº <a class="reference internal" href="#tut-listcomps"><span class="std std-ref">åˆ—è¡¨æ¨å¯¼å¼</span></a>ï¼Œé›†åˆä¹Ÿæ”¯æŒæ¨å¯¼å¼å½¢å¼</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="s1">&#39;abracadabra&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s1">&#39;abc&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">{&#39;r&#39;, &#39;d&#39;}</span>
</pre></div>
</div>
</div>
<div class="section" id="dictionaries">
<span id="tut-dictionaries"></span><h2><span class="section-number">5.5. </span>å­—å…¸<a class="headerlink" href="#dictionaries" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>å¦ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ Python å…§ç½®æ•°æ®ç±»å‹æ˜¯ <em>å­—å…¸</em> (å‚è§ <a class="reference internal" href="stdtypes.html#typesmapping" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#typesmapping"><span class="std std-ref">æ˜ å°„ç±»å‹ --- dict</span></a>)ã€‚å­—å…¸åœ¨å…¶ä»–è¯­è¨€é‡Œå¯èƒ½ä¼šè¢«å«åš <em>è”åˆå†…å­˜</em> æˆ– <em>è”åˆæ•°ç»„</em>ã€‚ä¸ä»¥è¿ç»­æ•´æ•°ä¸ºç´¢å¼•çš„åºåˆ—ä¸åŒï¼Œå­—å…¸æ˜¯ä»¥ <em>å…³é”®å­—</em> ä¸ºç´¢å¼•çš„ï¼Œå…³é”®å­—å¯ä»¥æ˜¯ä»»æ„ä¸å¯å˜ç±»å‹ï¼Œé€šå¸¸æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚å¦‚æœä¸€ä¸ªå…ƒç»„åªåŒ…å«å­—ç¬¦ä¸²ã€æ•°å­—æˆ–å…ƒç»„ï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç»„ä¹Ÿå¯ä»¥ç”¨ä½œå…³é”®å­—ã€‚ä½†å¦‚æœå…ƒç»„ç›´æ¥æˆ–é—´æ¥åœ°åŒ…å«äº†å¯å˜å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒå°±ä¸èƒ½ç”¨ä½œå…³é”®å­—ã€‚åˆ—è¡¨ä¸èƒ½ç”¨ä½œå…³é”®å­—ï¼Œå› ä¸ºåˆ—è¡¨å¯ä»¥é€šè¿‡ç´¢å¼•ã€åˆ‡ç‰‡æˆ– <code class="xref py py-meth docutils literal notranslate"><span class="pre">append()</span></code> å’Œ <code class="xref py py-meth docutils literal notranslate"><span class="pre">extend()</span></code> ä¹‹ç±»çš„æ–¹æ³•æ¥æ”¹å˜ã€‚</p>
<p>ç†è§£å­—å…¸çš„æœ€å¥½æ–¹å¼ï¼Œå°±æ˜¯å°†å®ƒçœ‹åšæ˜¯ä¸€ä¸ª <em>é”®: å€¼</em> å¯¹çš„é›†åˆï¼Œé”®å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼ˆåœ¨ä¸€ä¸ªå­—å…¸ä¸­ï¼‰ã€‚ä¸€å¯¹èŠ±æ‹¬å·å¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ï¼š<code class="docutils literal notranslate"><span class="pre">{}</span></code> ã€‚å¦ä¸€ç§åˆå§‹åŒ–å­—å…¸çš„æ–¹å¼æ˜¯åœ¨ä¸€å¯¹èŠ±æ‹¬å·é‡Œæ”¾ç½®ä¸€äº›ä»¥é€—å·åˆ†éš”çš„é”®å€¼å¯¹ï¼Œè€Œè¿™ä¹Ÿæ˜¯å­—å…¸è¾“å‡ºçš„æ–¹å¼ã€‚</p>
<p>å­—å…¸ä¸»è¦çš„æ“ä½œæ˜¯ä½¿ç”¨å…³é”®å­—å­˜å‚¨å’Œè§£æå€¼ã€‚ä¹Ÿå¯ä»¥ç”¨ <code class="docutils literal notranslate"><span class="pre">del</span></code> æ¥åˆ é™¤ä¸€ä¸ªé”®å€¼å¯¹ã€‚å¦‚æœä½ ä½¿ç”¨äº†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å…³é”®å­—æ¥å­˜å‚¨å€¼ï¼Œé‚£ä¹ˆä¹‹å‰ä¸è¿™ä¸ªå…³é”®å­—å…³è”çš„å€¼å°±ä¼šè¢«é—å¿˜ã€‚ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„é”®æ¥å–å€¼åˆ™ä¼šæŠ¥é”™ã€‚</p>
<p>å¯¹ä¸€ä¸ªå­—å…¸æ‰§è¡Œ <code class="docutils literal notranslate"><span class="pre">list(d)</span></code> å°†è¿”å›åŒ…å«è¯¥å­—å…¸ä¸­æ‰€æœ‰é”®çš„åˆ—è¡¨ï¼ŒæŒ‰æ’å…¥æ¬¡åºæ’åˆ— (å¦‚éœ€å…¶ä»–æ’åºï¼Œåˆ™è¦ä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">sorted(d)</span></code>)ã€‚è¦æ£€æŸ¥å­—å…¸ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªç‰¹å®šé”®ï¼Œå¯ä½¿ç”¨ <a class="reference internal" href="expressions.html#in" tppabs="https://docs.python.org/zh-cn/3/reference/expressions.html#in"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">in</span></code></a> å…³é”®å­—ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨å­—å…¸çš„ä¸€äº›ç®€å•ç¤ºä¾‹</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tel</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;jack&#39;</span><span class="p">:</span> <span class="mi">4098</span><span class="p">,</span> <span class="s1">&#39;sape&#39;</span><span class="p">:</span> <span class="mi">4139</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tel</span><span class="p">[</span><span class="s1">&#39;guido&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4127</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tel</span>
<span class="go">{&#39;jack&#39;: 4098, &#39;sape&#39;: 4139, &#39;guido&#39;: 4127}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tel</span><span class="p">[</span><span class="s1">&#39;jack&#39;</span><span class="p">]</span>
<span class="go">4098</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">tel</span><span class="p">[</span><span class="s1">&#39;sape&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tel</span><span class="p">[</span><span class="s1">&#39;irv&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4127</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tel</span>
<span class="go">{&#39;jack&#39;: 4098, &#39;guido&#39;: 4127, &#39;irv&#39;: 4127}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">tel</span><span class="p">)</span>
<span class="go">[&#39;jack&#39;, &#39;guido&#39;, &#39;irv&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">tel</span><span class="p">)</span>
<span class="go">[&#39;guido&#39;, &#39;irv&#39;, &#39;jack&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;guido&#39;</span> <span class="ow">in</span> <span class="n">tel</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;jack&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tel</span>
<span class="go">False</span>
</pre></div>
</div>
<p><a class="reference internal" href="stdtypes.html#dict" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-func docutils literal notranslate"><span class="pre">dict()</span></code></a> æ„é€ å‡½æ•°å¯ä»¥ç›´æ¥ä»é”®å€¼å¯¹åºåˆ—é‡Œåˆ›å»ºå­—å…¸ã€‚</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="p">([(</span><span class="s1">&#39;sape&#39;</span><span class="p">,</span> <span class="mi">4139</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;guido&#39;</span><span class="p">,</span> <span class="mi">4127</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;jack&#39;</span><span class="p">,</span> <span class="mi">4098</span><span class="p">)])</span>
<span class="go">{&#39;sape&#39;: 4139, &#39;guido&#39;: 4127, &#39;jack&#39;: 4098}</span>
</pre></div>
</div>
<p>æ­¤å¤–ï¼Œå­—å…¸æ¨å¯¼å¼å¯ä»¥ä»ä»»æ„çš„é”®å€¼è¡¨è¾¾å¼ä¸­åˆ›å»ºå­—å…¸</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)}</span>
<span class="go">{2: 4, 4: 16, 6: 36}</span>
</pre></div>
</div>
<p>å½“å…³é”®å­—æ˜¯ç®€å•å­—ç¬¦ä¸²æ—¶ï¼Œæœ‰æ—¶ç›´æ¥é€šè¿‡å…³é”®å­—å‚æ•°æ¥æŒ‡å®šé”®å€¼å¯¹æ›´æ–¹ä¾¿</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="p">(</span><span class="n">sape</span><span class="o">=</span><span class="mi">4139</span><span class="p">,</span> <span class="n">guido</span><span class="o">=</span><span class="mi">4127</span><span class="p">,</span> <span class="n">jack</span><span class="o">=</span><span class="mi">4098</span><span class="p">)</span>
<span class="go">{&#39;sape&#39;: 4139, &#39;guido&#39;: 4127, &#39;jack&#39;: 4098}</span>
</pre></div>
</div>
</div>
<div class="section" id="looping-techniques">
<span id="tut-loopidioms"></span><h2><span class="section-number">5.6. </span>å¾ªç¯çš„æŠ€å·§<a class="headerlink" href="#looping-techniques" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>å½“åœ¨å­—å…¸ä¸­å¾ªç¯æ—¶ï¼Œç”¨ <code class="xref py py-meth docutils literal notranslate"><span class="pre">items()</span></code> æ–¹æ³•å¯å°†å…³é”®å­—å’Œå¯¹åº”çš„å€¼åŒæ—¶å–å‡º</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">knights</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;gallahad&#39;</span><span class="p">:</span> <span class="s1">&#39;the pure&#39;</span><span class="p">,</span> <span class="s1">&#39;robin&#39;</span><span class="p">:</span> <span class="s1">&#39;the brave&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">knights</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">gallahad the pure</span>
<span class="go">robin the brave</span>
</pre></div>
</div>
<p>å½“åœ¨åºåˆ—ä¸­å¾ªç¯æ—¶ï¼Œç”¨ <a class="reference internal" href="functions.html#enumerate" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#enumerate" title="enumerate"><code class="xref py py-func docutils literal notranslate"><span class="pre">enumerate()</span></code></a> å‡½æ•°å¯ä»¥å°†ç´¢å¼•ä½ç½®å’Œå…¶å¯¹åº”çš„å€¼åŒæ—¶å–å‡º</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="s1">&#39;tic&#39;</span><span class="p">,</span> <span class="s1">&#39;tac&#39;</span><span class="p">,</span> <span class="s1">&#39;toe&#39;</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">0 tic</span>
<span class="go">1 tac</span>
<span class="go">2 toe</span>
</pre></div>
</div>
<p>å½“åŒæ—¶åœ¨ä¸¤ä¸ªæˆ–æ›´å¤šåºåˆ—ä¸­å¾ªç¯æ—¶ï¼Œå¯ä»¥ç”¨ <a class="reference internal" href="functions.html#zip" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#zip" title="zip"><code class="xref py py-func docutils literal notranslate"><span class="pre">zip()</span></code></a> å‡½æ•°å°†å…¶å†…å…ƒç´ ä¸€ä¸€åŒ¹é…ã€‚</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">questions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;quest&#39;</span><span class="p">,</span> <span class="s1">&#39;favorite color&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">answers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lancelot&#39;</span><span class="p">,</span> <span class="s1">&#39;the holy grail&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">q</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">answers</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;What is your </span><span class="si">{0}</span><span class="s1">?  It is </span><span class="si">{1}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">What is your name?  It is lancelot.</span>
<span class="go">What is your quest?  It is the holy grail.</span>
<span class="go">What is your favorite color?  It is blue.</span>
</pre></div>
</div>
<p>å½“é€†å‘å¾ªç¯ä¸€ä¸ªåºåˆ—æ—¶ï¼Œå…ˆæ­£å‘å®šä½åºåˆ—ï¼Œç„¶åè°ƒç”¨ <a class="reference internal" href="functions.html#reversed" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal notranslate"><span class="pre">reversed()</span></code></a> å‡½æ•°</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">9</span>
<span class="go">7</span>
<span class="go">5</span>
<span class="go">3</span>
<span class="go">1</span>
</pre></div>
</div>
<p>å¦‚æœè¦æŒ‰æŸä¸ªæŒ‡å®šé¡ºåºå¾ªç¯ä¸€ä¸ªåºåˆ—ï¼Œå¯ä»¥ç”¨ <a class="reference internal" href="functions.html#sorted" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#sorted" title="sorted"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> å‡½æ•°ï¼Œå®ƒå¯ä»¥åœ¨ä¸æ”¹åŠ¨åŸåºåˆ—çš„åŸºç¡€ä¸Šè¿”å›ä¸€ä¸ªæ–°çš„æ’å¥½åºçš„åºåˆ—</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">basket</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;pear&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">basket</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">apple</span>
<span class="go">banana</span>
<span class="go">orange</span>
<span class="go">pear</span>
</pre></div>
</div>
<p>æœ‰æ—¶å¯èƒ½ä¼šæƒ³åœ¨å¾ªç¯æ—¶ä¿®æ”¹åˆ—è¡¨å†…å®¹ï¼Œä¸€èˆ¬æ¥è¯´æ”¹ä¸ºåˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨æ˜¯æ¯”è¾ƒç®€å•ä¸”å®‰å…¨çš„</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raw_data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">56.2</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;NaN&#39;</span><span class="p">),</span> <span class="mf">51.7</span><span class="p">,</span> <span class="mf">55.3</span><span class="p">,</span> <span class="mf">52.5</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;NaN&#39;</span><span class="p">),</span> <span class="mf">47.8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filtered_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">raw_data</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">filtered_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filtered_data</span>
<span class="go">[56.2, 51.7, 55.3, 52.5, 47.8]</span>
</pre></div>
</div>
</div>
<div class="section" id="more-on-conditions">
<span id="tut-conditions"></span><h2><span class="section-number">5.7. </span>æ·±å…¥æ¡ä»¶æ§åˆ¶<a class="headerlink" href="#more-on-conditions" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">while</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">if</span></code> æ¡ä»¶å¥ä¸­å¯ä»¥ä½¿ç”¨ä»»æ„æ“ä½œï¼Œè€Œä¸ä»…ä»…æ˜¯æ¯”è¾ƒæ“ä½œã€‚</p>
<p>æ¯”è¾ƒæ“ä½œç¬¦ <code class="docutils literal notranslate"><span class="pre">in</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">in</span></code> æ ¡éªŒä¸€ä¸ªå€¼æ˜¯å¦åœ¨ï¼ˆæˆ–ä¸åœ¨ï¼‰ä¸€ä¸ªåºåˆ—é‡Œã€‚æ“ä½œç¬¦ <code class="docutils literal notranslate"><span class="pre">is</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">not</span></code> æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè¿™åªå¯¹åƒåˆ—è¡¨è¿™æ ·çš„å¯å˜å¯¹è±¡æ¯”è¾ƒé‡è¦ã€‚æ‰€æœ‰çš„æ¯”è¾ƒæ“ä½œç¬¦éƒ½æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§ï¼Œä¸”è¿™ä¸ªä¼˜å…ˆçº§æ¯”æ•°å€¼è¿ç®—ç¬¦ä½ã€‚</p>
<p>æ¯”è¾ƒæ“ä½œå¯ä»¥ä¼ é€’ã€‚ä¾‹å¦‚ <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&lt;</span> <span class="pre">b</span> <span class="pre">==</span> <span class="pre">c</span></code> ä¼šæ ¡éªŒæ˜¯å¦ <code class="docutils literal notranslate"><span class="pre">a</span></code> å°äº <code class="docutils literal notranslate"><span class="pre">b</span></code> å¹¶ä¸” <code class="docutils literal notranslate"><span class="pre">b</span></code> ç­‰äº <code class="docutils literal notranslate"><span class="pre">c</span></code>ã€‚</p>
<p>æ¯”è¾ƒæ“ä½œå¯ä»¥é€šè¿‡å¸ƒå°”è¿ç®—ç¬¦ <code class="docutils literal notranslate"><span class="pre">and</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">or</span></code> æ¥ç»„åˆï¼Œå¹¶ä¸”æ¯”è¾ƒæ“ä½œï¼ˆæˆ–å…¶ä»–ä»»ä½•å¸ƒå°”è¿ç®—ï¼‰çš„ç»“æœéƒ½å¯ä»¥ç”¨ <code class="docutils literal notranslate"><span class="pre">not</span></code> æ¥å–åã€‚è¿™äº›æ“ä½œç¬¦çš„ä¼˜å…ˆçº§ä½äºæ¯”è¾ƒæ“ä½œç¬¦ï¼›åœ¨å®ƒä»¬ä¹‹ä¸­ï¼Œ<code class="docutils literal notranslate"><span class="pre">not</span></code> ä¼˜å…ˆçº§æœ€é«˜ï¼Œ <code class="docutils literal notranslate"><span class="pre">or</span></code> ä¼˜å…ˆçº§æœ€ä½ï¼Œå› æ­¤ <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">and</span> <span class="pre">not</span> <span class="pre">B</span> <span class="pre">or</span> <span class="pre">C</span></code> ç­‰ä»·äº <code class="docutils literal notranslate"><span class="pre">(A</span> <span class="pre">and</span> <span class="pre">(not</span> <span class="pre">B))</span> <span class="pre">or</span> <span class="pre">C</span></code>ã€‚å’Œä¹‹å‰ä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨è¿™ç§å¼å­é‡Œä½¿ç”¨åœ†æ‹¬å·ã€‚</p>
<p>å¸ƒå°”è¿ç®—ç¬¦ <code class="docutils literal notranslate"><span class="pre">and</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">or</span></code> ä¹Ÿè¢«ç§°ä¸º <em>çŸ­è·¯</em> è¿ç®—ç¬¦ï¼šå®ƒä»¬çš„å‚æ•°ä»å·¦è‡³å³è§£æï¼Œä¸€æ—¦å¯ä»¥ç¡®å®šç»“æœè§£æå°±ä¼šåœæ­¢ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <code class="docutils literal notranslate"><span class="pre">A</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">C</span></code> ä¸ºçœŸè€Œ <code class="docutils literal notranslate"><span class="pre">B</span></code> ä¸ºå‡ï¼Œé‚£ä¹ˆ <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">and</span> <span class="pre">B</span> <span class="pre">and</span> <span class="pre">C</span></code> ä¸ä¼šè§£æ <code class="docutils literal notranslate"><span class="pre">C</span></code>ã€‚å½“ç”¨ä½œæ™®é€šå€¼è€Œéå¸ƒå°”å€¼æ—¶ï¼ŒçŸ­è·¯æ“ä½œç¬¦çš„è¿”å›å€¼é€šå¸¸æ˜¯æœ€åä¸€ä¸ªå˜é‡ã€‚</p>
<p>ä¹Ÿå¯ä»¥æŠŠæ¯”è¾ƒæ“ä½œæˆ–è€…é€»è¾‘è¡¨è¾¾å¼çš„ç»“æœèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œä¾‹å¦‚</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">string1</span><span class="p">,</span> <span class="n">string2</span><span class="p">,</span> <span class="n">string3</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Trondheim&#39;</span><span class="p">,</span> <span class="s1">&#39;Hammer Dance&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">non_null</span> <span class="o">=</span> <span class="n">string1</span> <span class="ow">or</span> <span class="n">string2</span> <span class="ow">or</span> <span class="n">string3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">non_null</span>
<span class="go">&#39;Trondheim&#39;</span>
</pre></div>
</div>
<p>è¯·æ³¨æ„ Python ä¸ C ä¸åŒï¼Œåœ¨è¡¨è¾¾å¼å†…éƒ¨èµ‹å€¼å¿…é¡»æ˜¾å¼åœ°ä½¿ç”¨ <a class="reference internal" href="design.html#why-can-t-i-use-an-assignment-in-an-expression" tppabs="https://docs.python.org/zh-cn/3/faq/design.html#why-can-t-i-use-an-assignment-in-an-expression"><span class="std std-ref">æµ·è±¡è¿ç®—ç¬¦</span></a> <code class="docutils literal notranslate"><span class="pre">:=</span></code> æ¥å®Œæˆã€‚ è¿™é¿å…äº† C ç¨‹åºä¸­å¸¸è§çš„ä¸€ç§é—®é¢˜ï¼šæƒ³è¦åœ¨è¡¨è¾¾å¼ä¸­å†™ <code class="docutils literal notranslate"><span class="pre">==</span></code> æ—¶å´å†™æˆäº† <code class="docutils literal notranslate"><span class="pre">=</span></code>ã€‚</p>
</div>
<div class="section" id="comparing-sequences-and-other-types">
<span id="tut-comparing"></span><h2><span class="section-number">5.8. </span>åºåˆ—å’Œå…¶å®ƒç±»å‹çš„æ¯”è¾ƒ<a class="headerlink" href="#comparing-sequences-and-other-types" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>åºåˆ—å¯¹è±¡é€šå¸¸å¯ä»¥ä¸ç›¸åŒåºåˆ—ç±»å‹çš„å…¶ä»–å¯¹è±¡æ¯”è¾ƒã€‚ è¿™ç§æ¯”è¾ƒä½¿ç”¨ <em>å­—å…¸å¼</em> é¡ºåºï¼šé¦–å…ˆæ¯”è¾ƒå¼€å¤´çš„ä¸¤ä¸ªå¯¹åº”å…ƒç´ ï¼Œå¦‚æœä¸¤è€…ä¸ç›¸ç­‰åˆ™æ¯”è¾ƒç»“æœå°±ç”±æ­¤ç¡®å®šï¼›å¦‚æœä¸¤è€…ç›¸ç­‰åˆ™æ¯”è¾ƒä¹‹åçš„ä¸¤ä¸ªå…ƒç´ ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªåºåˆ—è¢«è€—å°½ã€‚ å¦‚æœè¦æ¯”è¾ƒçš„ä¸¤ä¸ªå…ƒç´ æœ¬èº«åˆæ˜¯ç›¸åŒç±»å‹çš„åºåˆ—ï¼Œåˆ™ä¼šé€’å½’åœ°æ‰§è¡Œå­—å…¸å¼é¡ºåºæ¯”è¾ƒã€‚ å¦‚æœä¸¤ä¸ªåºåˆ—ä¸­æ‰€æœ‰çš„å¯¹åº”å…ƒç´ éƒ½ç›¸ç­‰ï¼Œåˆ™ä¸¤ä¸ªåºåˆ—ä¹Ÿå°†è¢«è§†ä¸ºç›¸ç­‰ã€‚ å¦‚æœä¸€ä¸ªåºåˆ—æ˜¯å¦ä¸€ä¸ªçš„åˆå§‹å­åºåˆ—ï¼Œåˆ™è¾ƒçŸ­çš„åºåˆ—å°±è¢«è§†ä¸ºè¾ƒå°ï¼ˆè¾ƒå°‘ï¼‰ã€‚ å¯¹äºå­—ç¬¦ä¸²æ¥è¯´ï¼Œå­—å…¸å¼é¡ºåºæ˜¯ä½¿ç”¨ Unicode ç ä½åºå·å¯¹å•ä¸ªå­—ç¬¦æ’åºã€‚ ä¸‹é¢æ˜¯ä¸€äº›ç›¸åŒç±»å‹åºåˆ—ä¹‹é—´æ¯”è¾ƒçš„ä¾‹å­:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>              <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>              <span class="o">&lt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="s1">&#39;ABC&#39;</span> <span class="o">&lt;</span> <span class="s1">&#39;C&#39;</span> <span class="o">&lt;</span> <span class="s1">&#39;Pascal&#39;</span> <span class="o">&lt;</span> <span class="s1">&#39;Python&#39;</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>           <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                 <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>             <span class="o">==</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">))</span>   <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>æ³¨æ„å¯¹ä¸åŒç±»å‹å¯¹è±¡æ¥è¯´ï¼Œåªè¦å¾…æ¯”è¾ƒå¯¹è±¡æä¾›äº†åˆé€‚çš„æ¯”è¾ƒæ–¹æ³•ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> æ¥æ¯”è¾ƒã€‚ä¾‹å¦‚ï¼Œæ··åˆæ•°å€¼ç±»å‹æ˜¯é€šè¿‡ä»–ä»¬çš„æ•°å€¼è¿›è¡Œæ¯”è¾ƒçš„ï¼Œæ‰€ä»¥ 0 ç­‰äº 0.0ï¼Œç­‰ç­‰ã€‚å¦åˆ™ï¼Œè§£é‡Šå™¨å°†æŠ›å‡ºä¸€ä¸ª <a class="reference internal" href="exceptions.html#TypeError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> å¼‚å¸¸ï¼Œè€Œä¸æ˜¯éšä¾¿ç»™å‡ºä¸€ä¸ªç»“æœã€‚</p>
<p class="rubric">è„šæ³¨</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>åˆ«çš„è¯­è¨€å¯èƒ½ä¼šè¿”å›ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œä»–ä»¬å…è®¸æ–¹æ³•è¿ç»­æ‰§è¡Œï¼Œä¾‹å¦‚ <code class="docutils literal notranslate"><span class="pre">d-&gt;insert(&quot;a&quot;)-&gt;remove(&quot;b&quot;)-&gt;sort();</span></code>ã€‚</p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html" tppabs="https://docs.python.org/zh-cn/3/contents.html">ç›®å½•</a></h3>
  <ul>
<li><a class="reference internal" href="#">5. æ•°æ®ç»“æ„</a><ul>
<li><a class="reference internal" href="#more-on-lists">5.1. åˆ—è¡¨çš„æ›´å¤šç‰¹æ€§</a><ul>
<li><a class="reference internal" href="#using-lists-as-stacks">5.1.1. åˆ—è¡¨ä½œä¸ºæ ˆä½¿ç”¨</a></li>
<li><a class="reference internal" href="#using-lists-as-queues">5.1.2. åˆ—è¡¨ä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨</a></li>
<li><a class="reference internal" href="#list-comprehensions">5.1.3. åˆ—è¡¨æ¨å¯¼å¼</a></li>
<li><a class="reference internal" href="#nested-list-comprehensions">5.1.4. åµŒå¥—çš„åˆ—è¡¨æ¨å¯¼å¼</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-del-statement">5.2. <code class="xref std std-keyword docutils literal notranslate"><span class="pre">del</span></code> è¯­å¥</a></li>
<li><a class="reference internal" href="#tuples-and-sequences">5.3. å…ƒç»„å’Œåºåˆ—</a></li>
<li><a class="reference internal" href="#sets">5.4. é›†åˆ</a></li>
<li><a class="reference internal" href="#dictionaries">5.5. å­—å…¸</a></li>
<li><a class="reference internal" href="#looping-techniques">5.6. å¾ªç¯çš„æŠ€å·§</a></li>
<li><a class="reference internal" href="#more-on-conditions">5.7. æ·±å…¥æ¡ä»¶æ§åˆ¶</a></li>
<li><a class="reference internal" href="#comparing-sequences-and-other-types">5.8. åºåˆ—å’Œå…¶å®ƒç±»å‹çš„æ¯”è¾ƒ</a></li>
</ul>
</li>
</ul>

  <h4>ä¸Šä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="controlflow.html" tppabs="https://docs.python.org/zh-cn/3/tutorial/controlflow.html"
                        title="ä¸Šä¸€ç« "><span class="section-number">4. </span>å…¶ä»–æµç¨‹æ§åˆ¶å·¥å…·</a></p>
  <h4>ä¸‹ä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="modules.html" tppabs="https://docs.python.org/zh-cn/3/tutorial/modules.html"
                        title="ä¸‹ä¸€ç« "><span class="section-number">6. </span>æ¨¡å—</a></p>
  <div role="note" aria-label="source link">
    <h3>æœ¬é¡µ</h3>
    <ul class="this-page-menu">
      <li><a href="bugs.html" tppabs="https://docs.python.org/zh-cn/3/bugs.html">æäº¤ Bug</a></li>
      <li>
        <a href="javascript:if(confirm('https://github.com/python/cpython/blob/3.8/Doc/tutorial/datastructures.rst  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/python/cpython/blob/3.8/Doc/tutorial/datastructures.rst'" tppabs="https://github.com/python/cpython/blob/3.8/Doc/tutorial/datastructures.rst"
            rel="nofollow">æ˜¾ç¤ºæºä»£ç 
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             >ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="modules.html" tppabs="https://docs.python.org/zh-cn/3/tutorial/modules.html" title="6. æ¨¡å—"
             >ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="controlflow.html" tppabs="https://docs.python.org/zh-cn/3/tutorial/controlflow.html" title="4. å…¶ä»–æµç¨‹æ§åˆ¶å·¥å…·"
             >ä¸Šä¸€é¡µ</a> |</li>

    <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <span class="language_switcher_placeholder">zh_CN</span>
      <span class="version_switcher_placeholder">3.8.2</span>
      <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index-1.html" tppabs="https://docs.python.org/zh-cn/3/tutorial/index.html" >Python æ•™ç¨‹</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="copyright.html" tppabs="https://docs.python.org/zh-cn/3/copyright.html">ç‰ˆæƒæ‰€æœ‰</a> 2001-2020, Python Software Foundation.
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="javascript:if(confirm('https://www.python.org/psf/donations/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/psf/donations/'" tppabs="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    æœ€åæ›´æ–°äº 3æœˆ 26, 2020.
    <a href="javascript:if(confirm('https://docs.python.org/3/bugs.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://docs.python.org/3/bugs.html'" tppabs="https://docs.python.org/3/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="javascript:if(confirm('https://www.sphinx-doc.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.sphinx-doc.org/'" tppabs="https://www.sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>

  </body>
</html>