
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>functools --- é«˜é˜¶å‡½æ•°å’Œå¯è°ƒç”¨å¯¹è±¡ä¸Šçš„æ“ä½œ &#8212; Python 3.8.2 æ–‡æ¡£</title>
    <link rel="stylesheet" href="pydoctheme.css" tppabs="https://docs.python.org/zh-cn/3/_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="pygments.css" tppabs="https://docs.python.org/zh-cn/3/_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="documentation_options.js" tppabs="https://docs.python.org/zh-cn/3/_static/documentation_options.js"></script>
    <script type="text/javascript" src="jquery.js" tppabs="https://docs.python.org/zh-cn/3/_static/jquery.js"></script>
    <script type="text/javascript" src="underscore.js" tppabs="https://docs.python.org/zh-cn/3/_static/underscore.js"></script>
    <script type="text/javascript" src="doctools.js" tppabs="https://docs.python.org/zh-cn/3/_static/doctools.js"></script>
    <script type="text/javascript" src="language_data.js" tppabs="https://docs.python.org/zh-cn/3/_static/language_data.js"></script>
    <script type="text/javascript" src="translations.js" tppabs="https://docs.python.org/zh-cn/3/_static/translations.js"></script>
    
    <script type="text/javascript" src="sidebar.js" tppabs="https://docs.python.org/zh-cn/3/_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="åœ¨ Python 3.8.2 æ–‡æ¡£ ä¸­æœç´¢"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="å…³äºè¿™äº›æ–‡æ¡£" href="../about.html" />
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="copyright" title="ç‰ˆæƒæ‰€æœ‰" href="../copyright.html" />
    <link rel="next" title="operator --- æ ‡å‡†è¿ç®—ç¬¦æ›¿ä»£å‡½æ•°" href="operator.html" />
    <link rel="prev" title="itertools --- ä¸ºé«˜æ•ˆå¾ªç¯è€Œåˆ›å»ºè¿­ä»£å™¨çš„å‡½æ•°" href="itertools.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/functools.html" />
    
      
      <script type="text/javascript" src="switchers.js" tppabs="https://docs.python.org/zh-cn/3/_static/switchers.js"></script>
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>

    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    
    <script type="text/javascript" src="copybutton.js" tppabs="https://docs.python.org/zh-cn/3/_static/copybutton.js"></script>
    
     


  </head><body>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             accesskey="I">ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="operator.html" tppabs="https://docs.python.org/zh-cn/3/library/operator.html" title="operator --- æ ‡å‡†è¿ç®—ç¬¦æ›¿ä»£å‡½æ•°"
             accesskey="N">ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="itertools.html" tppabs="https://docs.python.org/zh-cn/3/library/itertools.html" title="itertools --- ä¸ºé«˜æ•ˆå¾ªç¯è€Œåˆ›å»ºè¿­ä»£å™¨çš„å‡½æ•°"
             accesskey="P">ä¸Šä¸€é¡µ</a> |</li>

    <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <span class="language_switcher_placeholder">zh_CN</span>
      <span class="version_switcher_placeholder">3.8.2</span>
      <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index-2.html" tppabs="https://docs.python.org/zh-cn/3/library/index.html" >Python æ ‡å‡†åº“</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="functional-1.html" tppabs="https://docs.python.org/zh-cn/3/library/functional.html" accesskey="U">å‡½æ•°å¼ç¼–ç¨‹æ¨¡å—</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-functools">
<span id="functools-higher-order-functions-and-operations-on-callable-objects"></span><h1><a class="reference internal" href="#module-functools" title="functools: Higher-order functions and operations on callable objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">functools</span></code></a> --- é«˜é˜¶å‡½æ•°å’Œå¯è°ƒç”¨å¯¹è±¡ä¸Šçš„æ“ä½œ<a class="headerlink" href="#module-functools" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<p><strong>æºä»£ç :</strong> <a class="reference external" href="javascript:if(confirm('https://github.com/python/cpython/tree/3.8/Lib/functools.py  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/python/cpython/tree/3.8/Lib/functools.py'" tppabs="https://github.com/python/cpython/tree/3.8/Lib/functools.py">Lib/functools.py</a></p>
<hr class="docutils" />
<p><a class="reference internal" href="#module-functools" title="functools: Higher-order functions and operations on callable objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">functools</span></code></a> æ¨¡å—åº”ç”¨äºé«˜é˜¶å‡½æ•°ï¼Œå³å‚æ•°æˆ–ï¼ˆå’Œï¼‰è¿”å›å€¼ä¸ºå…¶ä»–å‡½æ•°çš„å‡½æ•°ã€‚ é€šå¸¸æ¥è¯´ï¼Œæ­¤æ¨¡å—çš„åŠŸèƒ½é€‚ç”¨äºæ‰€æœ‰å¯è°ƒç”¨å¯¹è±¡ã€‚</p>
<p><a class="reference internal" href="#module-functools" title="functools: Higher-order functions and operations on callable objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">functools</span></code></a> æ¨¡å—å®šä¹‰äº†ä»¥ä¸‹å‡½æ•°:</p>
<dl class="function">
<dt id="functools.cached_property">
<code class="sig-prename descclassname">&#64;</code><code class="sig-prename descclassname">functools.</code><code class="sig-name descname">cached_property</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="headerlink" href="#functools.cached_property" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°†ä¸€ä¸ªç±»æ–¹æ³•è½¬æ¢ä¸ºç‰¹å¾å±æ€§ï¼Œä¸€æ¬¡æ€§è®¡ç®—è¯¥ç‰¹å¾å±æ€§çš„å€¼ï¼Œç„¶åå°†å…¶ç¼“å­˜ä¸ºå®ä¾‹ç”Ÿå‘½å‘¨æœŸå†…çš„æ™®é€šå±æ€§ã€‚ ç±»ä¼¼äº <a class="reference internal" href="functions.html#property" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#property" title="property"><code class="xref py py-func docutils literal notranslate"><span class="pre">property()</span></code></a> ä½†å¢åŠ äº†ç¼“å­˜åŠŸèƒ½ã€‚ å¯¹äºåœ¨å…¶ä»–æƒ…å†µä¸‹å®é™…ä¸å¯å˜çš„é«˜è®¡ç®—èµ„æºæ¶ˆè€—çš„å®ä¾‹ç‰¹å¾å±æ€§æ¥è¯´è¯¥å‡½æ•°éå¸¸æœ‰ç”¨ã€‚</p>
<p>ç¤ºä¾‹:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DataSet</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequence_of_numbers</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">sequence_of_numbers</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">stdev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">statistics</span><span class="o">.</span><span class="n">stdev</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">)</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">variance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">statistics</span><span class="o">.</span><span class="n">variance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.8 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>æ­¤è£…é¥°å™¨è¦æ±‚æ¯ä¸ªå®ä¾‹ä¸Šçš„ <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> å±æ€§æ˜¯å¯å˜çš„æ˜ å°„ã€‚ è¿™æ„å‘³ç€å®ƒå°†ä¸é€‚ç”¨äºæŸäº›ç±»å‹ï¼Œä¾‹å¦‚å…ƒç±»ï¼ˆå› ä¸ºç±»å‹å®ä¾‹ä¸Šçš„ <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> å±æ€§æ˜¯ç±»å‘½åç©ºé—´çš„åªè¯»ä»£ç†ï¼‰ï¼Œä»¥åŠé‚£äº›æŒ‡å®šäº† <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> ä½†æœªåŒ…å« <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> ä½œä¸ºæ‰€å®šä¹‰çš„ç©ºä½ä¹‹ä¸€çš„ç±»ï¼ˆå› ä¸ºè¿™æ ·çš„ç±»æ ¹æœ¬æ²¡æœ‰æä¾› <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> å±æ€§ï¼‰ã€‚</p>
</div>
</dd></dl>

<dl class="function">
<dt id="functools.cmp_to_key">
<code class="sig-prename descclassname">functools.</code><code class="sig-name descname">cmp_to_key</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="headerlink" href="#functools.cmp_to_key" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°†(æ—§å¼çš„)æ¯”è¾ƒå‡½æ•°è½¬æ¢ä¸ºæ–°å¼çš„ <a class="reference internal" href="glossary.html#term-key-function" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-key-function"><span class="xref std std-term">key function</span></a> .  åœ¨ç±»ä¼¼äº <a class="reference internal" href="functions.html#sorted" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#sorted" title="sorted"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> ï¼Œ <a class="reference internal" href="functions.html#min" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#min" title="min"><code class="xref py py-func docutils literal notranslate"><span class="pre">min()</span></code></a> ï¼Œ <a class="reference internal" href="functions.html#max" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#max" title="max"><code class="xref py py-func docutils literal notranslate"><span class="pre">max()</span></code></a> ï¼Œ <a class="reference internal" href="heapq.html#heapq.nlargest" tppabs="https://docs.python.org/zh-cn/3/library/heapq.html#heapq.nlargest" title="heapq.nlargest"><code class="xref py py-func docutils literal notranslate"><span class="pre">heapq.nlargest()</span></code></a> ï¼Œ <a class="reference internal" href="heapq.html#heapq.nsmallest" tppabs="https://docs.python.org/zh-cn/3/library/heapq.html#heapq.nsmallest" title="heapq.nsmallest"><code class="xref py py-func docutils literal notranslate"><span class="pre">heapq.nsmallest()</span></code></a> ï¼Œ <a class="reference internal" href="itertools.html#itertools.groupby" tppabs="https://docs.python.org/zh-cn/3/library/itertools.html#itertools.groupby" title="itertools.groupby"><code class="xref py py-func docutils literal notranslate"><span class="pre">itertools.groupby()</span></code></a> ç­‰å‡½æ•°çš„ <cite>key</cite> å‚æ•°ä¸­ä½¿ç”¨ã€‚æ­¤å‡½æ•°ä¸»è¦ç”¨ä½œå°† Python 2 ç¨‹åºè½¬æ¢è‡³æ–°ç‰ˆçš„è½¬æ¢å·¥å…·ï¼Œä»¥ä¿æŒå¯¹æ¯”è¾ƒå‡½æ•°çš„å…¼å®¹ã€‚</p>
<p>æ¯”è¾ƒå‡½æ•°æ„ä¸ºä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ¥å—ä¸¤ä¸ªå‚æ•°å¹¶æ¯”è¾ƒå®ƒä»¬ï¼Œç»“æœä¸ºå°äºåˆ™è¿”å›ä¸€ä¸ªè´Ÿæ•°ï¼Œç›¸ç­‰åˆ™è¿”å›é›¶ï¼Œå¤§äºåˆ™è¿”å›ä¸€ä¸ªæ­£æ•°ã€‚key functionåˆ™æ˜¯ä¸€ä¸ªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå¹¶è¿”å›å¦ä¸€ä¸ªç”¨ä»¥æ’åºçš„å€¼çš„å¯è°ƒç”¨å¯¹è±¡ã€‚</p>
<p>ç¤ºä¾‹:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">cmp_to_key</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">strcoll</span><span class="p">))</span>  <span class="c1"># locale-aware sort order</span>
</pre></div>
</div>
<p>æœ‰å…³æ’åºç¤ºä¾‹å’Œç®€è¦æ’åºæ•™ç¨‹ï¼Œè¯·å‚é˜… <a class="reference internal" href="sorting.html#sortinghowto" tppabs="https://docs.python.org/zh-cn/3/howto/sorting.html#sortinghowto"><span class="std std-ref">æ’åºæŒ‡å—</span></a> ã€‚</p>
<div class="versionadded">
<p><span class="versionmodified added">3.2 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="functools.lru_cache">
<code class="sig-prename descclassname">&#64;</code><code class="sig-prename descclassname">functools.</code><code class="sig-name descname">lru_cache</code><span class="sig-paren">(</span><em class="sig-param">user_function</em><span class="sig-paren">)</span><a class="headerlink" href="#functools.lru_cache" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dt>
<code class="sig-prename descclassname">&#64;</code><code class="sig-prename descclassname">functools.</code><code class="sig-name descname">lru_cache</code><span class="sig-paren">(</span><em class="sig-param">maxsize=128</em>, <em class="sig-param">typed=False</em><span class="sig-paren">)</span></dt>
<dd><p>ä¸€ä¸ªä¸ºå‡½æ•°æä¾›ç¼“å­˜åŠŸèƒ½çš„è£…é¥°å™¨ï¼Œç¼“å­˜ <em>maxsize</em> ç»„ä¼ å…¥å‚æ•°ï¼Œåœ¨ä¸‹æ¬¡ä»¥ç›¸åŒå‚æ•°è°ƒç”¨æ—¶ç›´æ¥è¿”å›ä¸Šä¸€æ¬¡çš„ç»“æœã€‚ç”¨ä»¥èŠ‚çº¦é«˜å¼€é”€æˆ–I/Oå‡½æ•°çš„è°ƒç”¨æ—¶é—´ã€‚</p>
<p>ç”±äºä½¿ç”¨äº†å­—å…¸å­˜å‚¨ç¼“å­˜ï¼Œæ‰€ä»¥è¯¥å‡½æ•°çš„å›ºå®šå‚æ•°å’Œå…³é”®å­—å‚æ•°å¿…é¡»æ˜¯å¯å“ˆå¸Œçš„ã€‚</p>
<p>ä¸åŒæ¨¡å¼çš„å‚æ•°å¯èƒ½è¢«è§†ä¸ºä¸åŒä»è€Œäº§ç”Ÿå¤šä¸ªç¼“å­˜é¡¹ï¼Œä¾‹å¦‚, <cite>f(a=1, b=2)</cite> å’Œ <cite>f(b=2, a=1)</cite> å› å…¶å‚æ•°é¡ºåºä¸åŒï¼Œå¯èƒ½ä¼šè¢«ç¼“å­˜ä¸¤æ¬¡ã€‚</p>
<p>å¦‚æœæŒ‡å®šäº† <em>user_function</em>ï¼Œå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ã€‚ è¿™å…è®¸ <em>lru_cache</em> è£…é¥°å™¨è¢«ç›´æ¥åº”ç”¨äºä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œè®© <em>maxsize</em> ä¿æŒå…¶é»˜è®¤å€¼ 128:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@lru_cache</span>
<span class="k">def</span> <span class="nf">count_vowels</span><span class="p">(</span><span class="n">sentence</span><span class="p">):</span>
    <span class="n">sentence</span> <span class="o">=</span> <span class="n">sentence</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">sentence</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">vowel</span><span class="p">)</span> <span class="k">for</span> <span class="n">vowel</span> <span class="ow">in</span> <span class="s1">&#39;aeiou&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>å¦‚æœ <em>maxsize</em> è®¾ç½®ä¸º <code class="docutils literal notranslate"><span class="pre">None</span></code> ï¼ŒLRUåŠŸèƒ½å°†è¢«ç¦ç”¨ä¸”ç¼“å­˜æ•°é‡æ— ä¸Šé™ã€‚ <em>maxsize</em> è®¾ç½®ä¸º2çš„å¹‚æ—¶å¯è·å¾—æœ€ä½³æ€§èƒ½ã€‚</p>
<p>å¦‚æœ <em>typed</em> è®¾ç½®ä¸ºtrueï¼Œä¸åŒç±»å‹çš„å‡½æ•°å‚æ•°å°†è¢«åˆ†åˆ«ç¼“å­˜ã€‚ä¾‹å¦‚ï¼Œ <code class="docutils literal notranslate"><span class="pre">f(3)</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">f(3.0)</span></code> å°†è¢«è§†ä¸ºä¸åŒè€Œåˆ†åˆ«ç¼“å­˜ã€‚</p>
<p>ä¸ºäº†è¡¡é‡ç¼“å­˜çš„æœ‰æ•ˆæ€§ä»¥ä¾¿è°ƒæ•´ <em>maxsize</em> å½¢å‚ï¼Œè¢«è£…é¥°çš„å‡½æ•°å¸¦æœ‰ä¸€ä¸ª <code class="xref py py-func docutils literal notranslate"><span class="pre">cache_info()</span></code> å‡½æ•°ã€‚å½“è°ƒç”¨ <code class="xref py py-func docutils literal notranslate"><span class="pre">cache_info()</span></code> å‡½æ•°æ—¶ï¼Œè¿”å›ä¸€ä¸ªå…·åå…ƒç»„ï¼ŒåŒ…å«å‘½ä¸­æ¬¡æ•° <em>hits</em>ï¼Œæœªå‘½ä¸­æ¬¡æ•° <em>misses</em> ï¼Œæœ€å¤§ç¼“å­˜æ•°é‡ <em>maxsize</em> å’Œ å½“å‰ç¼“å­˜å¤§å° <em>currsize</em>ã€‚åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œå‘½ä¸­æ•°ä¸æœªå‘½ä¸­æ•°æ˜¯ä¸å®Œå…¨å‡†ç¡®çš„ã€‚</p>
<p>è¯¥è£…é¥°å™¨ä¹Ÿæä¾›äº†ä¸€ä¸ªç”¨äºæ¸…ç†/ä½¿ç¼“å­˜å¤±æ•ˆçš„å‡½æ•° <code class="xref py py-func docutils literal notranslate"><span class="pre">cache_clear()</span></code> ã€‚</p>
<p>åŸå§‹çš„æœªç»è£…é¥°çš„å‡½æ•°å¯ä»¥é€šè¿‡ <code class="xref py py-attr docutils literal notranslate"><span class="pre">__wrapped__</span></code> å±æ€§è®¿é—®ã€‚å®ƒå¯ä»¥ç”¨äºæ£€æŸ¥ã€ç»•è¿‡ç¼“å­˜ï¼Œæˆ–ä½¿ç”¨ä¸åŒçš„ç¼“å­˜å†æ¬¡è£…é¥°åŸå§‹å‡½æ•°ã€‚</p>
<p><a class="reference external" href="javascript:if(confirm('https://en.wikipedia.org/wiki/issue5639  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/issue5639#Examples'" tppabs="https://en.wikipedia.org/wiki/Cache_algorithms#Examples">â€œæœ€ä¹…æœªä½¿ç”¨ç®—æ³•â€ï¼ˆLRUï¼‰ç¼“å­˜</a> åœ¨â€œæœ€è¿‘çš„è°ƒç”¨æ˜¯å³å°†åˆ°æ¥çš„è°ƒç”¨çš„æœ€ä½³é¢„æµ‹å› å­â€æ—¶æ€§èƒ½æœ€å¥½ï¼ˆæ¯”å¦‚ï¼Œæ–°é—»æœåŠ¡å™¨ä¸Šæœ€å—æ¬¢è¿çš„æ–‡ç« å€¾å‘äºæ¯å¤©æ›´æ”¹ï¼‰ã€‚ â€œç¼“å­˜å¤§å°é™åˆ¶â€å‚æ•°ä¿è¯ç¼“å­˜ä¸ä¼šåœ¨é•¿æ—¶é—´è¿è¡Œçš„è¿›ç¨‹æ¯”å¦‚è¯´ç½‘ç«™æœåŠ¡å™¨ä¸Šæ— é™åˆ¶çš„å¢åŠ è‡ªèº«çš„å¤§å°ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼ŒLRUç¼“å­˜åªåœ¨å½“ä½ æƒ³è¦é‡ç”¨ä¹‹å‰è®¡ç®—çš„ç»“æœæ—¶ä½¿ç”¨ã€‚å› æ­¤ï¼Œç”¨å®ƒç¼“å­˜å…·æœ‰å‰¯ä½œç”¨çš„å‡½æ•°ã€éœ€è¦åœ¨æ¯æ¬¡è°ƒç”¨æ—¶åˆ›å»ºä¸åŒã€æ˜“å˜çš„å¯¹è±¡çš„å‡½æ•°æˆ–è€…è¯¸å¦‚timeï¼ˆï¼‰æˆ–randomï¼ˆï¼‰ä¹‹ç±»çš„ä¸çº¯å‡½æ•°æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p>
<p>é™æ€ Web å†…å®¹çš„ LRU ç¼“å­˜ç¤ºä¾‹:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_pep</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="s1">&#39;Retrieve text of a Python Enhancement Proposal&#39;</span>
    <span class="n">resource</span> <span class="o">=</span> <span class="s1">&#39;http://www.python.org/dev/peps/pep-</span><span class="si">%04d</span><span class="s1">/&#39;</span> <span class="o">%</span> <span class="n">num</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">urllib</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">HTTPError</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;Not Found&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">290</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">279</span><span class="p">,</span> <span class="mi">289</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">9991</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">pep</span> <span class="o">=</span> <span class="n">get_pep</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">pep</span><span class="p">))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">get_pep</span><span class="o">.</span><span class="n">cache_info</span><span class="p">()</span>
<span class="n">CacheInfo</span><span class="p">(</span><span class="n">hits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">misses</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">currsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ç¼“å­˜é€šè¿‡ <a class="reference external" href="javascript:if(confirm('https://zh.wikipedia.org/wiki/issue4870  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://zh.wikipedia.org/wiki/issue4870'" tppabs="https://zh.wikipedia.org/wiki/åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</a>  è®¡ç®— <a class="reference external" href="javascript:if(confirm('https://zh.wikipedia.org/wiki/issue9360  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://zh.wikipedia.org/wiki/issue9360'" tppabs="https://zh.wikipedia.org/wiki/æ–æ³¢é‚£å¥‘æ•°åˆ—">æ–æ³¢é‚£å¥‘æ•°åˆ—</a>  çš„ä¾‹å­ã€‚</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span>
    <span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">)]</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">233</span><span class="p">,</span> <span class="mi">377</span><span class="p">,</span> <span class="mi">610</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">fib</span><span class="o">.</span><span class="n">cache_info</span><span class="p">()</span>
<span class="n">CacheInfo</span><span class="p">(</span><span class="n">hits</span><span class="o">=</span><span class="mi">28</span><span class="p">,</span> <span class="n">misses</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">currsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.2 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.3 ç‰ˆæ›´æ”¹: </span>æ·»åŠ  <em>typed</em> é€‰é¡¹ã€‚</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.8 ç‰ˆæ›´æ”¹: </span>æ·»åŠ äº† <em>user_function</em> é€‰é¡¹ã€‚</p>
</div>
</dd></dl>

<dl class="function">
<dt id="functools.total_ordering">
<code class="sig-prename descclassname">&#64;</code><code class="sig-prename descclassname">functools.</code><code class="sig-name descname">total_ordering</code><a class="headerlink" href="#functools.total_ordering" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ç»™å®šä¸€ä¸ªå£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ªå…¨æ¯”è¾ƒæ’åºæ–¹æ³•çš„ç±»ï¼Œè¿™ä¸ªç±»è£…é¥°å™¨å®ç°å‰©ä½™çš„æ–¹æ³•ã€‚è¿™å‡è½»äº†æŒ‡å®šæ‰€æœ‰å¯èƒ½çš„å…¨æ¯”è¾ƒæ“ä½œçš„å·¥ä½œã€‚</p>
<p>æ­¤ç±»å¿…é¡»åŒ…å«ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼š<a class="reference internal" href="datamodel.html#object.__lt__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__lt__" title="object.__lt__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__lt__()</span></code></a> ã€<a class="reference internal" href="datamodel.html#object.__le__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__le__" title="object.__le__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__le__()</span></code></a>ã€<a class="reference internal" href="datamodel.html#object.__gt__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__gt__" title="object.__gt__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__gt__()</span></code></a> æˆ– <a class="reference internal" href="datamodel.html#object.__ge__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ge__" title="object.__ge__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__ge__()</span></code></a>ã€‚å¦å¤–ï¼Œæ­¤ç±»å¿…é¡»æ”¯æŒ <a class="reference internal" href="datamodel.html#object.__eq__" tppabs="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="object.__eq__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__eq__()</span></code></a> æ–¹æ³•ã€‚</p>
<p>ä¾‹å¦‚:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@total_ordering</span>
<span class="k">class</span> <span class="nc">Student</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">_is_valid_operand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="s2">&quot;lastname&quot;</span><span class="p">)</span> <span class="ow">and</span>
                <span class="nb">hasattr</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="s2">&quot;firstname&quot;</span><span class="p">))</span>
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_valid_operand</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">lastname</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">firstname</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span> <span class="o">==</span>
                <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">lastname</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">firstname</span><span class="o">.</span><span class="n">lower</span><span class="p">()))</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_valid_operand</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">lastname</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">firstname</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span> <span class="o">&lt;</span>
                <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">lastname</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">firstname</span><span class="o">.</span><span class="n">lower</span><span class="p">()))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>è™½ç„¶æ­¤è£…é¥°å™¨ä½¿å¾—åˆ›å»ºå…·æœ‰è‰¯å¥½è¡Œä¸ºçš„å®Œå…¨æœ‰åºç±»å‹å˜å¾—éå¸¸å®¹æ˜“ï¼Œä½†å®ƒ <em>ç¡®å®</em> æ˜¯ä»¥æ‰§è¡Œé€Ÿåº¦æ›´ç¼“æ…¢å’Œæ´¾ç”Ÿæ¯”è¾ƒæ–¹æ³•çš„å †æ ˆå›æº¯æ›´å¤æ‚ä¸ºä»£ä»·çš„ã€‚ å¦‚æœæ€§èƒ½åŸºå‡†æµ‹è¯•è¡¨æ˜è¿™æ˜¯ç‰¹å®šåº”ç”¨çš„ç“¶é¢ˆæ‰€åœ¨ï¼Œåˆ™æ”¹ä¸ºå®ç°å…¨éƒ¨å…­ä¸ªå¯Œæ¯”è¾ƒæ–¹æ³•åº”è¯¥ä¼šè½»æ¾æå‡é€Ÿåº¦ã€‚</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.2 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.4 ç‰ˆæ›´æ”¹: </span>ç°åœ¨å·²æ”¯æŒä»æœªè¯†åˆ«ç±»å‹çš„ä¸‹å±‚æ¯”è¾ƒå‡½æ•°è¿”å› NotImplemented å¼‚å¸¸ã€‚</p>
</div>
</dd></dl>

<dl class="function">
<dt id="functools.partial">
<code class="sig-prename descclassname">functools.</code><code class="sig-name descname">partial</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">/</em>, <em class="sig-param">*args</em>, <em class="sig-param">**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#functools.partial" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ªæ–°çš„ <a class="reference internal" href="#partial-objects"><span class="std std-ref">éƒ¨åˆ†å¯¹è±¡</span></a>ï¼Œå½“è¢«è°ƒç”¨æ—¶å…¶è¡Œä¸ºç±»ä¼¼äº <em>func</em> é™„å¸¦ä½ç½®å‚æ•° <em>args</em> å’Œå…³é”®å­—å‚æ•° <em>keywords</em> è¢«è°ƒç”¨ã€‚ å¦‚æœä¸ºè°ƒç”¨æä¾›äº†æ›´å¤šçš„å‚æ•°ï¼Œå®ƒä»¬ä¼šè¢«é™„åŠ åˆ° <em>args</em>ã€‚ å¦‚æœæä¾›äº†é¢å¤–çš„å…³é”®å­—å‚æ•°ï¼Œå®ƒä»¬ä¼šæ‰©å±•å¹¶é‡è½½ <em>keywords</em>ã€‚ å¤§è‡´ç­‰ä»·äº:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">partial</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">keywords</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">newfunc</span><span class="p">(</span><span class="o">*</span><span class="n">fargs</span><span class="p">,</span> <span class="o">**</span><span class="n">fkeywords</span><span class="p">):</span>
        <span class="n">newkeywords</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">keywords</span><span class="p">,</span> <span class="o">**</span><span class="n">fkeywords</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">*</span><span class="n">fargs</span><span class="p">,</span> <span class="o">**</span><span class="n">newkeywords</span><span class="p">)</span>
    <span class="n">newfunc</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>
    <span class="n">newfunc</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
    <span class="n">newfunc</span><span class="o">.</span><span class="n">keywords</span> <span class="o">=</span> <span class="n">keywords</span>
    <span class="k">return</span> <span class="n">newfunc</span>
</pre></div>
</div>
<p><a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-func docutils literal notranslate"><span class="pre">partial()</span></code></a> ä¼šè¢«â€œå†»ç»“äº†â€ä¸€éƒ¨åˆ†å‡½æ•°å‚æ•°å’Œ/æˆ–å…³é”®å­—çš„éƒ¨åˆ†å‡½æ•°åº”ç”¨æ‰€ä½¿ç”¨ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªå…·æœ‰ç®€åŒ–ç­¾åçš„æ–°å¯¹è±¡ã€‚ ä¾‹å¦‚ï¼Œ<a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-func docutils literal notranslate"><span class="pre">partial()</span></code></a> å¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªè¡Œä¸ºç±»ä¼¼äº <a class="reference internal" href="functions.html#int" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#int" title="int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a> å‡½æ•°çš„å¯è°ƒç”¨å¯¹è±¡ï¼Œå…¶ä¸­ <em>base</em> å‚æ•°é»˜è®¤ä¸ºäºŒï¼š</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">basetwo</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">basetwo</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s1">&#39;Convert base 2 string to an int.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">basetwo</span><span class="p">(</span><span class="s1">&#39;10010&#39;</span><span class="p">)</span>
<span class="go">18</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="functools.partialmethod">
<em class="property">class </em><code class="sig-prename descclassname">functools.</code><code class="sig-name descname">partialmethod</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">/</em>, <em class="sig-param">*args</em>, <em class="sig-param">**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#functools.partialmethod" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿”å›ä¸€ä¸ªæ–°çš„ <a class="reference internal" href="#functools.partialmethod" title="functools.partialmethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">partialmethod</span></code></a> æè¿°å™¨ï¼Œå…¶è¡Œä¸ºç±»ä¼¼ <a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-class docutils literal notranslate"><span class="pre">partial</span></code></a> ä½†å®ƒè¢«è®¾è®¡ç”¨ä½œæ–¹æ³•å®šä¹‰è€Œéç›´æ¥ç”¨ä½œå¯è°ƒç”¨å¯¹è±¡ã€‚</p>
<p><em>func</em> å¿…é¡»æ˜¯ä¸€ä¸ª <a class="reference internal" href="glossary.html#term-descriptor" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-descriptor"><span class="xref std std-term">descriptor</span></a> æˆ–å¯è°ƒç”¨å¯¹è±¡ï¼ˆåŒå±ä¸¤è€…çš„å¯¹è±¡ä¾‹å¦‚æ™®é€šå‡½æ•°ä¼šè¢«å½“ä½œæè¿°å™¨æ¥å¤„ç†ï¼‰ã€‚</p>
<p>å½“ <em>func</em> æ˜¯ä¸€ä¸ªæè¿°å™¨ï¼ˆä¾‹å¦‚æ™®é€š Python å‡½æ•°, <a class="reference internal" href="functions.html#classmethod" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#classmethod" title="classmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">classmethod()</span></code></a>, <a class="reference internal" href="functions.html#staticmethod" tppabs="https://docs.python.org/zh-cn/3/library/functions.html#staticmethod" title="staticmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">staticmethod()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">abstractmethod()</span></code> æˆ–å…¶ä»– <a class="reference internal" href="#functools.partialmethod" title="functools.partialmethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">partialmethod</span></code></a> çš„å®ä¾‹ï¼‰æ—¶, å¯¹ <code class="docutils literal notranslate"><span class="pre">__get__</span></code> çš„è°ƒç”¨ä¼šè¢«å§”æ‰˜ç»™åº•å±‚çš„æè¿°å™¨ï¼Œå¹¶ä¼šè¿”å›ä¸€ä¸ªé€‚å½“çš„ <a class="reference internal" href="#partial-objects"><span class="std std-ref">éƒ¨åˆ†å¯¹è±¡</span></a> ä½œä¸ºç»“æœã€‚</p>
<p>å½“ <em>func</em> æ˜¯ä¸€ä¸ªéæè¿°å™¨ç±»å¯è°ƒç”¨å¯¹è±¡æ—¶ï¼Œåˆ™ä¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ªé€‚å½“çš„ç»‘å®šæ–¹æ³•ã€‚ å½“ç”¨ä½œæ–¹æ³•æ—¶å…¶è¡Œä¸ºç±»ä¼¼æ™®é€š Python å‡½æ•°ï¼šå°†ä¼šæ’å…¥ <em>self</em> å‚æ•°ä½œä¸ºç¬¬ä¸€ä¸ªä½ç½®å‚æ•°ï¼Œå…¶ä½ç½®ç”šè‡³ä¼šå¤„äºæä¾›ç»™ <a class="reference internal" href="#functools.partialmethod" title="functools.partialmethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">partialmethod</span></code></a> æ„é€ å™¨çš„ <em>args</em> å’Œ <em>keywords</em> ä¹‹å‰ã€‚</p>
<p>ç¤ºä¾‹:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Cell</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_alive</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">... </span>    <span class="nd">@property</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">alive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_alive</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">set_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_alive</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">set_alive</span> <span class="o">=</span> <span class="n">partialmethod</span><span class="p">(</span><span class="n">set_state</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">set_dead</span> <span class="o">=</span> <span class="n">partialmethod</span><span class="p">(</span><span class="n">set_state</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Cell</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">alive</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">set_alive</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">alive</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.4 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="functools.reduce">
<code class="sig-prename descclassname">functools.</code><code class="sig-name descname">reduce</code><span class="sig-paren">(</span><em class="sig-param">function</em>, <em class="sig-param">iterable</em><span class="optional">[</span>, <em class="sig-param">initializer</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#functools.reduce" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°†ä¸¤ä¸ªå‚æ•°çš„ <em>function</em> ä»å·¦è‡³å³ç§¯ç´¯åœ°åº”ç”¨åˆ° <em>iterable</em> çš„æ¡ç›®ï¼Œä»¥ä¾¿å°†è¯¥å¯è¿­ä»£å¯¹è±¡ç¼©å‡ä¸ºå•ä¸€çš„å€¼ã€‚ ä¾‹å¦‚ï¼Œ<code class="docutils literal notranslate"><span class="pre">reduce(lambda</span> <span class="pre">x,</span> <span class="pre">y:</span> <span class="pre">x+y,</span> <span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5])</span></code> æ˜¯è®¡ç®— <code class="docutils literal notranslate"><span class="pre">((((1+2)+3)+4)+5)</span></code> çš„å€¼ã€‚ å·¦è¾¹çš„å‚æ•° <em>x</em> æ˜¯ç§¯ç´¯å€¼è€Œå³è¾¹çš„å‚æ•° <em>y</em> åˆ™æ˜¯æ¥è‡ª <em>iterable</em> çš„æ›´æ–°å€¼ã€‚ å¦‚æœå­˜åœ¨å¯é€‰é¡¹ <em>initializer</em>ï¼Œå®ƒä¼šè¢«æ”¾åœ¨å‚ä¸è®¡ç®—çš„å¯è¿­ä»£å¯¹è±¡çš„æ¡ç›®ä¹‹å‰ï¼Œå¹¶åœ¨å¯è¿­ä»£å¯¹è±¡ä¸ºç©ºæ—¶ä½œä¸ºé»˜è®¤å€¼ã€‚ å¦‚æœæ²¡æœ‰ç»™å‡º <em>initializer</em> å¹¶ä¸” <em>iterable</em> ä»…åŒ…å«ä¸€ä¸ªæ¡ç›®ï¼Œåˆ™å°†è¿”å›ç¬¬ä¸€é¡¹ã€‚</p>
<p>å¤§è‡´ç›¸å½“äºï¼š</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">reduce</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">iterable</span><span class="p">,</span> <span class="n">initializer</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">initializer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">initializer</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">it</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>
</pre></div>
</div>
<p>è¯·å‚é˜… <a class="reference internal" href="itertools.html#itertools.accumulate" tppabs="https://docs.python.org/zh-cn/3/library/itertools.html#itertools.accumulate" title="itertools.accumulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">itertools.accumulate()</span></code></a> äº†è§£æœ‰å…³å¯äº§ç”Ÿæ‰€æœ‰ä¸­é—´å€¼çš„è¿­ä»£å™¨ã€‚</p>
</dd></dl>

<dl class="function">
<dt id="functools.singledispatch">
<code class="sig-prename descclassname">&#64;</code><code class="sig-prename descclassname">functools.</code><code class="sig-name descname">singledispatch</code><a class="headerlink" href="#functools.singledispatch" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°†ä¸€ä¸ªå‡½æ•°è½¬æ¢ä¸º <a class="reference internal" href="glossary.html#term-single-dispatch" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-single-dispatch"><span class="xref std std-term">å•åˆ†æ´¾</span></a> <a class="reference internal" href="glossary.html#term-generic-function" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-generic-function"><span class="xref std std-term">generic function</span></a>ã€‚</p>
<p>è¦å®šä¹‰ä¸€ä¸ªæ³›å‹å‡½æ•°ï¼Œåº”ä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">&#64;singledispatch</span></code> è£…é¥°å™¨è¿›è¡Œè£…é¥°ã€‚ è¯·æ³¨æ„åˆ†æ´¾æ˜¯ä½œç”¨äºç¬¬ä¸€ä¸ªå‚æ•°çš„ç±»å‹ï¼Œè¦ç›¸åº”åœ°åˆ›å»ºä½ çš„å‡½æ•°:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">singledispatch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@singledispatch</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Let me just say,&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</pre></div>
</div>
<p>è¦å°†é‡è½½çš„å®ç°æ·»åŠ åˆ°å‡½æ•°ä¸­ï¼Œè¯·ä½¿ç”¨æ³›å‹å‡½æ•°çš„ <code class="xref py py-func docutils literal notranslate"><span class="pre">register()</span></code> å±æ€§ã€‚ å®ƒæ˜¯ä¸€ä¸ªè£…é¥°å™¨ã€‚ å¯¹äºå¸¦æœ‰ç±»å‹æ ‡æ³¨çš„å‡½æ•°ï¼Œè¯¥è£…é¥°å™¨å°†è‡ªåŠ¨æ¨æ–­ç¬¬ä¸€ä¸ªå‚æ•°çš„ç±»å‹:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@fun</span><span class="o">.</span><span class="n">register</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Strength in numbers, eh?&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@fun</span><span class="o">.</span><span class="n">register</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enumerate this:&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">elem</span><span class="p">)</span>
</pre></div>
</div>
<p>å¯¹äºä¸ä½¿ç”¨ç±»å‹æ ‡æ³¨çš„ä»£ç ï¼Œå¯ä»¥å°†é€‚å½“çš„ç±»å‹å‚æ•°æ˜¾å¼åœ°ä¼ ç»™è£…é¥°å™¨æœ¬èº«:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@fun</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="nb">complex</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Better than complicated.&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">arg</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">arg</span><span class="o">.</span><span class="n">imag</span><span class="p">)</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>è¦å¯ç”¨æ³¨å†Œ lambda å’Œç°æœ‰å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨å‡½æ•°å½¢å¼çš„ <code class="xref py py-func docutils literal notranslate"><span class="pre">register()</span></code> å±æ€§:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">nothing</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nothing.&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="n">nothing</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">register()</span></code> å±æ€§å°†è¿”å›å¯ç”¨äº†è£…é¥°å™¨å †æ ˆã€å°å­˜çš„æœªè£…é¥°å‡½æ•°ï¼Œå¹¶ä¼šä¸ºæ¯ä¸ªå˜é‡å•ç‹¬åˆ›å»ºå•å…ƒæµ‹è¯•:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@fun</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="gp">... </span><span class="nd">@fun</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Decimal</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">fun_num</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Half of your number:&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">arg</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fun_num</span> <span class="ow">is</span> <span class="n">fun</span>
<span class="go">False</span>
</pre></div>
</div>
<p>åœ¨è°ƒç”¨æ—¶ï¼Œæ³›å‹å‡½æ•°ä¼šæ ¹æ®ç¬¬ä¸€ä¸ªå‚æ•°çš„ç±»å‹è¿›è¡Œåˆ†æ´¾:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="p">(</span><span class="s2">&quot;Hello, world.&quot;</span><span class="p">)</span>
<span class="go">Hello, world.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="p">(</span><span class="s2">&quot;test.&quot;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Let me just say, test.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Strength in numbers, eh? 42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="p">([</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Enumerate this:</span>
<span class="go">0 spam</span>
<span class="go">1 spam</span>
<span class="go">2 eggs</span>
<span class="go">3 spam</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="go">Nothing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="p">(</span><span class="mf">1.23</span><span class="p">)</span>
<span class="go">0.615</span>
</pre></div>
</div>
<p>åœ¨æ²¡æœ‰ç”¨äºç‰¹å®šç±»å‹çš„å·²æ³¨å†Œå®ç°çš„æƒ…å†µä¸‹ï¼Œåˆ™ä¼šä½¿ç”¨å…¶æ–¹æ³•è§£æé¡ºåºæ¥æŸ¥æ‰¾æ›´é€šç”¨çš„å®ç°ã€‚ ä»¥ <code class="docutils literal notranslate"><span class="pre">&#64;singledispatch</span></code> è£…é¥°çš„åŸå§‹å‡½æ•°å°†ä¸ºæœ€åŸºæœ¬çš„ <code class="docutils literal notranslate"><span class="pre">object</span></code> ç±»å‹è¿›è¡Œæ³¨å†Œï¼Œè¿™æ„å‘³ç€å®ƒå°†åœ¨æ‰¾ä¸åˆ°æ›´å¥½çš„å®ç°æ—¶è¢«ä½¿ç”¨ã€‚</p>
<p>è¦æ£€æŸ¥æ³›å‹å‡½æ•°å°†ä¸ºç»™å®šç±»å‹é€‰æ‹©å“ªä¸ªå®ç°ï¼Œè¯·ä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">dispatch()</span></code> å±æ€§:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="o">.</span><span class="n">dispatch</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="go">&lt;function fun_num at 0x1035a2840&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="o">.</span><span class="n">dispatch</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>    <span class="c1"># note: default implementation</span>
<span class="go">&lt;function fun at 0x103fe0000&gt;</span>
</pre></div>
</div>
<p>è¦è®¿é—®æ‰€æœ‰å¿†æ³¨å†Œå®ç°ï¼Œè¯·ä½¿ç”¨åªè¯»çš„ <code class="docutils literal notranslate"><span class="pre">registry</span></code> å±æ€§:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">dict_keys([&lt;class &#39;NoneType&#39;&gt;, &lt;class &#39;int&#39;&gt;, &lt;class &#39;object&#39;&gt;,</span>
<span class="go">          &lt;class &#39;decimal.Decimal&#39;&gt;, &lt;class &#39;list&#39;&gt;,</span>
<span class="go">          &lt;class &#39;float&#39;&gt;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="o">.</span><span class="n">registry</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
<span class="go">&lt;function fun_num at 0x1035a2840&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span><span class="o">.</span><span class="n">registry</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span>
<span class="go">&lt;function fun at 0x103fe0000&gt;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.4 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.7 ç‰ˆæ›´æ”¹: </span><code class="xref py py-func docutils literal notranslate"><span class="pre">register()</span></code> å±æ€§æ”¯æŒä½¿ç”¨ç±»å‹æ ‡æ³¨ã€‚</p>
</div>
</dd></dl>

<dl class="class">
<dt id="functools.singledispatchmethod">
<em class="property">class </em><code class="sig-prename descclassname">functools.</code><code class="sig-name descname">singledispatchmethod</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="headerlink" href="#functools.singledispatchmethod" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å°†ä¸€ä¸ªæ–¹æ³•è½¬æ¢ä¸º <a class="reference internal" href="glossary.html#term-single-dispatch" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-single-dispatch"><span class="xref std std-term">å•åˆ†æ´¾</span></a> <a class="reference internal" href="glossary.html#term-generic-function" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-generic-function"><span class="xref std std-term">generic function</span></a>ã€‚</p>
<p>è¦å®šä¹‰ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œåº”ä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">&#64;singledispatchmethod</span></code> è£…é¥°å™¨è¿›è¡Œè£…é¥°ã€‚ è¯·æ³¨æ„åˆ†æ´¾æ˜¯ä½œç”¨äºç¬¬ä¸€ä¸ªé self æˆ–é cls å‚æ•°çš„ç±»å‹ï¼Œè¦ç›¸åº”åœ°åˆ›å»ºä½ çš„å‡½æ•°:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Negator</span><span class="p">:</span>
    <span class="nd">@singledispatchmethod</span>
    <span class="k">def</span> <span class="nf">neg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Cannot negate a&quot;</span><span class="p">)</span>

    <span class="nd">@neg</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="o">-</span><span class="n">arg</span>

    <span class="nd">@neg</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">arg</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&#64;singledispatchmethod</span></code> æ”¯æŒä¸å…¶ä»–è£…é¥°å™¨å¦‚ <code class="docutils literal notranslate"><span class="pre">&#64;classmethod</span></code> ç›¸åµŒå¥—ã€‚ è¯·æ³¨æ„å¦‚æœè¦å…è®¸ <code class="docutils literal notranslate"><span class="pre">dispatcher.register</span></code>ï¼Œåˆ™ <code class="docutils literal notranslate"><span class="pre">singledispatchmethod</span></code> å¿…é¡»æ˜¯ <em>æœ€å¤–å±‚</em> çš„è£…é¥°å™¨ã€‚ ä¸‹é¢çš„ç¤ºä¾‹å®šä¹‰äº† <code class="docutils literal notranslate"><span class="pre">Negator</span></code> ç±»ï¼Œå…¶ä¸­åŒ…å«ç»‘å®šåˆ°ç±»çš„ <code class="docutils literal notranslate"><span class="pre">neg</span></code> æ–¹æ³•:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Negator</span><span class="p">:</span>
    <span class="nd">@singledispatchmethod</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">neg</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Cannot negate a&quot;</span><span class="p">)</span>

    <span class="nd">@neg</span><span class="o">.</span><span class="n">register</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="o">-</span><span class="n">arg</span>

    <span class="nd">@neg</span><span class="o">.</span><span class="n">register</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">arg</span>
</pre></div>
</div>
<p>åŒæ ·çš„æ¨¡å¼ä¹Ÿè¢«ç”¨äºå…¶ä»–ç±»ä¼¼çš„è£…é¥°å™¨: <code class="docutils literal notranslate"><span class="pre">staticmethod</span></code>, <code class="docutils literal notranslate"><span class="pre">abstractmethod</span></code> ç­‰ç­‰ã€‚</p>
<div class="versionadded">
<p><span class="versionmodified added">3.8 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="functools.update_wrapper">
<code class="sig-prename descclassname">functools.</code><code class="sig-name descname">update_wrapper</code><span class="sig-paren">(</span><em class="sig-param">wrapper</em>, <em class="sig-param">wrapped</em>, <em class="sig-param">assigned=WRAPPER_ASSIGNMENTS</em>, <em class="sig-param">updated=WRAPPER_UPDATES</em><span class="sig-paren">)</span><a class="headerlink" href="#functools.update_wrapper" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æ›´æ–°ä¸€ä¸ª <em>wrapper</em> å‡½æ•°ä»¥ä½¿å…¶ç±»ä¼¼äº <em>wrapped</em> å‡½æ•°ã€‚ å¯é€‰å‚æ•°ä¸ºæŒ‡æ˜åŸå‡½æ•°çš„å“ªäº›å±æ€§è¦ç›´æ¥è¢«èµ‹å€¼ç»™ wrapper å‡½æ•°çš„åŒ¹é…å±æ€§çš„å…ƒç»„ï¼Œå¹¶ä¸”è¿™äº› wrapper å‡½æ•°çš„å±æ€§å°†ä½¿ç”¨åŸå‡½æ•°çš„å¯¹åº”å±æ€§æ¥æ›´æ–°ã€‚ è¿™äº›å‚æ•°çš„é»˜è®¤å€¼æ˜¯æ¨¡å—çº§å¸¸é‡ <code class="docutils literal notranslate"><span class="pre">WRAPPER_ASSIGNMENTS</span></code> (å®ƒå°†è¢«èµ‹å€¼ç»™ wrapper å‡½æ•°çš„ <code class="docutils literal notranslate"><span class="pre">__module__</span></code>, <code class="docutils literal notranslate"><span class="pre">__name__</span></code>, <code class="docutils literal notranslate"><span class="pre">__qualname__</span></code>, <code class="docutils literal notranslate"><span class="pre">__annotations__</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">__doc__</span></code> å³æ–‡æ¡£å­—ç¬¦ä¸²) ä»¥åŠ <code class="docutils literal notranslate"><span class="pre">WRAPPER_UPDATES</span></code> (å®ƒå°†æ›´æ–° wrapper å‡½æ•°çš„ <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> å³å®ä¾‹å­—å…¸)ã€‚</p>
<p>ä¸ºäº†å…è®¸å‡ºäºå†…çœå’Œå…¶ä»–ç›®çš„è®¿é—®åŸå§‹å‡½æ•°ï¼ˆä¾‹å¦‚ç»•è¿‡ <a class="reference internal" href="#functools.lru_cache" title="functools.lru_cache"><code class="xref py py-func docutils literal notranslate"><span class="pre">lru_cache()</span></code></a> ä¹‹ç±»çš„ç¼“å­˜è£…é¥°å™¨ï¼‰ï¼Œæ­¤å‡½æ•°ä¼šè‡ªåŠ¨ä¸º wrapper æ·»åŠ ä¸€ä¸ªæŒ‡å‘è¢«åŒ…è£…å‡½æ•°çš„ <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> å±æ€§ã€‚</p>
<p>æ­¤å‡½æ•°çš„ä¸»è¦ç›®çš„æ˜¯åœ¨ <a class="reference internal" href="glossary.html#term-decorator" tppabs="https://docs.python.org/zh-cn/3/glossary.html#term-decorator"><span class="xref std std-term">decorator</span></a> å‡½æ•°ä¸­ç”¨æ¥åŒ…è£…è¢«è£…é¥°çš„å‡½æ•°å¹¶è¿”å›åŒ…è£…å™¨ã€‚ å¦‚æœåŒ…è£…å™¨å‡½æ•°æœªè¢«æ›´æ–°ï¼Œåˆ™è¢«è¿”å›å‡½æ•°çš„å…ƒæ•°æ®å°†åæ˜ åŒ…è£…å™¨å®šä¹‰è€Œä¸æ˜¯åŸå§‹å‡½æ•°å®šä¹‰ï¼Œè¿™é€šå¸¸æ²¡æœ‰ä»€ä¹ˆç”¨å¤„ã€‚</p>
<p><a class="reference internal" href="#functools.update_wrapper" title="functools.update_wrapper"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_wrapper()</span></code></a> å¯ä»¥ä¸å‡½æ•°ä¹‹å¤–çš„å¯è°ƒç”¨å¯¹è±¡ä¸€åŒä½¿ç”¨ã€‚ åœ¨ <em>assigned</em> æˆ– <em>updated</em> ä¸­å‘½åçš„ä»»ä½•å±æ€§å¦‚æœä¸å­˜åœ¨äºè¢«åŒ…è£…å¯¹è±¡åˆ™ä¼šè¢«å¿½ç•¥ï¼ˆå³è¯¥å‡½æ•°å°†ä¸ä¼šå°è¯•åœ¨åŒ…è£…å™¨å‡½æ•°ä¸Šè®¾ç½®å®ƒä»¬ï¼‰ã€‚ å¦‚æœåŒ…è£…å™¨å‡½æ•°è‡ªèº«ç¼ºå°‘åœ¨ <em>updated</em> ä¸­å‘½åçš„ä»»ä½•å±æ€§åˆ™ä»å°†å¼•å‘ <a class="reference internal" href="exceptions.html#AttributeError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a>ã€‚</p>
<div class="versionadded">
<p><span class="versionmodified added">3.2 æ–°ç‰ˆåŠŸèƒ½: </span>è‡ªåŠ¨æ·»åŠ  <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> å±æ€§ã€‚</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.2 æ–°ç‰ˆåŠŸèƒ½: </span>é»˜è®¤æ‹·è´ <code class="docutils literal notranslate"><span class="pre">__annotations__</span></code> å±æ€§ã€‚</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.2 ç‰ˆæ›´æ”¹: </span>ä¸å­˜åœ¨çš„å±æ€§å°†ä¸å†è§¦å‘ <a class="reference internal" href="exceptions.html#AttributeError" tppabs="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a>ã€‚</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">åœ¨ 3.4 ç‰ˆæ›´æ”¹: </span><code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> å±æ€§ç°åœ¨æ€»æ˜¯æŒ‡å‘è¢«åŒ…è£…çš„å‡½æ•°ï¼Œå³ä½¿è¯¥å‡½æ•°å®šä¹‰äº† <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> å±æ€§ã€‚ (å‚è§ <a class="reference external" href="javascript:if(confirm('https://bugs.python.org/issue1926  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://bugs.python.org/issue1926'" tppabs="https://bugs.python.org/issue17482">bpo-17482</a>)</p>
</div>
</dd></dl>

<dl class="function">
<dt id="functools.wraps">
<code class="sig-prename descclassname">&#64;</code><code class="sig-prename descclassname">functools.</code><code class="sig-name descname">wraps</code><span class="sig-paren">(</span><em class="sig-param">wrapped</em>, <em class="sig-param">assigned=WRAPPER_ASSIGNMENTS</em>, <em class="sig-param">updated=WRAPPER_UPDATES</em><span class="sig-paren">)</span><a class="headerlink" href="#functools.wraps" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¿™æ˜¯ä¸€ä¸ªä¾¿æ·å‡½æ•°ï¼Œç”¨äºåœ¨å®šä¹‰åŒ…è£…å™¨å‡½æ•°æ—¶å‘èµ·è°ƒç”¨ <a class="reference internal" href="#functools.update_wrapper" title="functools.update_wrapper"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_wrapper()</span></code></a> ä½œä¸ºå‡½æ•°è£…é¥°å™¨ã€‚ å®ƒç­‰ä»·äº <code class="docutils literal notranslate"><span class="pre">partial(update_wrapper,</span> <span class="pre">wrapped=wrapped,</span> <span class="pre">assigned=assigned,</span> <span class="pre">updated=updated)</span></code>ã€‚ ä¾‹å¦‚:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">my_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Calling decorated function&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">wrapper</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@my_decorator</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">example</span><span class="p">():</span>
<span class="gp">... </span>    <span class="sd">&quot;&quot;&quot;Docstring&quot;&quot;&quot;</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Called example function&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span><span class="p">()</span>
<span class="go">Calling decorated function</span>
<span class="go">Called example function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span><span class="o">.</span><span class="vm">__name__</span>
<span class="go">&#39;example&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span><span class="o">.</span><span class="vm">__doc__</span>
<span class="go">&#39;Docstring&#39;</span>
</pre></div>
</div>
<p>å¦‚æœä¸ä½¿ç”¨è¿™ä¸ªè£…é¥°å™¨å·¥å‚å‡½æ•°ï¼Œåˆ™ example å‡½æ•°çš„åç§°å°†å˜ä¸º <code class="docutils literal notranslate"><span class="pre">'wrapper'</span></code>ï¼Œå¹¶ä¸” <code class="xref py py-func docutils literal notranslate"><span class="pre">example()</span></code> åŸæœ¬çš„æ–‡æ¡£å­—ç¬¦ä¸²å°†ä¼šä¸¢å¤±ã€‚</p>
</dd></dl>

<div class="section" id="partial-objects">
<span id="id1"></span><h2><a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-class docutils literal notranslate"><span class="pre">partial</span></code></a> å¯¹è±¡<a class="headerlink" href="#partial-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p><a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-class docutils literal notranslate"><span class="pre">partial</span></code></a> å¯¹è±¡æ˜¯ç”± <a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-func docutils literal notranslate"><span class="pre">partial()</span></code></a> åˆ›å»ºçš„å¯è°ƒç”¨å¯¹è±¡ã€‚ å®ƒä»¬å…·æœ‰ä¸‰ä¸ªåªè¯»å±æ€§ï¼š</p>
<dl class="attribute">
<dt id="functools.partial.func">
<code class="sig-prename descclassname">partial.</code><code class="sig-name descname">func</code><a class="headerlink" href="#functools.partial.func" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡æˆ–å‡½æ•°ã€‚ å¯¹ <a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-class docutils literal notranslate"><span class="pre">partial</span></code></a> å¯¹è±¡çš„è°ƒç”¨å°†è¢«è½¬å‘ç»™ <a class="reference internal" href="#functools.partial.func" title="functools.partial.func"><code class="xref py py-attr docutils literal notranslate"><span class="pre">func</span></code></a> å¹¶é™„å¸¦æ–°çš„å‚æ•°å’Œå…³é”®å­—ã€‚</p>
</dd></dl>

<dl class="attribute">
<dt id="functools.partial.args">
<code class="sig-prename descclassname">partial.</code><code class="sig-name descname">args</code><a class="headerlink" href="#functools.partial.args" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æœ€å·¦è¾¹çš„ä½ç½®å‚æ•°å°†æ”¾ç½®åœ¨æä¾›ç»™ <a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-class docutils literal notranslate"><span class="pre">partial</span></code></a> å¯¹è±¡è°ƒç”¨çš„ä½ç½®å‚æ•°ä¹‹å‰ã€‚</p>
</dd></dl>

<dl class="attribute">
<dt id="functools.partial.keywords">
<code class="sig-prename descclassname">partial.</code><code class="sig-name descname">keywords</code><a class="headerlink" href="#functools.partial.keywords" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>å½“è°ƒç”¨ <a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-class docutils literal notranslate"><span class="pre">partial</span></code></a> å¯¹è±¡æ—¶å°†è¦æä¾›çš„å…³é”®å­—å‚æ•°ã€‚</p>
</dd></dl>

<p><a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-class docutils literal notranslate"><span class="pre">partial</span></code></a> å¯¹è±¡ä¸ <code class="xref py py-class docutils literal notranslate"><span class="pre">function</span></code> å¯¹è±¡çš„ç±»ä¼¼ä¹‹å¤„åœ¨äºå®ƒä»¬éƒ½æ˜¯å¯è°ƒç”¨ã€å¯å¼±å¼•ç”¨çš„å¯¹è±¡å¹¶å¯æ‹¥æœ‰å±æ€§ã€‚ ä½†ä¸¤è€…ä¹Ÿå­˜åœ¨ä¸€äº›é‡è¦çš„åŒºåˆ«ã€‚ ä¾‹å¦‚å‰è€…ä¸ä¼šè‡ªåŠ¨åˆ›å»º <a class="reference internal" href="stdtypes.html#definition.__name__" tppabs="https://docs.python.org/zh-cn/3/library/stdtypes.html#definition.__name__" title="definition.__name__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__name__</span></code></a> å’Œ <code class="xref py py-attr docutils literal notranslate"><span class="pre">__doc__</span></code> å±æ€§ã€‚ è€Œä¸”ï¼Œåœ¨ç±»ä¸­å®šä¹‰çš„ <a class="reference internal" href="#functools.partial" title="functools.partial"><code class="xref py py-class docutils literal notranslate"><span class="pre">partial</span></code></a> å¯¹è±¡çš„è¡Œä¸ºç±»ä¼¼äºé™æ€æ–¹æ³•ï¼Œå¹¶ä¸”ä¸ä¼šåœ¨å®ä¾‹å±æ€§æŸ¥æ‰¾æœŸé—´è½¬æ¢ä¸ºç»‘å®šæ–¹æ³•ã€‚</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html" tppabs="https://docs.python.org/zh-cn/3/contents.html">ç›®å½•</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">functools</span></code> --- é«˜é˜¶å‡½æ•°å’Œå¯è°ƒç”¨å¯¹è±¡ä¸Šçš„æ“ä½œ</a><ul>
<li><a class="reference internal" href="#partial-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">partial</span></code> å¯¹è±¡</a></li>
</ul>
</li>
</ul>

  <h4>ä¸Šä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="itertools.html" tppabs="https://docs.python.org/zh-cn/3/library/itertools.html"
                        title="ä¸Šä¸€ç« "><code class="xref py py-mod docutils literal notranslate"><span class="pre">itertools</span></code> --- ä¸ºé«˜æ•ˆå¾ªç¯è€Œåˆ›å»ºè¿­ä»£å™¨çš„å‡½æ•°</a></p>
  <h4>ä¸‹ä¸€ä¸ªä¸»é¢˜</h4>
  <p class="topless"><a href="operator.html" tppabs="https://docs.python.org/zh-cn/3/library/operator.html"
                        title="ä¸‹ä¸€ç« "><code class="xref py py-mod docutils literal notranslate"><span class="pre">operator</span></code> --- æ ‡å‡†è¿ç®—ç¬¦æ›¿ä»£å‡½æ•°</a></p>
  <div role="note" aria-label="source link">
    <h3>æœ¬é¡µ</h3>
    <ul class="this-page-menu">
      <li><a href="bugs.html" tppabs="https://docs.python.org/zh-cn/3/bugs.html">æäº¤ Bug</a></li>
      <li>
        <a href="javascript:if(confirm('https://github.com/python/cpython/blob/3.8/Doc/library/functools.rst  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/python/cpython/blob/3.8/Doc/library/functools.rst'" tppabs="https://github.com/python/cpython/blob/3.8/Doc/library/functools.rst"
            rel="nofollow">æ˜¾ç¤ºæºä»£ç 
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>å¯¼èˆª</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" tppabs="https://docs.python.org/zh-cn/3/genindex.html" title="æ€»ç›®å½•"
             >ç´¢å¼•</a></li>
        <li class="right" >
          <a href="py-modindex.html" tppabs="https://docs.python.org/zh-cn/3/py-modindex.html" title="Python æ¨¡å—ç´¢å¼•"
             >æ¨¡å—</a> |</li>
        <li class="right" >
          <a href="operator.html" tppabs="https://docs.python.org/zh-cn/3/library/operator.html" title="operator --- æ ‡å‡†è¿ç®—ç¬¦æ›¿ä»£å‡½æ•°"
             >ä¸‹ä¸€é¡µ</a> |</li>
        <li class="right" >
          <a href="itertools.html" tppabs="https://docs.python.org/zh-cn/3/library/itertools.html" title="itertools --- ä¸ºé«˜æ•ˆå¾ªç¯è€Œåˆ›å»ºè¿­ä»£å™¨çš„å‡½æ•°"
             >ä¸Šä¸€é¡µ</a> |</li>

    <li><img src="py.png" tppabs="https://docs.python.org/zh-cn/3/_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="javascript:if(confirm('https://www.python.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/'" tppabs="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <span class="language_switcher_placeholder">zh_CN</span>
      <span class="version_switcher_placeholder">3.8.2</span>
      <a href="index-11.html" tppabs="https://docs.python.org/zh-cn/3/index.html">æ–‡æ¡£</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index-2.html" tppabs="https://docs.python.org/zh-cn/3/library/index.html" >Python æ ‡å‡†åº“</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="functional-1.html" tppabs="https://docs.python.org/zh-cn/3/library/functional.html" >å‡½æ•°å¼ç¼–ç¨‹æ¨¡å—</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="https://docs.python.org/zh-cn/3/search.html" method="get">
          <input placeholder="å¿«é€Ÿæœç´¢" type="text" name="q" />
          <input type="submit" value="è½¬å‘" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="copyright.html" tppabs="https://docs.python.org/zh-cn/3/copyright.html">ç‰ˆæƒæ‰€æœ‰</a> 2001-2020, Python Software Foundation.
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="javascript:if(confirm('https://www.python.org/psf/donations/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.python.org/psf/donations/'" tppabs="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    æœ€åæ›´æ–°äº 3æœˆ 26, 2020.
    <a href="javascript:if(confirm('https://docs.python.org/3/bugs.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://docs.python.org/3/bugs.html'" tppabs="https://docs.python.org/3/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="javascript:if(confirm('https://www.sphinx-doc.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.sphinx-doc.org/'" tppabs="https://www.sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>

  </body>
</html>